{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"end",
				"end\tend (ERB)"
			],
			[
				"ide",
				"identity_providers\tabc"
			],
			[
				"eachDat",
				"eachDayMethod\tabc"
			],
			[
				"diffe",
				"differenceInCalendarDays\tabc"
			]
		]
	},
	"buffers":
	[
		{
			"file": "/home/guhurak/Documents/back-end/config/routes.rb",
			"settings":
			{
				"buffer_size": 34151,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/views/admin/root.html.erb",
			"settings":
			{
				"buffer_size": 9358,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"contents": "class Admin::SteepleBoxesController < ApplicationController\n  def index\n    @result = HTTParty.get(\"https://steeple-box-dev.herokuapp.com/api/boxes\", body: {box_management_token: ENV[\"BOX_MANAGEMENT_TOKEN\"]})\n  end\n\n  def destroy\n    @id = params[:id]\n    HTTParty.delete(\"https://steeple-box-dev.herokuapp.com/api/boxes/#{params[:id]}\", body: {box_management_token: ENV[\"BOX_MANAGEMENT_TOKEN\"]})\n  end\n\n  def reboot\n    @id = params[:id]\n    HTTParty.post(\"https://steeple-box-dev.herokuapp.com/api/boxes/#{params[:id]}/reboot\", body: {box_management_token: ENV[\"BOX_MANAGEMENT_TOKEN\"]})\n  end\nend\n",
			"file": "/home/guhurak/Documents/back-end/app/controllers/admin/steeple_boxes_controller.rb",
			"file_size": 599,
			"file_write_time": 132543120953821404,
			"settings":
			{
				"buffer_size": 599,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"contents": "",
			"file": "/home/guhurak/Documents/back-end/app/views/admin/steeple_boxes/destroy.js.erb",
			"file_size": 0,
			"file_write_time": 132543120953821404,
			"settings":
			{
				"buffer_size": 0,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "Searching 4175 files for \"notification\"\n\n/home/guhurak/Documents/back-end/.git/config:\n   46  \tremote = origin\n   47  \tmerge = refs/heads/quick_fix_admin_tv\n   48: [branch \"notification_with_annonces\"]\n   49  \tremote = origin\n   50: \tmerge = refs/heads/notification_with_annonces\n   51  [branch \"bday-small-fixes\"]\n   52  \tremote = origin\n\n/home/guhurak/Documents/back-end/.git/FETCH_HEAD:\n   20  1556c23eeb83bba7a71346e9768bc1ea190a46f7\tnot-for-merge\tbranch 'missing_translations' of github.com:steeple-dev/back-end\n   21  650f7834da075fd0d3c49c50a44bbbf87ea5f57a\tnot-for-merge\tbranch 'modules-page' of github.com:steeple-dev/back-end\n   22: 5b9e1b0ba6b6248685a978fdbf223fbc2de105ac\tnot-for-merge\tbranch 'notifications-opti' of github.com:steeple-dev/back-end\n   23: 327a7171a052d3c1cb99a371e5aa690337567012\tnot-for-merge\tbranch 'notifications_update' of github.com:steeple-dev/back-end\n   24  1b8c62fca6ad8d02528535bf48f1ba34eec859d6\tnot-for-merge\tbranch 'quick_fix_admin_tv' of github.com:steeple-dev/back-end\n   25  e4ff763ed2005828cd30af3b6afc2541b2bd58dd\tnot-for-merge\tbranch 'refactor-sso' of github.com:steeple-dev/back-end\n\n/home/guhurak/Documents/back-end/.git/index:\n    <binary>\n\n/home/guhurak/Documents/back-end/.git/packed-refs:\n   21  1556c23eeb83bba7a71346e9768bc1ea190a46f7 refs/remotes/origin/missing_translations\n   22  696630d478206ae74cf626532ec51bd030ece128 refs/remotes/origin/new_campaign\n   23: 327a7171a052d3c1cb99a371e5aa690337567012 refs/remotes/origin/notifications_update\n   24  fe4c6fca0b9e8ed445d7fb03f91eb535c4187acf refs/remotes/origin/update-scim-response\n   25  bb29a07647a8dabb604c6aa93bf96789e6d9d1fd refs/remotes/origin/vue-image-opti\n\n/home/guhurak/Documents/back-end/.git/logs/HEAD:\n   67  a8f5679f5156799122a2723d92b00c2ce3124236 1b8c62fca6ad8d02528535bf48f1ba34eec859d6 florianeven* <florian.even@steeple.fr> 1603101958 +0200\tcommit: quick fix\n   68  1b8c62fca6ad8d02528535bf48f1ba34eec859d6 a8f5679f5156799122a2723d92b00c2ce3124236 florianeven* <florian.even@steeple.fr> 1603102195 +0200\tcheckout: moving from quick_fix_admin_tv to master\n   69: a8f5679f5156799122a2723d92b00c2ce3124236 a8f5679f5156799122a2723d92b00c2ce3124236 florianeven* <florian.even@steeple.fr> 1603198183 +0200\tcheckout: moving from master to notification_with_annonces\n   70  a8f5679f5156799122a2723d92b00c2ce3124236 22809782b326a2a0bd2478bf52533efa07a07179 florianeven* <florian.even@steeple.fr> 1603198195 +0200\tcommit: try something, need to test\n   71  22809782b326a2a0bd2478bf52533efa07a07179 da99032cd52ac642e2b8551b34e2d0078d848989 florianeven* <florian.even@steeple.fr> 1603198738 +0200\tcommit: better\n   72: da99032cd52ac642e2b8551b34e2d0078d848989 a8f5679f5156799122a2723d92b00c2ce3124236 florianeven* <florian.even@steeple.fr> 1603268716 +0200\tcheckout: moving from notification_with_annonces to master\n   73  a8f5679f5156799122a2723d92b00c2ce3124236 f7599715757c53ebd2a8ed1ef96bb49100754b12 florianeven* <florian.even@steeple.fr> 1603268750 +0200\tcheckout: moving from master to bday-small-fixes\n   74  f7599715757c53ebd2a8ed1ef96bb49100754b12 878ad640274121a445206cab337616bafd00fdda florianeven* <florian.even@steeple.fr> 1603437573 +0200\tcheckout: moving from bday-small-fixes to advent-calendar-checks\n   ..\n  100  f138777aae2353aa4db6ea6dde4f0d6dc4cb245a c212037f567c3b3da8ca6722f628b521ec7dcfee florianeven* <florian.even@steeple.fr> 1603898411 +0100\tcommit: add date sort\n  101  c212037f567c3b3da8ca6722f628b521ec7dcfee bc57f9b331bbd77b33327a6a902d4cfb6f54a442 florianeven* <florian.even@steeple.fr> 1603898629 +0100\tcommit: remove modifs in schema\n  102: bc57f9b331bbd77b33327a6a902d4cfb6f54a442 da99032cd52ac642e2b8551b34e2d0078d848989 florianeven* <florian.even@steeple.fr> 1603900110 +0100\tcheckout: moving from campaign_sorting to notification_with_annonces\n  103  da99032cd52ac642e2b8551b34e2d0078d848989 417b144dc7ac217ab0c4f96c275a09eba0e35574 florianeven* <florian.even@steeple.fr> 1603900770 +0100\tcommit: unscheduled annonces\n  104: 417b144dc7ac217ab0c4f96c275a09eba0e35574 f138777aae2353aa4db6ea6dde4f0d6dc4cb245a florianeven* <florian.even@steeple.fr> 1603982083 +0100\tcheckout: moving from notification_with_annonces to master\n  105  f138777aae2353aa4db6ea6dde4f0d6dc4cb245a f138777aae2353aa4db6ea6dde4f0d6dc4cb245a florianeven* <florian.even@steeple.fr> 1603982096 +0100\tcheckout: moving from master to repair_pigeons\n  106  f138777aae2353aa4db6ea6dde4f0d6dc4cb245a 5330b1bdc57f4b5b88eb0619960a56d8879078cf florianeven* <florian.even@steeple.fr> 1604072935 +0100\tcommit: save\n\n/home/guhurak/Documents/back-end/.git/objects/pack/pack-086f8e819b8f97733f32941665ddd8f61ff82420.pack:\n    File too large, skipping\n\n/home/guhurak/Documents/back-end/app/assets/stylesheets/web/notifications.scss:\n    1: .notification_unseen {\n    2    background-color: #e9f8ff;\n    3  }\n    4  \n    5: .see-all-notifications {\n    6    padding: 10px;\n    7    display: flex;\n    .\n   14  \n   15  @media (max-width: 576px) {\n   16:   .see-all-notifications {\n   17      background: #fff;\n   18    }\n\n/home/guhurak/Documents/back-end/app/channels/appearance_channel.rb:\n   25    end\n   26  \n   27:   def self.send_notification(log_socket_push)\n   28:     if log_socket_push.notification.targetable.online\n   29        broadcast_to(\n   30:         log_socket_push.notification.targetable,\n   31:         log_socket_push.notification.socket_payload.merge( open_this_url: log_socket_push.open_this_url )\n   32        )\n   33      end\n\n/home/guhurak/Documents/back-end/app/channels/v2/appearance_channel.rb:\n    9          last_msg && (!conv_user.msgs_seen_at || conv_user.msgs_seen_at < last_msg.created_at)\n   10        end.map(&:conv_id),\n   11:       unseenNotificationsCount: current_user.notifications.visible_in_main.where(seen: false).count\n   12      })\n   13    end\n\n/home/guhurak/Documents/back-end/app/controllers/annonces_controller.rb:\n  309          render 'errors'\n  310        end\n  311:       # pas besoin de faire send_the_notification\n  312      elsif @annonce.save\n  313        @annonce.reload # Il faut reload pour les albums photos askip\n\n/home/guhurak/Documents/back-end/app/controllers/application_controller.rb:\n   18    before_action :set_user_last_seen_at\n   19    before_action :set_things\n   20:   before_action :check_seen_notification\n   21    before_action :set_apm_context\n   22  \n   ..\n   79    end\n   80  \n   81:   def check_seen_notification\n   82:     if params[:notification_id] && current_user\n   83:       NotificationSeenJob.perform_later(params[:notification_id], current_user.id)\n   84      end\n   85    end\n\n/home/guhurak/Documents/back-end/app/controllers/bets_controller.rb:\n   41    end\n   42  \n   43:   # utilisé en particulier depuis la notification \"match_day_begins\" (mais bon, cette notification ne fonctionne pas.)\n   44    def index\n   45    end\n\n/home/guhurak/Documents/back-end/app/controllers/comments_controller.rb:\n   66      @comment.assign_attributes(comment_params.slice(:content, :image_id, :crawled_url_uuid))\n   67      if (@comment.content.present? || @comment.image.present?) and @comment.save!\n   68:       @comment.send_the_notification\n   69  \n   70        @comment.last_of_annonce&.touch\n\n/home/guhurak/Documents/back-end/app/controllers/communaute_access_requests_controller.rb:\n   23          password: Devise.friendly_token[0, 20]\n   24        )\n   25:       @user.skip_confirmation_notification!\n   26        @user.save\n   27      end\n   ..\n   31        unless c\n   32          c = @communaute_access_request.communaute.communaute_access_requests.create(user:@user)\n   33:         NotificationCreatorService.create(@user, 'communaute_access_request_sent_from_tv', c)\n   34        end\n   35      end\n\n/home/guhurak/Documents/back-end/app/controllers/communautes_controller.rb:\n  166  \n  167          # il faudrait bien refaire fonctionner le système de validation d'email, en attendant, je commente cette ligne.\n  168:         # Idéalement, il faudrait envoyer l'invitation obligatoirement par email et ne pas la montrer page /notifications si l'utilisateur n'a pas confirmé son email.\n  169          # Si il l'a confirmé, alors on peut effectivement se baser dessus.\n  170          # if current_user.confirmed_at.present?\n\n/home/guhurak/Documents/back-end/app/controllers/convs_controller.rb:\n   56        # we use the existing conversation\n   57        msg = MsgCreatorService.create(conv_user, msg_create_params)\n   58:       msg.send_the_notification\n   59  \n   60        @conv = conv_user.reload.conv\n   ..\n   66  \n   67        msg = MsgCreatorService.create(conv_user, msg_create_params)\n   68:       msg.send_the_notification\n   69        @conv.reload\n   70      end\n   ..\n  163      def create_info_msg_for_name(name)\n  164        info_msg = name.present? ? { action: 'convRenamed', conv_name: name } : { action: 'convNameRemoved' }\n  165:       @msg = @conv.conv_users.find_by(user: current_user).msgs.create(info_msg: info_msg, body: 'empty').send_the_notification\n  166      end\n  167  \n  168      def create_info_msg_for_new_member(user)\n  169:       @msg = @conv.conv_users.find_by(user: current_user).msgs.create(info_msg: { action: 'memberAdded', user_id: user.id, user_name: user.name }, body: 'empty').send_the_notification\n  170      end\n  171  \n\n/home/guhurak/Documents/back-end/app/controllers/log_socket_pushes_controller.rb:\n    3  \n    4    def show\n    5:     @log_socket_push = LogSocketPush.includes(:notification).where(notifications:{targetable:current_user}).find_by(id:params[:id])\n    6      if @log_socket_push\n    7        @log_socket_push.update(clicked_at:DateTime.now)\n    8:       redirect_to @log_socket_push.notification\n    9      else\n   10        redirect_to annonces_path\n\n/home/guhurak/Documents/back-end/app/controllers/msgs_controller.rb:\n   10  \n   11      @msg = MsgCreatorService.create(conv_user, msg_create_params)\n   12:     @msg.send_the_notification\n   13  \n   14      respond_to do |format|\n   ..\n   40  \n   41      @msg = conv_user.msgs.create(body: params[:body])\n   42:     @msg.send_the_notification\n   43    end\n   44  \n   ..\n   64    end\n   65  \n   66:   # plus utilisé ça si? Dans des notifications peut-être? à voir si ça raise\n   67    def show\n   68      fail 'e'\n\n/home/guhurak/Documents/back-end/app/controllers/notifications_controller.rb:\n    1: class NotificationsController < ApplicationController\n    2  \n    3    # à propos de ce except: :load =>\n    4:   #   On a eu des bugs avec des gens qui se sont retrouvés à faire un GET sur la page /notifications/load.json (je ne sais pas trop comment)\n    5    #   alors qu'ils n'étaient pas connectés. Et ça a activé le système de \"souvenir d'url\" donc ça les a redirigé vers cette page une fois login.\n    6    #   Donc soit il faut désactiver le système de redirection pour toutes les requêtes de type JSON (je ne sais pas trop où regarder)\n    .\n   10  \n   11    def index\n   12:     front_url(\"notifications\")\n   13      return if ENV[\"FRONT_URL\"]\n   14:     notifications = current_user.notifications.visible_in_main.order(created_at: :desc)\n   15:     set_page_and_extract_portion_from notifications\n   16  \n   17:     current_user.update(last_visit_on_notifications: DateTime.now)\n   18  \n   19:     # hack pour les ringing_sent, à voir si usage se reproduit pour d'autres notifications pour refactor.\n   20:     unseen_ringing_notifications = current_user.notifications.where(verb: 'ringing_sent', seen: false)\n   21:     if unseen_ringing_notifications.any?\n   22:       unseen_ringing_notifications.update_all(seen: true)\n   23:       current_user.add_to_cached_notifs(-unseen_ringing_notifications.size)\n   24      end\n   25  \n   ..\n   30  \n   31    def all\n   32:     @notifications = current_user.notifications.order(created_at: :desc).paginate(page: params[:page])\n   33  \n   34      render 'index'\n   ..\n   37    # from notifs socket et sur la page /notifs, donc uniquement visible: :steeple, :messagerie, :admin\n   38    def show\n   39:     @notification = Notification.find(params[:id])\n   40:     fail 'e' unless (@notification.targetable == current_user) || current_user.is_an_admin?\n   41  \n   42:     @notification.is_seen!\n   43  \n   44:     redirect_to @notification.path_to_open\n   45    end\n   46  \n   ..\n   59  \n   60    def see_all\n   61:     current_user.notifications.visible_in_main.where(seen: false).update_all(seen: true)\n   62      current_user.update(cached_nb_steeple_notifs: 0)\n   63    end\n\n/home/guhurak/Documents/back-end/app/controllers/organic_invites_controller.rb:\n   24      if ca.email.present? and ca.clicked_at.nil?\n   25        @organic_invite.save!\n   26:       NotificationCreatorService.create(ca.target, 'organic_invite_signup', @organic_invite)\n   27      end\n   28  \n\n/home/guhurak/Documents/back-end/app/controllers/restriction_tries_controller.rb:\n   20        @restriction_try.save!\n   21        @restriction_try.update(user: current_user) unless current_user.try(:tv)\n   22:       NotificationCreatorService.create(@restriction_try.target, 'restriction_try_sent', @restriction_try)\n   23      end\n   24    end\n\n/home/guhurak/Documents/back-end/app/controllers/ringings_controller.rb:\n   12        @rate_limit_reached = true\n   13      elsif @ringing.save\n   14:       NotificationCreatorService.create(@ringing.user, 'ringing_sent', @ringing)\n   15      end\n   16    end\n\n/home/guhurak/Documents/back-end/app/controllers/setting_preferences_controller.rb:\n   56          :like_given_on_your_comment,\n   57          :like_idea_given_on_your_idea,\n   58:         :notification_recap,\n   59          :mobile_conv_user_received,\n   60          :mobile_annonce_in_one_of_your_communaute,\n\n/home/guhurak/Documents/back-end/app/controllers/tvs_controller.rb:\n  137      @user = @tv.communaute.users.find_by(id:params[:user_id])\n  138      fail 'e' unless @user\n  139:     # Pourquoi on bypass le système de notification?\n  140:     NotificationMailer.tv_recover_password(@user.id).deliver_later\n  141    end\n  142  \n\n/home/guhurak/Documents/back-end/app/controllers/user_communautes_controller.rb:\n    8        @communaute.refresh_administrator_count\n    9  \n   10:       #  on cree la notification\n   11:       NotificationCreatorService.create(@user_communaute.user, 'user_communaute_is_now_administrator', @user_communaute)\n   12        respond_to do |format|\n   13          format.js { render 'update' }\n\n/home/guhurak/Documents/back-end/app/controllers/user_snoozes_controller.rb:\n    3  \n    4    def create\n    5:     @notification = current_user.notifications.find(params[:notification_id])\n    6  \n    7      user_snooze = current_user.user_snoozes.new(user_snooze_params)\n    .\n   10      user_snooze.save!\n   11  \n   12:     render 'notifications/refresh'\n   13    end\n   14  \n   15    def destroy\n   16:     @notification = current_user.notifications.find(params[:notification_id])\n   17  \n   18      current_user.user_snoozes.find(params[:id]).destroy\n   19  \n   20:     render 'notifications/refresh'\n   21    end\n   22  \n\n/home/guhurak/Documents/back-end/app/controllers/admin/batch_of_unseen_notifications_controller.rb:\n    1: class Admin::BatchOfUnseenNotificationsController < Admin::AdminController\n    2    def show\n    3:     @batch_of_unseen_notifications = BatchOfUnseenNotifications.find(params[:id])\n    4    end\n    5  end\n\n/home/guhurak/Documents/back-end/app/controllers/admin/log_recap_users_controller.rb:\n    2    def show\n    3      @log_recap_user = LogRecapUser.find(params[:id])\n    4:     # @auto_login_token = @log_recap_user.notification.log_emails.take.auto_login_token\n    5    end\n    6  end\n\n/home/guhurak/Documents/back-end/app/controllers/admin/notifications_controller.rb:\n    1: class Admin::NotificationsController < Admin::AdminController\n    2    def index\n    3:     @notifications = Notification.all\n    4  \n    5      if params[:user_id].present?\n    6:       @notifications = @notifications.where(targetable_type: 'User', targetable_id: params[:user_id])\n    7      elsif params[:communaute_id].present?\n    8        p Communaute.friendly.find(params[:communaute_id]).user_ids\n    9:       @notifications = @notifications.where(targetable_type:'User', targetable_id: Communaute.friendly.find(params[:communaute_id]).user_ids - [1826])\n   10      end\n   11  \n   12      if params[:verb].present?\n   13:       @notifications = @notifications.where(verb:params[:verb])\n   14      end\n   15  \n   16:     @notifications = @notifications.order(created_at: :desc).paginate(page: params[:page], per_page: 100)\n   17    end\n   18  \n   ..\n   21  \n   22    def visible_steeple\n   23:     @notifications = Notification.order(created_at: :desc).visible_in_main.paginate(page: params[:page], per_page: 100)\n   24      render 'index'\n   25    end\n   26  \n   27    def doubles\n   28:     @notifications_doubles = Notification.where('log_emails_count > 1')\n   29:     @notifications_doubles = @notifications_doubles.order(created_at: :desc).paginate(page: params[:page], per_page: 100)\n   30    end\n   31  \n   32    def lasts\n   33:     @verb_to_notifications = NotificationTypes.visible_main_verbs.map { |v| [v, Notification.where(verb: v).take ] }.to_h\n   34    end\n   35  end\n\n/home/guhurak/Documents/back-end/app/controllers/admin/pigeon_lofts_controller.rb:\n  143  \n  144      def pigeon_loft_params\n  145:       base_params = params.require(:pigeon_loft).permit(:pigeon_type, :annonce_clonable, :start_at, :end_at, :send_notification, :only_administrators_can_see, :store_link, :external_link, :modul_id)\n  146        template_id = params[:template_id]\n  147        config = case base_params[:pigeon_type] || @pigeon_loft.pigeon_type\n  ...\n  170          end_at: base_params[:end_at],\n  171          only_administrators_can_see: base_params[:only_administrators_can_see] || @pigeon_loft.only_administrators_can_see,\n  172:         send_notification: base_params[:send_notification] || @pigeon_loft.send_notification,\n  173          external_link: base_params[:external_link],\n  174          store_link: base_params[:store_link] || false,\n\n/home/guhurak/Documents/back-end/app/controllers/admin/support_chats_controller.rb:\n    4  \n    5    def index\n    6:     current_user.notifications.where(seen:false, verb:'support_msg_sent_to_admin').update_all(seen:true)\n    7      if params[:communaute_id]\n    8        @support_chats = Communaute.find(params[:communaute_id]).support_chats\n\n/home/guhurak/Documents/back-end/app/controllers/admin/users_controller.rb:\n    3      @user = User.find(params[:id])\n    4      @session_stats = @user.session_stats.order(created_at: :desc).limit(10)\n    5:     @notifications = @user.notifications.order(created_at: :desc).limit(10)\n    6    end\n    7  \n    .\n   11    end\n   12  \n   13:   def notifications\n   14      @user = User.find(params[:id])\n   15:     @notifications = @user.notifications.order(created_at: :desc).paginate(per_page:40, page:params[:page])\n   16    end\n   17    def app\n\n/home/guhurak/Documents/back-end/app/controllers/administration/communaute_access_requests_controller.rb:\n    3  \n    4    def index\n    5:     unseen_notifications = current_user.notifications.where(seen:false, verb:'communaute_access_request_sent_to_administrator', notifiable_id:@communaute.communaute_access_requests.pluck(:id))\n    6:     if unseen_notifications.any?\n    7:       unseen_notifications.update_all(seen:true)\n    8:       current_user.add_to_cached_notifs(-unseen_notifications.size)\n    9      end\n   10  \n\n/home/guhurak/Documents/back-end/app/controllers/administration/custom_modules_controller.rb:\n  137  \n  138      def suggestions_params\n  139:       params.require(:custom_module).permit(:receive_suggestions, :receive_suggestion_notifications)\n  140      end\n  141  \n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/comments_controller.rb:\n   11  \n   12      if comment.save\n   13:       comment.send_the_notification\n   14        comment.annonce.update(last_comment: comment)\n   15        comment.annonce.communautes.each { |communaute| V2::UpdateLastTopContributorJob.perform_later(communaute.id) }\n   ..\n   33  \n   34      if comment.save\n   35:       comment.send_the_notification\n   36        comment.annonce.touch\n   37        comment.annonce.communautes.each { |communaute| V2::UpdateLastTopContributorJob.perform_later(communaute.id) }\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/communautes_controller.rb:\n  160          restriction_try.validate_access\n  161        else\n  162:         NotificationCreatorService.create(restriction_try.target, 'restriction_try_sent', restriction_try)\n  163        end\n  164      when \"loyaltyCard\"\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/conversations_controller.rb:\n   44      SecurityService.set_media(message, params[:message][:media]) if params[:message][:media].present?\n   45  \n   46:     message.save! and message.send_the_notification\n   47  \n   48      render json: conv.id\n   ..\n   56        name = params[:name]\n   57        @conv.update(name: name.presence)\n   58:       @conv_user.msgs.create(info_msg: name.present? ? { action: 'convRenamed', conv_name: name } : { action: 'convNameRemoved' }, body: 'empty').send_the_notification\n   59      end\n   60  \n   ..\n   92        if !(conv_user.persisted? && conv_user.active)\n   93          conv_user.update(active: true)\n   94:         @conv_user.msgs.create(info_msg: { action: 'memberAdded', user_id: user.id, user_name: user.name }, body: 'empty').send_the_notification\n   95          added_members << conv_user\n   96        end\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/messages_controller.rb:\n   34      SecurityService.set_media(message, params[:media]) if params[:media].present?\n   35  \n   36:     message.save! and message.send_the_notification\n   37  \n   38      render json: @mapper.message(message)\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/notifications_controller.rb:\n    1: class Api::V1::NotificationsController < Api::V1::ApplicationController\n    2    def index\n    3:     notifications = current_user.notifications.visible_in_main.includes(notifiable: [:annonce, :comment, :communaute, :mentionnable]).order(created_at: :desc)\n    4  \n    5:     notifications = notifications.offset(params[:offset].to_i) if params[:offset]\n    6:     notifications = notifications.first(params[:count].to_i) if params[:count]\n    7  \n    8:     notifications = notifications.map { |notification| @mapper.notification(notification) }\n    9  \n   10:     render json: notifications\n   11    end\n   12  \n   13    def mark_seen\n   14:     current_user.notifications.visible_in_main.find(params[:id]).update(seen: true)\n   15  \n   16      head :ok\n   ..\n   18  \n   19    def mark_all_seen\n   20:     current_user.notifications.visible_in_main.update_all(seen: true)\n   21  \n   22      head :ok\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/settings_controller.rb:\n    3      settings = current_user.setting_preference\n    4      wcw = current_user.setting_preference.work_can_wait\n    5:     email_settings = notification_types.map { |type|\n    6        [type.camelize(:lower), settings[type.to_sym]]\n    7      }.to_h.merge(snoozedBoardIds: settings.snoozed_boards_ids)\n    8  \n    9:     mobile_settings = notification_types.map { |type|\n   10        [type.camelize(:lower), settings[\"mobile_#{type}\".to_sym]]\n   11      }.to_h.merge(snoozedBoardIds: settings.mobile_snoozed_boards_ids)\n   ..\n   13      render json: {\n   14        hasDigitCode: TvPin.exists?(user: current_user),\n   15:       notifications: {\n   16:         recapFrequency: settings.notification_recap,\n   17          emails: email_settings,\n   18          mobile: mobile_settings,\n   ..\n   31    def update\n   32      settings = current_user.setting_preference\n   33:     notificationsParams = params.permit![:notifications]\n   34  \n   35:     if notificationsParams\n   36:       settings.notification_recap = notificationsParams[:recapFrequency].to_i if notificationsParams[:recapFrequency].to_i.in? [0, 1, 2]\n   37:       settings.mobile_snoozed_boards_ids = notificationsParams[:mobile][:snoozedBoardIds] || settings.mobile_snoozed_boards_ids\n   38:       settings.snoozed_boards_ids = notificationsParams[:emails][:snoozedBoardIds] || settings.snoozed_boards_ids\n   39  \n   40:       notification_types.each do |type|\n   41:         settings[type.to_sym] = notificationsParams[:emails][type.camelize(:lower)]\n   42:         settings[\"mobile_#{type}\".to_sym] = notificationsParams[:mobile][type.camelize(:lower)]\n   43        end\n   44:       if notificationsParams[:workCanWait]\n   45          wcw = WorkCanWait.find_or_initialize_by(setting_preference: current_user.setting_preference)\n   46          week_days.each do |day|\n   47:           wcw[day] = notificationsParams[:workCanWait][:days][day]\n   48          end\n   49:         wcw.begin_hour = notificationsParams[:workCanWait][:hours][:start]\n   50:         wcw.end_hour = notificationsParams[:workCanWait][:hours][:end]\n   51          wcw.save\n   52        else\n   ..\n   66  \n   67    private\n   68:     def notification_types\n   69        [\n   70          'comment_posted_on_your_post',\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/tvs_controller.rb:\n   52    def recover_password\n   53      user = current_user.tv.communaute.users.find(params[:userId])\n   54:     NotificationMailer.tv_recover_password(user.id).deliver_later\n   55      head :ok\n   56    end\n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/mapper/mapper.rb:\n    3    include Api::V1::Mapper::Messaging\n    4    include Api::V1::Mapper::Modules\n    5:   include Api::V1::Mapper::Notifications\n    6    include Api::V1::Mapper::RecentActivities\n    7  \n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/mapper/notifications.rb:\n    1: module Api::V1::Mapper::Notifications\n    2:   def notification(notification)\n    3      res = {\n    4:       _type: 'Notification',\n    5:       id: notification.id,\n    6:       createdAt: notification.created_at,\n    7:       seen: notification.seen,\n    8:       type: notification.verb,\n    9:       hidden: !notification.notifiable\n   10      }\n   11  \n   ..\n   14      data = {}\n   15  \n   16:     case notification.verb\n   17      when 'comment_idea_posted_on_your_idea'\n   18:       data[:userId] = notification.notifiable.user_id\n   19:       data[:ideaTitle] = notification.notifiable.idea.title\n   20:       data[:commentContent] = notification.notifiable.content\n   21      when 'comment_posted_on_your_post', 'comment_also_posted_on_this_post'\n   22:       data[:userId] = notification.notifiable.user_id\n   23:       data[:postId] = notification.notifiable.annonce_id\n   24:       data[:postTitle] = notification.notifiable.annonce.title\n   25:       data[:commentContent] = Compatibility.no_html(notification.notifiable.content)\n   26      when 'communaute_access_mailed_to_you'\n   27:       data[:accessId] = notification.notifiable_id\n   28:       data[:accessToken] = notification.notifiable.token\n   29:       data[:communityName] = notification.notifiable.communaute.name\n   30      when 'communaute_access_request_granted', 'communaute_access_request_rejected', 'communaute_access_request_sent_to_administrator'\n   31:       data[:communityId] = notification.notifiable.communaute_id\n   32:       data[:communityName] = notification.notifiable.communaute.name\n   33      when 'communaute_reminder_three_days_without_posts', 'communaute_reminder_one_week_without_posts', 'communaute_reminder_two_weeks_without_posts'\n   34:       data[:communityId] = notification.notifiable_id\n   35:       data[:communityName] = notification.notifiable.name\n   36      when 'custom_module_countdown_finished', 'custom_module_countdown_one_day_before', 'custom_module_countdown_seven_days_before'\n   37:       data[:countdownName] = notification.notifiable.primary_text\n   38      when 'custom_module_counter_new_record'\n   39:       data[:counterName] = notification.data['name'].presence || 'Compteur'\n   40:       data[:newRecord] = notification.data['count']\n   41      when 'custom_module_seniority_added'\n   42:       data[:communityId] = notification.notifiable.communaute_id\n   43:       data[:communityName] = notification.notifiable.communaute.name\n   44      when 'custom_module_work_accident_counter_new_record'\n   45:       data[:newRecord] = notification.data['count']\n   46      when 'like_given_on_your_comment'\n   47:       data[:userId] = notification.notifiable.user_id\n   48:       data[:postId] = notification.notifiable.comment.annonce_id\n   49:       data[:commentContent] = Compatibility.no_html(notification.notifiable.comment.content)\n   50      when 'like_idea_given_on_your_idea'\n   51:       data[:userId] = notification.notifiable.user_id\n   52:       data[:ideaTitle] = notification.notifiable.idea.title\n   53      when 'like_given_on_your_post'\n   54:       data[:userId] = notification.notifiable.user_id\n   55:       data[:postId] = notification.notifiable.annonce_id\n   56:       data[:postTitle] = notification.notifiable.annonce.title\n   57      when 'match_day_begins', 'match_day_results'\n   58:       data[:day] = notification.notifiable.match_day_ref\n   59      when 'mention_in_annonce_description'\n   60:       data[:userId] = notification.notifiable.mentionnable.user_id\n   61:       data[:postId] = notification.notifiable.mentionnable.id\n   62:       data[:postTitle] = notification.notifiable.mentionnable.title\n   63      when 'mention_in_comment'\n   64:       data[:userId] = notification.notifiable.mentionnable.user_id\n   65:       data[:postId] = notification.notifiable.mentionnable.annonce_id\n   66:       data[:commentContent] = Compatibility.no_html(notification.notifiable.mentionnable.content)\n   67      when 'organic_invite_signup'\n   68:       data[:userName] = notification.notifiable.user_communaute.user.name\n   69:       data[:communityId] = notification.notifiable.communaute_access.communaute_id\n   70:       data[:communityName] = notification.notifiable.communaute_access.communaute.name\n   71      when 'pigeon_loft_sent'\n   72:       data[:doveId] = notification.notifiable_id\n   73:       data[:doveTitle] = notification.notifiable.title\n   74:       data[:doveContent] = notification.notifiable.body\n   75      when 'poll_has_new_votes'\n   76:       data[:postId] = notification.notifiable.annonce.id\n   77:       data[:votesCount] = notification.notifiable.locked_votes_count\n   78      when 'restriction_try_validated'\n   79:       data[:communityId] = notification.notifiable.restriction.communaute_id\n   80:       data[:communityName] = notification.notifiable.restriction.communaute.name\n   81      when 'user_communaute_is_now_administrator'\n   82:       data[:communityName] = notification.notifiable.communaute.name\n   83      when 'user_communaute_mentored_you'\n   84:       data[:userName] = notification.notifiable.user.name\n   85:       data[:communityId] = notification.notifiable.communaute_id\n   86:       data[:communityName] = notification.notifiable.communaute.name\n   87      end\n   88  \n\n/home/guhurak/Documents/back-end/app/controllers/api/v1/modules/ringings_controller.rb:\n   10      elsif ringing.save\n   11        rate_limit_reached = false\n   12:       NotificationCreatorService.create(ringing.user, 'ringing_sent', ringing)\n   13      end\n   14  \n\n/home/guhurak/Documents/back-end/app/helpers/notification_helper.rb:\n    1: module NotificationHelper\n    2:   def url_and_remote_for_notification(notification)\n    3:     if notification&.relative_annonce&.id\n    4:       [annonce_path(notification.relative_annonce.id, { notification_id: notification.id }), false]\n    5:     elsif notification.notifiable_type.in? ['Idea', 'LikeIdea', 'CommentIdea']\n    6:       [notification.path_to_open, !@current_device.mobile]\n    7      else\n    8:       [notification.path_to_open, false]\n    9      end\n   10    end\n\n/home/guhurak/Documents/back-end/app/javascript/browser_features.js:\n    3  // - visibilityApiAvailable, à utiliser avec visibleTab\n    4  // - cookieApiEnabled\n    5: // - notificationApiEnabled\n    6  // (- mouseFeatureEnabled supprimée car pas utilisée.)\n    7  // on le met après //= require jquery car on utiliser getJSON\n    .\n   25  // }, false);\n   26  \n   27: // https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API\n   28  // https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\n   29  \n   ..\n   52      visibleTab = true\n   53      if (urlToCallWhenBackOnTab) {\n   54:       // notificationSeen, ne concerne que msg_received pour le moment.\n   55        $.getJSON(urlToCallWhenBackOnTab)\n   56        urlToCallWhenBackOnTab = undefined\n   ..\n   64  \n   65  window.cookieApiEnabled = navigator.cookieEnabled\n   66: window.notificationApiEnabled = ('Notification' in window)\n   67  \n\n/home/guhurak/Documents/back-end/app/javascript/translation.js:\n    9          'communautes_form': {\n   10            'classic': {\n   11:             'administrator_validation': 'Enable access requests. (Users will be able to send a request for access to the community, this will send a notification each time to the administrators, who will be able to authorize or not the access.)'\n   12            },\n   13            'restriction': {\n   14:             'administrator_validation': 'Enable access requests. This will mean that users will have access to a button \\'Request access without going through email validation\\', which allows to send a request for access by notification to administrators. If an administrator accepts then the pesonne will have access without going through the email validation system in @company.com.'\n   15            }\n   16          },\n   ..\n   31          'one_vote': '1 vote',\n   32          'many_votes': ' votes',\n   33:         'web_notif_exemple': 'Web notification exemple !',\n   34          'text_exemple': 'Text exemple',\n   35          'an_error_occured': 'An error as occured',\n   ..\n  128          'communautes_form': {\n  129            'classic': {\n  130:             'administrator_validation': 'Activer les demandes d\\'accès. (les utilisateurs pourront envoyer une demande d\\'accès à la communauté, cela enverra une notification à chaque fois aux administrateurs, qui pourront autoriser ou non l\\'accès.)'\n  131            },\n  132            'restriction': {\n  133:             'administrator_validation': 'Activer les demandes d\\'accès. Cela voudra dire que les utilisateurs auront accès à un bouton \\'Demander un accès sans passer par la validation email\\', qui permet d\\'envoyer une demande d\\'accès par notification aux administrateurs. Si un administrateur accepte alors la pesonne aura un accès sans passer par le système de validation d\\'email en @entreprise.fr.'\n  134            }\n  135          },\n  ...\n  150          'one_vote': '1 vote',\n  151          'many_votes': ' votes',\n  152:         'web_notif_exemple': 'Exemple de notification Web !',\n  153          'text_exemple': 'Exemple de texte',\n  154          'an_error_occured': \"Une erreur s'est produite\",\n\n/home/guhurak/Documents/back-end/app/javascript/global/bridge_web_to_app.js:\n   43  // \"dismiss-and-back-to-accueil\"               -> demande à l'app de dismiss et de revenir à l'accueil\n   44  // \"logout\"                                    -> demande à l'app de logout (en particulier pour logout facebook également)\n   45: // \"notif-values:2:1:1510327017\"               -> demande à l'app de mettre à jour les badges notifications\n   46  // \"sign-in-page\"                              -> demande à l'app d'ouvrir la modale de login.\n   47  window.sendMessageToApp = function (message) {\n   ..\n   76  // fonction peut-être à utiliser en desktop aussi\n   77  // function update_notif_badges(){\n   78: //   if ($('#notifications-data').length > 0) {\n   79  //     \"notif-values:\" + badge_main + \":\" + badge_messagerie + \":\" + notif_timestamp\n   80  //     // bridgeUpdateNotifBadges(\n   81: //     //   parseInt($('#notifications-data').data('nb-steeple-notifs')),\n   82: //     //   parseInt($('#notifications-data').data('nb-messagerie-notifs')),\n   83: //     //   parseInt($('#notifications-data').data('notif-timestamp'))\n   84  //     // );\n   85  //   }\n\n/home/guhurak/Documents/back-end/app/javascript/global/cable.js:\n    7  //   2 - AppearanceChannel :\n    8  // on s'en sert pour bien gérer le statut \"online\" (via la méthode user.ping -> on reçoit ack si il est bien en ligne, et sinon on le considère hors-ligne.)\n    9: // on s'en sert aussi pour envoyer les notifications (mise à jour points rouges messagerie / support / notifications, montrer aussi les notifications web si l'utilisateur a accepté)\n   10  // on connect() / disconnect() quand la personne se déconnecte / connecte car current_user est défini à la connexion\n   11  \n\n/home/guhurak/Documents/back-end/app/javascript/global/each_load.js:\n  695    PositionAllSidebars()\n  696  \n  697:   $('.notifications-data-to-fill').each(function () {\n  698:     $(this).removeClass('notifications-data-to-fill')\n  699  \n  700:     $.getJSON('/notifications/load.json', function (notificationPayload) {\n  701:       updateRedDots(notificationPayload.redDotsData)\n  702:       if (notificationPayload.mobileAppMessage) {\n  703:         sendMessageToApp(notificationPayload.mobileAppMessage)\n  704        }\n  705      })\n\n/home/guhurak/Documents/back-end/app/javascript/global/periodic_check.js:\n  163        // if (data.notifs_count) {\n  164        //\n  165:       //   $(\"#notifications-data\").data('nb-steeple-notifs', data.notifs_count.nb_steeple_notifs);\n  166:       //   $(\"#notifications-data\").data('nb-messagerie-notifs', data.notifs_count.nb_messagerie_notifs);\n  167        //\n  168        // }\n\n/home/guhurak/Documents/back-end/app/javascript/global/channels/appearance.js:\n   16  }\n   17  \n   18: // Suite à divers soucis, j'ai revu comment fonctionne l'envoi de notification en temps réel :\n   19: // Quand on reçoit une notification via websocket, plusieurs choses PEUVENT se passer, plus ou moins indépendantes les unes des autres :\n   20: // -> Affichage de la modale permission (voir \"web-notification-permission\" => le texte est un peu fake, c'est pas vraiment la fonctionnalité temps réel qui s'active ici) (pas sur application native ios/android/chrome)\n   21: // -> Affichage d'une notification WEB (qui s'ouvre sur le côté du navigateur) (pas sur application native ios/android/chrome)\n   22: // -> Mise à jour des petits points rouges (se fait aussi sur app native ios / android mais bon on le fait aussi en même temps dans le payload de la notification native donc je sais pas)\n   23: // -> appel à une fonction socket notificationSeen, si on voit que l'utilisateur a vu la notif\n   24  \n   25  // Algorithme en français:\n   26: // 1 - (modale permission?) Si une notification est reçue, quoiqu'il arrive on demande la permission des notifications web (sauf si déjà acceptée ou déjà refusée et on attend également que l'utilisateur a fini la dernière etape du tunnel).\n   27: //   - (notification web?) Si on a le droit aux notifications web ET que l'onglet steeple n'est PAS au premier plan, alors on lui montre la notification web. si pas d'api visibilité, vaut mieux ne pas montrer.\n   28: // 2 - (mise à jour des petits points rouges?) On met à jour les petits points rouges SAUF si on est sur la page où on verra directement le résultat de la notification. Exemple :\n   29  //     -> si on est sur une page conversation, et qu'on reçoit un message dans la conversation, on va juste intégrer le message dans la conversation, on ne va pas mettre un petit '+1' dans les notifs !\n   30: // 3 - (appel socket notification-seen?) Dans le cas du (3), on appel notification-seen directement, ce qui montre que l'utilisateur a vu la notif.\n   31  //    - Il faudrait également l'appeler lorsqu'à la base on est dans le cas numéro 3, mais que la page n'est pas au premier plan, alors dès que l'utilisateur remet la page au premier plan, il faudrait appeler \"seen\"...\n   32  \n   33  // Algorithme en pseudo-code :\n   34: // function newNotif(notificationPayload) {\n   35: //   I - doit-on montrer la notification Web ou la demande de permission notification Web?\n   36: //   if ( userTunnelDone() && notificationApiEnabled && cookieApiEnabled && visibilityApiAvailable) {\n   37  //     (à voir si il y a un moyen de savoir si l'utilisateur a accepté ou refusé la notif permission sans avoir à stocker un cookie?)\n   38  //     if (Cookie('notif-permission') == undefined) {\n   39: //       -> $('#web-notification-permission').modal('show');\n   40  //       -> si il clique sur 'non', on met Cookie('notif-permission') = 'non-merci'\n   41  //       -> si il clique sur 'oui', on met Cookie('notif-permission') = 'granted', on montre la notif web même si l'onglet est ouvert (histoire de lui montrer à quoi ça ressemble)\n   42  //     } else if (ongletHidden && Cookie('notif-permission') == 'granted') {\n   43: //       -> on show la notification Web\n   44  //     }\n   45  //   }\n   46: //   II - est-ce qu'on met à jour les petits points rouges? est-ce qu'on appelle notificationSeen?\n   47: //   if ($(notificationPayload.doNotShowRedPointsIfElem).length > 0) {\n   48  //     donc là on est pil poil sur la page, donc pas la peine de mettre à jour les petits points, par contre\n   49  //     if (VisibilityApiAvailable && ongletHidden) {\n   50: //       on va attendre que l'utilisateur se rende sur l'onglet pour appeler directement notificationSeen()\n   51  //     } else {\n   52: //       on appelle directement notificationSeen.\n   53  //     }\n   54  //   } else {\n   55: //     on met à jour les petits points rouges, on pourrait même faire une petite notification comme bouger la cloche ou autre.\n   56  //   }\n   57  // }\n   ..\n   59  // };\n   60  \n   61: // note sur Cookie('notif-permission') => ça concerne uniquement la notification WEB, sous forme de préférence de navigateur. Ça n'empêche pas la mise à jour des petits ronds rouges etc.\n   62  \n   63  window.userTunnelDone = function () {\n   ..\n   65  }\n   66  \n   67: window.newNotif = function (notificationPayload) {\n   68:   //   I - doit-on montrer la notification Web / la demande de permission notification Web?\n   69:   if (userTunnelDone() && notificationApiEnabled && cookieApiEnabled && visibilityApiAvailable && !(Cookies.get('notif-permission') === 'non-merci')) {\n   70:     // on montre la notification si granted, et qu'il n'y a pas notif-permission == 'non-merci', et que l'onglet n'est pas visible.\n   71:     if ((Notification.permission === 'granted') && !visibleTab) {\n   72        // ok on montre\n   73:       const notification = new Notification(notificationPayload.title, {\n   74          lang: document.documentElement.lang,\n   75:         body: notificationPayload.body,\n   76:         icon: notificationPayload.icon,\n   77:         tag: notificationPayload.tag\n   78        })\n   79:       setTimeout(notification.close.bind(notification), 7000)\n   80:       const openThisUrl = notificationPayload.open_this_url\n   81        if (openThisUrl) {\n   82:         notification.onclick = function (event) {\n   83            event.preventDefault()\n   84            window.open(openThisUrl, '_blank')\n   85          }\n   86        }\n   87:     } else if (Notification.permission === 'default') {\n   88:       // on montre la modale de demande de permission aux notifications web. (sauf si il y a déjà une modale ouverte)\n   89        if ($('#main-modal-dialog-container.show').length === 0) {\n   90:         $.getScript('/settings/webnotif?' + $.param({ title: notificationPayload.title }))\n   91        }\n   92      }\n   93    }\n   94  \n   95:   //   II - est-ce qu'on met à jour les petits points rouges? est-ce qu'on appelle notificationSeen?\n   96:   if (notificationPayload.doNotShowRedPointsIfElem && $(notificationPayload.doNotShowRedPointsIfElem).length > 0) {\n   97      // on ne met pas à jour les petits points rouges, la notif est directement visible par l'utilisateur, il est devant l'écran\n   98      if (visibilityApiAvailable && !visibleTab) {\n   99        // il n'est pas sur l'onglet, dès qu'il réouvre l'onglet, on appelle la méthode à appeler par contre.\n  100:       urlToCallWhenBackOnTab = notificationPayload.seenPath\n  101:       // pour info il va recevoir la notification web en partie I, c'est décorellé.\n  102:       // $.getJSON(notificationPayload.seenPath);\n  103      } else {\n  104        // console.log(\"l'utilisateur est devant la notif donc on considère qu'elle est seen\");\n  105:       $.getJSON(notificationPayload.seenPath)\n  106      }\n  107    } else {\n  108:     updateRedDots(notificationPayload)\n  109    }\n  110  }\n  111  \n  112: window.updateRedDots = (userNotificationsPayload) => {\n  113:   const notificationsData = document.getElementById('notifications-data').dataset\n  114:   notificationsData.nbSteepleNotifs = userNotificationsPayload.nb_steeple_notifs\n  115:   notificationsData.nbMessagerieNotifs = userNotificationsPayload.nb_messagerie_notifs\n  116:   notificationsData.nbAdminNotifs = userNotificationsPayload.nb_admin_notifs\n  117  }\n  118  \n  119  $(document).on('turbolinks:load', function () {\n  120    urlToCallWhenBackOnTab = undefined\n  121:   if (notificationApiEnabled) {\n  122:     $('.show-if-notification-api-available').show()\n  123:     updateWebNotificationButtons()\n  124    }\n  125  })\n  126  \n  127: window.updateWebNotificationButtons = function () {\n  128:   if ($('.notification-api-setting').length > 0) {\n  129:     $('.notification-api-setting').hide()\n  130  \n  131:     if (Notification.permission === 'granted') {\n  132        if (Cookies.get('notif-permission') === 'non-merci') {\n  133:         $('.notification-api-show-if-granted-and-no-thanks').show()\n  134        } else {\n  135:         $('.notification-api-show-if-granted').show()\n  136        }\n  137:     } else if (Notification.permission === 'default') {\n  138:       $('.notification-api-show-if-default').show()\n  139:     } else if (Notification.permission === 'denied') {\n  140:       $('.notification-api-show-if-denied').show()\n  141      } else {\n  142        // bizarre\n  143:       $('.show-if-notification-api-available').hide()\n  144      }\n  145    }\n  ...\n  155  \n  156  window.showSampleWebNotif = function () {\n  157:   const notification = new Notification(i18next.t('web_notif_exemple'), {\n  158      lang: document.documentElement.lang,\n  159      body: i18next.t('text_exemple'),\n  ...\n  161      tag: 'sample-web-notif'\n  162    })\n  163:   setTimeout(notification.close.bind(notification), 3000)\n  164  }\n  165  \n  166: $(document).on('click', '.notification-api-ask-permission', function () {\n  167:   Notification.requestPermission(function (permission) {\n  168:     // If the user accepts, let's create a notification\n  169      if (permission === 'granted') {\n  170        showSampleWebNotif()\n  171      }\n  172      hideMainModalIfShow()\n  173:     updateWebNotificationButtons()\n  174    })\n  175  })\n  176  \n  177: $(document).on('click', '.notification-api-set-no-thanks', function () {\n  178    Cookies.set('notif-permission', 'non-merci')\n  179    hideMainModalIfShow()\n  180:   updateWebNotificationButtons()\n  181  })\n  182  \n  183: $(document).on('click', '.notification-api-remove-no-thanks', function () {\n  184    Cookies.remove('notif-permission')\n  185:   updateWebNotificationButtons()\n  186  })\n  187  \n\n/home/guhurak/Documents/back-end/app/javascript/global/channels/msgs.js:\n    3      received (data) {\n    4        if (data.msgId) {\n    5:         // ce n'est pas ici qu'on trigger les \"msgs_seen\", c'est via le système de notification (voir urlToCallWhenBackOnTab)\n    6          newMsg(data.msgId, data.convId, data.msgHtml, data.convPreviewHtml)\n    7        }\n\n/home/guhurak/Documents/back-end/app/javascript/web/settings.js:\n   18  })\n   19  \n   20: // notifications_schedule (cf \"_notifications_schedule.html.erb\")\n   21  $(document).on('change', '.list-day-elem', function () {\n   22    $(this).toggleClass('btn-light btn-secondary')\n\n/home/guhurak/Documents/back-end/app/jobs/comment_send_job.rb:\n    3    def perform(comment_id)\n    4      if (comment = Comment.find_by(id: comment_id)) and comment.annonce.present?\n    5:       comment.send_the_notification\n    6        comment.annonce.communautes.each { |c| V2::UpdateLastTopContributorJob.perform_later(c.id) }\n    7      end\n\n/home/guhurak/Documents/back-end/app/jobs/countdown_notify_job.rb:\n    5      return unless custom_module.datetime.to_i == timestamp && custom_module.params['notify_progress'].present?\n    6      custom_module.communaute.users.each do |user|\n    7:       NotificationCreatorService.create(user, verb, custom_module)\n    8      end\n    9    end\n\n/home/guhurak/Documents/back-end/app/jobs/notification_seen_job.rb:\n    1: class NotificationSeenJob < ApplicationJob\n    2:   def perform(notification_id, user_id)\n    3:     Notification.find_by(id: notification_id, targetable_type: 'User', targetable_id: user_id)&.is_seen!\n    4    end\n    5  end\n\n/home/guhurak/Documents/back-end/app/jobs/notifications_destroyer_job.rb:\n    1: class NotificationsDestroyerJob < ApplicationJob\n    2    queue_as :data_computing\n    3  \n    4    def perform\n    5:     Notification.where(\"created_at < ?\", DateTime.now - 3.month).select(:id).find_in_batches(batch_size: 1000) do |ids|\n    6:       Notification.where(id: ids).destroy_all\n    7      end\n    8    end\n\n/home/guhurak/Documents/back-end/app/jobs/poll_check_votes_and_notify_job.rb:\n    4    def perform(poll)\n    5      if poll.locked_votes_count != poll.votes.count\n    6:       poll.notifications.destroy_all # Destroy old notifications with old counts\n    7        poll.update(locked_votes_count: poll.votes.count)\n    8        if poll.locked_votes_count > 0\n    9:         NotificationCreatorService.create(poll.annonce.user, 'poll_has_new_votes', poll)\n   10        end\n   11      end\n\n/home/guhurak/Documents/back-end/app/jobs/refresh_monitoring_data_job.rb:\n    3      data = [\n    4        {\n    5:         name: 'Notifications',\n    6          data: {\n    7:           number_of_notifications_with_2_emails: {\n    8:             value: number_of_notifications_with_2_emails,\n    9:             text: \"#{I18n.t('monitoring_data_job.notifications')} #{number_of_notifications_with_2_emails}\",\n   10:             text_color: number_of_notifications_with_2_emails > 0 ? 'red' : 'green'\n   11            }\n   12          }\n   ..\n   39  \n   40    private\n   41:     def number_of_notifications_with_2_emails\n   42:       @number_of_notifications_with_2_emails ||= Notification.where('created_at > ?', 7.days.ago).where('log_emails_count > ?', 1).size\n   43      end\n   44  end\n\n/home/guhurak/Documents/back-end/app/jobs/send_pigeon_notification_job.rb:\n    1: class SendPigeonNotificationJob < ApplicationJob\n    2    def perform(pigeon_id, date)\n    3      Pigeon.find_by(id: pigeon_id, start_at: date)&.notify\n\n/home/guhurak/Documents/back-end/app/jobs/send_today_recap_job.rb:\n   10      log_recap_daily = LogRecap.create(\n   11        number_of_days_ago:1,\n   12:       notification_recaps:[2]\n   13      )\n   14  \n   ..\n   18        log_recap_weekly = LogRecap.create(\n   19          number_of_days_ago:7,\n   20:         notification_recaps:[1]\n   21        )\n   22        V2::SchedulerSendDailyOrWeeklyLogRecap2Job.perform_later(log_recap_weekly.id)\n\n/home/guhurak/Documents/back-end/app/jobs/send_user_ultimatum_job.rb:\n    5      return if user.waiting_and_not_waiting_communautes.any?\n    6  \n    7:     NotificationCreatorService.create(user, 'user_ultimatum', user, { reason: reason })\n    8      DestroyUserIfNoCommunauteJob.set(wait: 1.month).perform_later(user, user.last_seen_at.to_i)\n    9    end\n\n/home/guhurak/Documents/back-end/app/jobs/set_cached_nb_steeple_notifs_job.rb:\n    2    def perform(user_id)\n    3      user = User.find(user_id)\n    4:     user.update( cached_nb_steeple_notifs: user.unseen_notifications.size )\n    5    end\n    6  end\n\n/home/guhurak/Documents/back-end/app/jobs/scheduler/every_ten_minutes_job.rb:\n   10      Conv.uncache_because_user_image_changed\n   11  \n   12:     # 2 - envoi des notifications non vues si besoin\n   13  \n   14:     Notification.visible_in_main.where(targetable_type: 'User').where('created_at > ?', 24.hour.ago).where('created_at < ?', 10.minutes.ago).not_email_pushable.not_email_pushed.pluck(:targetable_id).uniq.each do |user_id|\n   15:       V2::EmailUnseenNotificationsJob.perform_later(user_id)\n   16      end\n   17:     Notification.where('created_at > ?', 30.minutes.ago).where('created_at < ?', 10.minutes.ago).email_pushable.not_email_pushed.each &:queue_send\n   18  \n   19      Modules::Ligue1::FetchNextMatchesJob.perform_later\n\n/home/guhurak/Documents/back-end/app/jobs/scheduler/four_am_job.rb:\n    5      MonthListStat.refresh_current_month_for_all_communautes\n    6  \n    7:     # we should not create Notification Object at all for annonce_in_one_of_your_communaute.\n    8:     Notification.where(verb: 'annonce_in_one_of_your_communaute').where('created_at < ?', 1.week.ago).delete_all\n    9    end\n   10  end\n\n/home/guhurak/Documents/back-end/app/jobs/scheduler/height_pm_job.rb:\n   10      BirthdayEventsWatcherJob.perform_later\n   11  \n   12:     NotificationsDestroyerJob.perform_later\n   13    end\n   14  end\n\n/home/guhurak/Documents/back-end/app/jobs/v2/email_unseen_notifications_job.rb:\n    1: class V2::EmailUnseenNotificationsJob < ApplicationJob\n    2    def perform(user_id)\n    3      u = User.find_by(id:user_id)\n    4      if u\n    5        # les 10.days.ago sont une sécurité, a enlever mais bon au cas ou...\n    6:       notifications_to_batch = u.unseen_notifications.not_email_pushable.not_email_pushed.where('created_at > ?', 10.days.ago).uniq.select(&:valid?)\n    7:       # email susceptible d'être batchés : ceux qui sont visibles dans /notifications, qui n'ont pas de email_pushable, qui n'ont pas déjà été email_pushed\n    8        # on les envoit si l'utilisateur veut bien en recevoir au moins un\n    9        # en pratique c'est les commentaires de sa publication, les commentaires d'une publication ou il a commenté, et les likes reçus\n   10:       if notifications_to_batch.any? {|n| u.setting_preference.try(n.verb.to_sym) }\n   11  \n   12:         b = BatchOfUnseenNotifications.create(user:u, notifications: notifications_to_batch)\n   13          b.reload\n   14:         BatchOfUnseenNotifications.reset_counters(b.id, :notifications)\n   15          b.reload\n   16:         p \"on a créé un batchOfUnseenNotifications##{b.id} pour le user #{b.user_id} avec les notifications : #{notifications_to_batch.map &:id}\"\n   17  \n   18:         NotificationCreatorService.create(u, 'batch_of_unseen_notifications_pushed', b)\n   19  \n   20        end\n\n/home/guhurak/Documents/back-end/app/jobs/v2/scheduler_send_daily_or_weekly_log_recap2_job.rb:\n    1: # Ce job est lent (15 minutes), génère des Notification et des LogRecapUsers. Ensuite chacune des notification est envoyée une par une dans un job également. (en tout -> 1 heure)\n    2  # voir doc aussi dans log_recap.rb\n    3  class V2::SchedulerSendDailyOrWeeklyLogRecap2Job < ApplicationJob\n\n/home/guhurak/Documents/back-end/app/jobs/v2/send_notification_job.rb:\n    1: class V2::SendNotificationJob < ApplicationJob\n    2:   queue_as :notifications\n    3  \n    4:   def perform(notification_id)\n    5:     ApmService.add_context({notification_id: notification_id})\n    6:     Notification.find_by(id:notification_id)&.send_it\n    7    end\n    8  end\n\n/home/guhurak/Documents/back-end/app/jobs/v2/send_slow_notification_job.rb:\n    1: class V2::SendSlowNotificationJob < ApplicationJob\n    2    queue_as :daily_recap\n    3  \n    4:   def perform(notification_id)\n    5:     Notification.find_by(id:notification_id).try(:send_it)\n    6    end\n    7  end\n\n/home/guhurak/Documents/back-end/app/jobs/v2/send_urgent_notification_job.rb:\n    1: class V2::SendUrgentNotificationJob < ApplicationJob\n    2    queue_as :important\n    3  \n    4:   def perform(notification_id)\n    5:     Notification.find_by(id:notification_id).try(:send_it)\n    6    end\n    7  end\n\n/home/guhurak/Documents/back-end/app/mailers/application_mailer.rb:\n    1  class ApplicationMailer < ActionMailer::Base\n    2:   default from:'\"Steeple\" <notification@steeple.fr>'\n    3  \n    4    if ENV['MAILGUN_API_KEY']\n\n/home/guhurak/Documents/back-end/app/mailers/notification_mailer.rb:\n    1: class NotificationMailer < ApplicationMailer\n    2    helper :emoji\n    3    helper :main\n    .\n    5  \n    6    # à migrer\n    7:   def batch_of_unseen_notifications_pushed(log_email_id)\n    8      @log_email = LogEmail.find(log_email_id)\n    9:     @batch_of_unseen_notifications = @log_email.notification.notifiable\n   10  \n   11      after_action\n   ..\n   14    def annonce_in_one_of_your_communaute(log_email_id)\n   15      @log_email = LogEmail.find(log_email_id)\n   16:     @annonce = @log_email.notification.notifiable\n   17  \n   18      after_action\n   ..\n   21    def comment_also_posted_on_this_post(log_email_id)\n   22      @log_email = LogEmail.find(log_email_id)\n   23:     @comment = @log_email.notification.notifiable\n   24  \n   25      after_action\n   ..\n   28    def comment_posted_on_your_post(log_email_id)\n   29      @log_email = LogEmail.find(log_email_id)\n   30:     @comment = @log_email.notification.notifiable\n   31  \n   32      after_action\n   ..\n   35    def comment_idea_posted_on_your_idea(log_email_id)\n   36      @log_email = LogEmail.find(log_email_id)\n   37:     @comment = @log_email.notification.notifiable\n   38  \n   39      after_action\n   ..\n   42    def communaute_access_mailed_to_you(log_email_id)\n   43      @log_email = LogEmail.find(log_email_id)\n   44:     @communaute_access = @log_email.notification.notifiable\n   45      after_action\n   46    end\n   ..\n   48    def communaute_access_request_granted(log_email_id)\n   49      @log_email = LogEmail.find(log_email_id)\n   50:     @communaute_access_request = @log_email.notification.notifiable\n   51  \n   52      after_action\n   ..\n   55    def communaute_access_request_sent_from_tv(log_email_id)\n   56      @log_email = LogEmail.find(log_email_id)\n   57:     @communaute_access_request = @log_email.notification.notifiable\n   58  \n   59      after_action\n   ..\n   62    def communaute_access_request_sent_to_administrator(log_email_id)\n   63      @log_email = LogEmail.find(log_email_id)\n   64:     @communaute_access_request = @log_email.notification.notifiable\n   65  \n   66      after_action\n   ..\n   69    def communaute_reminder_one_week_without_posts(log_email_id)\n   70      @log_email = LogEmail.find(log_email_id)\n   71:     @communaute = @log_email.notification.notifiable\n   72  \n   73      after_action\n   ..\n   76    def communaute_reminder_two_weeks_without_posts(log_email_id)\n   77      @log_email = LogEmail.find(log_email_id)\n   78:     @communaute = @log_email.notification.notifiable\n   79  \n   80      after_action\n   ..\n   83    def like_given_on_your_comment(log_email_id)\n   84      @log_email = LogEmail.find(log_email_id)\n   85:     @like = @log_email.notification.notifiable\n   86  \n   87      after_action\n   ..\n   90    def like_given_on_your_post(log_email_id)\n   91      @log_email = LogEmail.find(log_email_id)\n   92:     @like = @log_email.notification.notifiable\n   93  \n   94      after_action\n   ..\n   97    def like_idea_given_on_your_idea(log_email_id)\n   98      @log_email = LogEmail.find(log_email_id)\n   99:     @like = @log_email.notification.notifiable\n  100  \n  101      after_action\n  ...\n  104    def loyalty_card_access(log_email_id)\n  105      @log_email = LogEmail.find(log_email_id)\n  106:     @loyalty_card = @log_email.notification.notifiable\n  107  \n  108      after_action\n  ...\n  111    def mention_in_annonce_description(log_email_id)\n  112      @log_email = LogEmail.find(log_email_id)\n  113:     @mention = @log_email.notification.notifiable\n  114  \n  115      after_action\n  ...\n  118    def mention_in_comment(log_email_id)\n  119      @log_email = LogEmail.find(log_email_id)\n  120:     @mention = @log_email.notification.notifiable\n  121  \n  122      after_action\n  ...\n  125    def meteo_sent_to_you(log_email_id)\n  126      @log_email = LogEmail.find(log_email_id)\n  127:     @meteo = @log_email.notification.notifiable\n  128  \n  129      after_action\n  ...\n  132    def support_msg_sent_to_user(log_email_id)\n  133      @log_email = LogEmail.find(log_email_id)\n  134:     @support_msg = @log_email.notification.notifiable\n  135  \n  136      after_action\n  ...\n  139    def support_msg_sent_to_admin(log_email_id)\n  140      @log_email = LogEmail.find(log_email_id)\n  141:     @support_msg = @log_email.notification.notifiable\n  142  \n  143      after_action\n  ...\n  146    def msg_received(log_email_id)\n  147      @log_email = LogEmail.find(log_email_id)\n  148:     @msg = @log_email.notification.notifiable\n  149  \n  150      after_action\n  ...\n  153    def conv_user_received(log_email_id)\n  154      @log_email = LogEmail.find(log_email_id)\n  155:     @msg = @log_email.notification.notifiable\n  156  \n  157      after_action\n  ...\n  160    def organic_invite_signup(log_email_id)\n  161      @log_email = LogEmail.find(log_email_id)\n  162:     @organic_invite = @log_email.notification.notifiable\n  163  \n  164      after_action\n  ...\n  167    def restriction_try_sent(log_email_id)\n  168      @log_email = LogEmail.find(log_email_id)\n  169:     @restriction_try = @log_email.notification.notifiable\n  170  \n  171      after_action\n  ...\n  174    def ringing_sent(log_email_id)\n  175      @log_email = LogEmail.find(log_email_id)\n  176:     @ringing = @log_email.notification.notifiable\n  177  \n  178      after_action\n  ...\n  181    def single_invite_sent(log_email_id)\n  182      @log_email = LogEmail.find(log_email_id)\n  183:     @single_invite = @log_email.notification.notifiable\n  184  \n  185      after_action\n  ...\n  188    def tv_preinscription_sent(log_email_id)\n  189      @log_email = LogEmail.find(log_email_id)\n  190:     @tv_preinscription = @log_email.notification.notifiable\n  191      @url = \"#{ENV['FRONT_URL']}/community/#{@tv_preinscription.communaute.slug}?preinscriptionId=#{@tv_preinscription.id}&preinscriptionToken=#{Encryptor.encrypt(@tv_preinscription.token)}\"\n  192  \n  ...\n  203    def user_communaute_is_now_administrator(log_email_id)\n  204      @log_email = LogEmail.find(log_email_id)\n  205:     @user_communaute = @log_email.notification.notifiable\n  206  \n  207      after_action\n  ...\n  210    def user_ultimatum(log_email_id)\n  211      @log_email = LogEmail.find(log_email_id)\n  212:     @user = @log_email.notification.targetable\n  213:     @reason = @log_email.notification.data['reason']\n  214  \n  215      after_action\n  ...\n  220        @auto_login_token = @log_email.auto_login_token\n  221  \n  222:       n = @log_email.notification\n  223        I18n.with_locale(n.a_lang) do\n  224:         @log_email.update(objet:@log_email.notification.objet.truncate(200))\n  225  \n  226          if @log_email.objet.present?\n  227  \n  228            email = mail to: @log_email.email, subject:@log_email.objet\n  229:           # email.mailgun_options = { campaign: @log_email.notification.push_campaign.mailgun_ref } if @log_email.notification.push_campaign\n  230            email\n  231          end\n\n/home/guhurak/Documents/back-end/app/mailers/steeple_devise_mailer.rb:\n    1  class SteepleDeviseMailer < Devise::Mailer\n    2    default from:'\"Steeple\" <no-reply@mg.steeple.fr>',\n    3:           reply_to: 'notification@steeple.fr'\n    4  \n    5    if ENV['MAILGUN_EU_API_KEY']\n\n/home/guhurak/Documents/back-end/app/models/android_device.rb:\n    1  class AndroidDevice < ApplicationRecord\n    2    has_many :log_android_pushes, dependent: :destroy\n    3:   has_many :notifications, through: :log_android_pushes\n    4  \n    5    belongs_to :user, optional:true\n    .\n   12    def self.valid_token?(token)\n   13      fcm = FCM.new(ENV['FIREBASE_SECRET_KEY'])\n   14:     response = fcm.send([token], { priority: 'high', dry_run: true, notification: { title: I18n.t('android_device.welcome_steeple') } })\n   15      p \"valid_token? :\"\n   16      p response\n   ..\n   28      fcm = FCM.new(ENV['FIREBASE_SECRET_KEY'])\n   29      p 'sending...'\n   30:     response = fcm.send([registration_token], { priority: 'high', notification: { title: title, body: body }, data: { url: url } })\n   31      p 'sent.'\n   32    end\n   ..\n   34    def test_push\n   35      fcm = FCM.new(ENV['FIREBASE_SECRET_KEY'])\n   36:     response = fcm.send([registration_token], { priority: 'high', notification: { title: I18n.t('android_device.welcome_steeple'), body: \"test\" }, data: { url: \"test\" } })\n   37    end\n   38  \n   39:   def send_notification(notification, log_android_push)\n   40      fcm = FCM.new(ENV['FIREBASE_SECRET_KEY'])\n   41      response = fcm.send([registration_token], {\n   42        priority: 'high',\n   43:       notification: { title: notification.objet, body: notification.body },\n   44        data: {\n   45:         url: \"#{DomainService.hostname}/notifications/#{notification.id}?log_android_push=#{log_android_push.id}\",\n   46:         tab: (notification.is_visible_in_messagerie? ? I18n.t('android_device.messaging') : I18n.t('android_device.notification'))\n   47        }\n   48      })\n\n/home/guhurak/Documents/back-end/app/models/annonce.rb:\n   64    has_many :user_viewers, -> { where(users: { tv_id: nil }) }, through: :annonce_views, source: :user\n   65  \n   66:   has_many :notifications, as: :notifiable, dependent: :destroy\n   67  \n   68    belongs_to :last_comment, class_name: 'Comment', optional: true\n   ..\n  100      (Mention.get_mentioned_users_in(description, communaute_ids).map(&:id) - [user_id] - mentions.pluck(:user_id)).each do |mentionned_user_id|\n  101        mention = mentions.create(user_id: mentionned_user_id)\n  102:       NotificationCreatorService.create_with_user_id(mentionned_user_id, 'mention_in_annonce_description', mention)\n  103      end\n  104    end\n  105  \n  106:   # ça c'est pas top faudrait bypasser le système de notification et envoyer une seule requête aux serveur Apple avec un systeme de tag ou je sais pas quoi. Un peu comme les socket.\n  107    def notify_everybody_in_communaute\n  108:     # on crée la notification, sauf si c'est le créateur ou qu'il est déjà mentionné ou qu'il est déjà notifié\n  109      # quand on modifie une publication, les envoi sont encore fait : donc c'est cool quand il rajoute une communauté, de notifier les gens de cette communauté, par contre c'est pas cool si il modifie juste le texte 2 mois après et qu'une personne dans la communauté s'est inscrite après\n  110  \n  ...\n  112  \n  113      # ici en vrai il ne faudrait notifier que les utilisateurs possédant un ios ou android, ou bien ceux qui reçoivent les websockets (donc en ligne)\n  114:     (user_in_same_communaute_id - notifications.pluck(:targetable_id) - [user_id] - mentions.pluck(:user_id)).each do |user_in_same_communaute_id|\n  115:       NotificationCreatorService.create_with_user_id(user_in_same_communaute_id, 'annonce_in_one_of_your_communaute', self)\n  116      end\n  117    end\n  ...\n  274  \n  275    def seen_by(a_user)\n  276:     notifications_now_seen_ids = []\n  277      # Commentaires Publication\n  278:     notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: comments).pluck(:id)\n  279      # Likes Publication\n  280:     notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: likes).pluck(:id)\n  281      # Likes Commentaires\n  282:     notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: comments.includes(:likes).flat_map(&:likes)).pluck(:id)\n  283      # Mentions Publication\n  284:     notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: mentions).pluck(:id)\n  285      # Mentions Commentaires\n  286:     notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: comments.includes(:mentions).flat_map(&:mentions)).pluck(:id)\n  287  \n  288:     if notifications_now_seen_ids.any?\n  289:       unseen_notifications = Notification.where(id: notifications_now_seen_ids)\n  290:       unseen_notifications.update_all(seen:true)\n  291:       a_user.add_to_cached_notifs(-unseen_notifications.size)\n  292      end\n  293  \n  ...\n  298      end\n  299  \n  300:     notifications_now_seen_ids\n  301    end\n  302  \n\n/home/guhurak/Documents/back-end/app/models/auto_login_token.rb:\n    1: # objects_type -> LogRecap, Notification, Msg\n    2  # objects_ids\n    3  \n\n/home/guhurak/Documents/back-end/app/models/batch_of_invites.rb:\n   22          #   end\n   23          # end\n   24:         NotificationCreatorService.create(Notification.target_for(email), 'single_invite_sent', s)\n   25        end\n   26      end\n\n/home/guhurak/Documents/back-end/app/models/batch_of_unseen_notifications.rb:\n    1  # comment_also_posted_on_this_post, comment_posted_on_your_post, like_given_on_your_post\n    2: class BatchOfUnseenNotifications < ApplicationRecord\n    3:   has_many :notifications\n    4    belongs_to :user\n    5  \n    6    # ah ouais mais du coup on peut pas mettre cette relation :\n    7:   # has_many :notifications, as: :notifiable, dependent: :destroy\n    8  \n    9    def self.show_bad_count\n   10:     all.map {|b| c1 = b.notifications_count;c2 = b.notifications.length; (c1 == c2 ? nil : [b.id,c1,c2])}.compact\n   11    end\n   12    def self.reset_count\n   13:     all.pluck(:id).each {|b_id| reset_counters(b_id, :notifications)}\n   14    end\n   15  \n   16    def self.sample\n   17      u = User.find(142)\n   18:     n1 = u.notifications.where(verb:\"comment_also_posted_on_this_post\").order(:created_at).last\n   19:     n2 = u.notifications.where(verb:\"comment_posted_on_your_post\").order(:created_at).last\n   20:     n3 = u.notifications.where(verb:\"like_given_on_your_post\").order(:created_at).last\n   21:     n4 = u.notifications.where(verb:\"like_given_on_your_comment\").order(:created_at).last\n   22:     n5 = u.notifications.where(verb:\"mention_in_annonce_description\").order(:created_at).last\n   23:     n6 = u.notifications.where(verb:\"mention_in_comment\").order(:created_at).last\n   24:     # n4 = Notification.find()\n   25  \n   26      a = [n1,n2,n3,n4,n5,n6]\n   27  \n   28:     b = BatchOfUnseenNotifications.create(user: u, notifications: a)\n   29  \n   30:     NotificationCreatorService.create(u, 'batch_of_unseen_notifications_pushed', b)\n   31    end\n   32  \n   33:   def last_notification\n   34:     @last_notification ||= notifications.order(created_at: :desc).first\n   35    end\n   36  \n   37    def objet\n   38:     if notifications.size == 0\n   39        # fail 'e'\n   40        \"\"\n   41:     elsif notifications.size == 1\n   42:       notifications.order(created_at: :desc).first.objet.truncate(100)\n   43      else\n   44:       the_objet = notifications.order(created_at: :desc).first.try(:objet)\n   45:       # bug quand notifications_count est different du nombre de notifs (bug non-résolu, qui se produit quelquefois mais rarement)\n   46        if the_objet\n   47          the_objet = the_objet.truncate(60)\n   48:         if notifications.size == 2\n   49:           the_objet += \" #{I18n.t('unseen_notifications.one_more')}\"\n   50          else\n   51:           the_objet += \" (+ #{(notifications.size-1)} #{I18n.t('unseen_notifications.many_more')})\"\n   52          end\n   53          the_objet\n\n/home/guhurak/Documents/back-end/app/models/can_post_to_group.rb:\n    1  class CanPostToGroup < ApplicationRecord\n    2:   has_many :notifications, as: :notifiable, dependent: :destroy\n    3    \n    4    belongs_to :user_communaute\n\n/home/guhurak/Documents/back-end/app/models/comment.rb:\n    4    belongs_to :user\n    5  \n    6:   has_many :notifications, as: :notifiable, dependent: :destroy\n    7    has_many :group_events, as: :eventable, dependent: :destroy\n    8    has_many :mentions, as: :mentionnable, dependent: :destroy\n    .\n   38  \n   39    # we may put this in a background job. maybe we didn't only because of the mention.\n   40:   def send_the_notification\n   41      # on ne se notifie pas soit-même.\n   42      # on ne notifie pas les gens déjà notifiés par ce commentaire. (isomorphisme car on appelle cette méthode si mise a jour d'un commentaire, pour mention par exemple)\n   43      # on ne notifie pas les gens qui sont déjà mentionnés, ça je ne sais pas trop pourquoi je n'arrive pas a comprendre 🤔 mais bon apparemment ça fonctionne,\n   44      # la personne recoit quand meme mention_in_comment\n   45:     do_not_notify_user_ids = [user_id] + mentions.pluck(:user_id) + notifications.pluck(:targetable_id)\n   46  \n   47      # 1 - xx vous a mentionné\n   ..\n   49        unless mentionned_user.id.in? do_not_notify_user_ids\n   50          do_not_notify_user_ids += [mentionned_user.id]\n   51:         NotificationCreatorService.create(mentionned_user, 'mention_in_comment', mentions.create(user: mentionned_user))\n   52        end\n   53      end\n   ..\n   56      unless annonce.user_id.in? do_not_notify_user_ids\n   57        do_not_notify_user_ids += [annonce.user_id]\n   58:       NotificationCreatorService.create(annonce.user, 'comment_posted_on_your_post', self)\n   59      end\n   60  \n   ..\n   63        unless user_to_notify_aswell.id.in? do_not_notify_user_ids\n   64          do_not_notify_user_ids += [user_to_notify_aswell.id]\n   65:         NotificationCreatorService.create(user_to_notify_aswell, 'comment_also_posted_on_this_post', self)\n   66        end\n   67      end\n\n/home/guhurak/Documents/back-end/app/models/comment_idea.rb:\n    4  \n    5    has_one :group_event, as: :eventable, dependent: :destroy\n    6:   has_many :notifications, as: :notifiable, dependent: :destroy\n    7  \n    8    validates :content, presence: true\n    .\n   15      if idea\n   16        unless user == idea.user\n   17:         NotificationCreatorService.create(idea.user, 'comment_idea_posted_on_your_idea', self)\n   18        end\n   19        GroupEvent.create(eventable: self, group: idea.communaute.general_group)\n\n/home/guhurak/Documents/back-end/app/models/communaute.rb:\n  116    has_many :communautes_petites_filles, through: :communautes_filles, source: :communautes_filles\n  117  \n  118:   has_many :notifications, as: :notifiable, dependent: :destroy\n  119  \n  120    has_many :search_redirect_buttons, dependent: :destroy\n  ...\n  306    end\n  307  \n  308:   # with this mode, users are able to ask for an access, then it send a notification to the administrator and they can validate them.\n  309    def admin_request_validation?\n  310      !loyalty_mode and\n\n/home/guhurak/Documents/back-end/app/models/communaute_access.rb:\n   21  # Debug unidentified bug in which invites are not sent (to call if invite keep not sending)\n   22  #\n   23: # not_sent_invitations = CommunauteAccess.where('created_at > ?', 60.days.ago).where(id: (CommunauteAccess.where.not(sent_at: nil).pluck(:id) - Notification.where(verb:'communaute_access_mailed_to_you').pluck(:notifiable_id).uniq)).includes(:communaute).order(:created_at)\n   24  # not_sent_invitations.each do |ca|\n   25  #   puts [ca.created_at, ca.communaute.name]\n   26: #   NotificationCreatorService.create(ca.target, 'communaute_access_mailed_to_you', ca)\n   27: #   fail \"unidentified bug #{ca.id}\" if (ca.reload.notifications.length == 0)\n   28  #   ca.update(sent_at: Time.now)\n   29  # end;nil\n   ..\n   56    has_many :organic_invites, dependent: :destroy\n   57  \n   58:   has_many :notifications, as: :notifiable, dependent: :destroy\n   59:   has_many :log_emails, through: :notifications\n   60  \n   61    has_one :provider_response\n   ..\n  229    def queue_send\n  230      if email.present?\n  231:       NotificationCreatorService.create(target, 'communaute_access_mailed_to_you', self)\n  232:       # there is a bug, invitations are not sent (12.09.2019), notifications.length = 0 although sent_at is set.\n  233:       fail \"unidentified bug communaute access : #{id}\" if (reload.notifications.length == 0)\n  234        update(sent_at: Time.now)\n  235      end\n\n/home/guhurak/Documents/back-end/app/models/communaute_access_request.rb:\n   11    scope :waiting, -> { where(rejected:false, granted:false) }\n   12  \n   13:   has_many :notifications, as: :notifiable, dependent: :destroy\n   14  \n   15    after_create_commit :notify_administrators\n   ..\n   27      unless communaute.tvs.where('open_at > ?', DateTime.now).exists?\n   28        communaute.user_communautes.with_role(:administrator).each do |administrator|\n   29:         NotificationCreatorService.create(administrator.user, 'communaute_access_request_sent_to_administrator', self)\n   30        end\n   31      end\n   ..\n   56  \n   57        uc.get_parrain_and_filleuls\n   58:       NotificationCreatorService.create(user, 'communaute_access_request_granted', self)\n   59      end\n   60      uc.maybe_add_parrain(steeple_token)\n   ..\n   67      uc = user.user_communautes.find_by(communaute_id:communaute_id)\n   68      unless uc\n   69:       NotificationCreatorService.create(user, 'communaute_access_request_rejected', self)\n   70        SendUserUltimatumJob.set(wait: 1.day).perform_later(user, I18n.t('communaute_access.denied', community: communaute.name)) if user.waiting_and_not_waiting_communautes.empty?\n   71      end\n\n/home/guhurak/Documents/back-end/app/models/communaute_meteo.rb:\n    2    belongs_to :communaute\n    3    belongs_to :steeple_meteo\n    4:   has_many :notifications, as: :notifiable, dependent: :destroy\n    5  \n    6    has_one_attached :pdf\n\n/home/guhurak/Documents/back-end/app/models/compteur.rb:\n   35        if (best_record_date > old_best_record_date + 1.day) && send_notif && custom_module.params['notify_new_record'].present?\n   36          custom_module.communaute.users.each do |user|\n   37:           notification_type = (custom_module.modul == Modul.work_accident_counter ? 'custom_module_work_accident_counter_new_record' : 'custom_module_counter_new_record')\n   38:           NotificationCreatorService.create(user, notification_type, custom_module, { name: name, count: best_record })\n   39          end\n   40        end\n\n/home/guhurak/Documents/back-end/app/models/conv_user.rb:\n   69          if other_conv_user = conv.conv_users.where(active: true).order(:joined_at).first\n   70            other_conv_user.update(administrator: true)\n   71:           msgs.create(info_msg: { action: 'memberLeft', user_id: user.id }, body: 'empty').send_the_notification\n   72          else\n   73            V2::DestroyConvJob.perform_later(conv.id)\n\n/home/guhurak/Documents/back-end/app/models/custom_module.rb:\n   13    belongs_to :custom_module_category, optional: true\n   14  \n   15:   has_many :notifications, as: :notifiable, dependent: :destroy\n   16  \n   17    # has_many :positions, class_name: \"CustomModulePosition\", foreign_key: \"custom_module_id\" , dependent: :destroy # Positions on differents ModuleBlocks\n   ..\n  187      when Modul.seniority\n  188        save!\n  189:       communaute.user_communautes.where.not(user_id: notifications.pluck(:targetable_id)).where(seniority_consent: false).pluck(:user_id).each do |user_id|\n  190:         NotificationCreatorService.create_with_user_id(user_id, 'custom_module_seniority_added', self)\n  191        end\n  192      when Modul.countdown\n\n/home/guhurak/Documents/back-end/app/models/email.rb:\n    1  class Email < ApplicationRecord\n    2:   has_many :notifications, as: :targetable, dependent: :destroy\n    3    validates :email, format: { with: EMAIL_FORMAT }\n    4  \n\n/home/guhurak/Documents/back-end/app/models/idea.rb:\n    9  \n   10    has_one :group_event, as: :eventable, dependent: :destroy\n   11:   has_many :notifications, as: :notifiable, dependent: :destroy\n   12  \n   13    validates :title, presence: true, length: { maximum: 60 }\n   ..\n   38      \n   39      if (group_idea.idea_box.custom_module.params['notify_new_idea'].present?)\n   40:       (user_in_same_communaute_id - notifications.pluck(:targetable_id) - [user_id]).each do |user_in_same_communaute_id|\n   41:         NotificationCreatorService.create_with_user_id(user_in_same_communaute_id, 'idea_in_one_of_your_communaute', self)\n   42        end\n   43      end\n\n/home/guhurak/Documents/back-end/app/models/ios_device.rb:\n    4  \n    5    has_many :log_ios_pushes, dependent: :destroy\n    6:   has_many :notifications, through: :log_ios_pushes\n    7  \n    8    def version\n    .\n   18    end\n   19    # def self.test_push\n   20:   #   User.find(xx).notifications.visible_in_main.where('created_at < ?', 40.days.ago).last.soft_push\n   21    # end\n   22    def connection_option\n   ..\n   44        connection.on(:error) { |exception| puts \"Exception has been raised: #{exception}\" }\n   45  \n   46:       notification       = Apnotic::Notification.new(token)\n   47:       notification.alert = I18n.t('welcome_steeple')\n   48:       notification.topic = \"com.steeple.ios\"\n   49  \n   50        # response.headers, response.body\n   51:       response = connection.push(notification)\n   52  \n   53        connection.close\n   ..\n   65        connection.on(:error) { |exception| puts \"Exception has been raised: #{exception}\" }\n   66  \n   67:       notification       = Apnotic::Notification.new(token)\n   68:       notification.alert = I18n.t('welcome_steeple')\n   69:       notification.topic = \"com.steeple.ios\"\n   70  \n   71        # response.headers, response.body\n   72:       response = connection.push(notification)\n   73  \n   74        connection.close\n   ..\n   83      connection.on(:error) { |exception| puts \"Exception has been raised: #{exception}\" }\n   84  \n   85:     notification       = Apnotic::Notification.new(registration_token)\n   86:     notification.alert = I18n.t('welcome_steeple')\n   87:     notification.topic = \"com.steeple.ios\"\n   88  \n   89      # response.headers, response.body\n   90:     response = connection.push(notification)\n   91  \n   92      connection.close\n   ..\n  100    def self.valid_token?(token)\n  101      fcm = FCM.new(ENV['FIREBASE_SECRET_KEY'])\n  102:     response = fcm.send([token], { priority: 'high', dry_run: true, notification: { title: I18n.t('welcome_steeple') } })\n  103      p \"valid_token? :\"\n  104      p response\n\n/home/guhurak/Documents/back-end/app/models/language.rb:\n    2  # is available in javascript as document.documentElement.lang, if you want to add a language it should be compatible with :\n    3  # -> custom i18next\n    4: # -> new Notification()\n    5  # -> Giphy API\n    6  # -> flatpickr\n\n/home/guhurak/Documents/back-end/app/models/like.rb:\n    3    belongs_to :annonce, counter_cache: true\n    4    belongs_to :comment, counter_cache: true\n    5:   has_many :notifications, as: :notifiable, dependent: :destroy\n    6  \n    7    has_many :group_events, as: :eventable, dependent: :destroy\n    .\n   20    end\n   21  \n   22:   def notification_objet\n   23  \n   24    end\n   ..\n   32      if annonce\n   33        unless user == annonce.user\n   34:         NotificationCreatorService.create(annonce.user, 'like_given_on_your_post', self)\n   35        end\n   36        update_the_group_events\n   ..\n   38      elsif comment\n   39        unless user == comment.user\n   40:         NotificationCreatorService.create(comment.user, 'like_given_on_your_comment', self)\n   41        end\n   42        # if this is the last comment of annonce, we invalidate the whole annonce cache...\n\n/home/guhurak/Documents/back-end/app/models/like_idea.rb:\n    4  \n    5    has_one :group_event, as: :eventable, dependent: :destroy\n    6:   has_many :notifications, as: :notifiable, dependent: :destroy\n    7  \n    8    def queue_notify\n    .\n   13      if idea\n   14        unless user == idea.user\n   15:         NotificationCreatorService.create(idea.user, 'like_idea_given_on_your_idea', self)\n   16        end\n   17        unless group_event.present?\n\n/home/guhurak/Documents/back-end/app/models/log_android_push.rb:\n    1  class LogAndroidPush < ApplicationRecord\n    2:   belongs_to :notification, counter_cache: true\n    3    belongs_to :android_device, counter_cache: true\n    4  \n    .\n    9        # response = fcm.send([android_device.registration_token], {\n   10          priority: 'high',\n   11:         notification: {\n   12:           title: notification.title.to_s.truncate(200),\n   13:           body: notification.body.to_s.truncate(200),\n   14:           sound: ('default' unless notification.no_sound?)\n   15          },\n   16          data: {\n   17:           steeple_data: notification.steeple_data.merge(log_android_push_id:id)\n   18          }\n   19        })\n   ..\n   27      update(\n   28        push_status: response[:status_code],\n   29:       number_of_seconds:(DateTime.now.to_i - notification.created_at.to_i)\n   30      )\n   31    end\n\n/home/guhurak/Documents/back-end/app/models/log_email.rb:\n    6    belongs_to :sender_user, optional:true, class_name:'User'\n    7    belongs_to :recipient_user, optional:true, class_name:'User'\n    8:   belongs_to :notification, counter_cache:true\n    9  \n   10    has_one :auto_login_token\n   ..\n   77        \"clicked\" =>\t\"The email recipient clicked on a link in the email. Click tracking must be enabled in the Mailgun control panel, and the CNAME record must be pointing to mailgun.org.\",\n   78        \"unsubscribed\" =>\t\"The email recipient clicked on the unsubscribe link. Unsubscribe tracking must be enabled in the Mailgun control panel.\",\n   79:       \"complained\" =>\t\"The email recipient clicked on the spam complaint button within their email client. Feedback loops enable the notification to be received by Mailgun.\",\n   80        \"stored\" =>\t\"Mailgun has stored an incoming message\"\n   81      }\n\n/home/guhurak/Documents/back-end/app/models/log_ios_push.rb:\n    1  class LogIosPush < ApplicationRecord\n    2:   belongs_to :notification, counter_cache:true\n    3    belongs_to :ios_device, counter_cache:true\n    4  \n    5    def send_it\n    6      if false\n    7:       push_notification = Apnotic::Notification.new(ios_device.registration_token)\n    8:       # notification.alert = \"Test notification\"\n    9:       # notification.topic = \"com.steeple.ios\"\n   10:       push_notification.alert = {\n   11:         title: notification.title.to_s.truncate(200),\n   12:         body: notification.body.to_s.truncate(200),\n   13        }\n   14:       push_notification.custom_payload = {\n   15:         steeple_data: notification.steeple_data\n   16        }\n   17        # faudrait mettre dans l'url ?from_push=45 comme ça on peut voir ceux qui ont fonctionné\n   18:       push_notification.topic = \"com.steeple.ios\"\n   19:       push_notification.badge = (notification.targetable.try(:total_unseen_notifs) || 0)\n   20:       push_notification.sound = 'default' unless notification.no_sound?\n   21:       push_notification.priority = 10\n   22  \n   23        # response.headers, response.body\n   ..\n   28          ios_device.update(should_be_deleted_because: \"connection:error #{exception}\")\n   29        end\n   30:       response = connection.push(push_notification)\n   31        connection.close\n   32  \n   ..\n   39          update(\n   40            push_status: response.headers[\":status\"],\n   41:           number_of_seconds:(DateTime.now.to_i - notification.created_at.to_i)\n   42          )\n   43        else\n   ..\n   46          update(\n   47            push_status: 'no-response',\n   48:           number_of_seconds:(DateTime.now.to_i - notification.created_at.to_i)\n   49          )\n   50        end\n   ..\n   53        response = fcm.send([ios_device.registration_token], {\n   54            priority: 'high',\n   55:           notification: {\n   56:             title: notification.title.to_s.truncate(200),\n   57:             body: notification.body.to_s.truncate(200),\n   58:             badge: ios_device.user.unseen_notifications.count,\n   59:             sound: ('default' unless notification.no_sound?)\n   60            },\n   61            data: {\n   62:             steeple_data: notification.steeple_data.merge(log_ios_push_id:id)\n   63            }\n   64          })\n   ..\n   72        update(\n   73          push_status: response[:status_code],\n   74:         number_of_seconds:(DateTime.now.to_i - notification.created_at.to_i)\n   75        )\n   76      end\n\n/home/guhurak/Documents/back-end/app/models/log_recap.rb:\n    1  # Dans ce job, on décide quels sont les récapitulatifs à envoyer.\n    2  # Déclenchement du récapitulatif : quand il y a au moins une publication ou au moins 5 activités dans la communautés.\n    3: # Si le récap est déclenché, alors on ajoute aussi les pigeons en attente de la personne, et ses notifications non vues.\n    4  # avant on avait aussi les messages non lus, mais apparemment il n'y a plus.\n    5  # J'ai poussé l'optimisation de cette méthode car elle prenait plusieurs heures. Donc je regarde un peu chaque requête SQL et tente de charger pas trop d'instances actverecord\n    .\n   21    def self.test\n   22      fail 'e' unless Rails.env.development?\n   23:     log_recap = LogRecap.create(number_of_days_ago: 20, notification_recaps: [2])\n   24      communaute_ids_with_activity, communaute_to_annonce_ids, communaute_to_group_event_ids = log_recap.generate_ids\n   25      LogRecapUser.create_recap_for(142, log_recap.id, communaute_ids_with_activity, communaute_to_annonce_ids, communaute_to_group_event_ids)\n   ..\n   56        where(communaute_id: communaute_ids_with_activity).\n   57        includes(user: :setting_preference).\n   58:       where('setting_preferences.notification_recap' => notification_recaps.first).\n   59        distinct(:user_id).\n   60        pluck(:user_id).each do |user_id|\n\n/home/guhurak/Documents/back-end/app/models/log_recap_user.rb:\n    9    belongs_to :auto_login_token, optional:true\n   10  \n   11:   has_one :notification, as: :notifiable, dependent: :destroy\n   12  \n   13    def self.create_recap_for(user_id, log_recap_id, communaute_ids_with_activity, communaute_to_annonce_ids, communaute_to_group_event_ids)\n   ..\n   27  \n   28      if annonce_ids.length > 0 || group_event_ids.length > 5\n   29:       # les champs conv_ids et notifications_ids ne sont plus générés ici mais à la volée, dans l'envoi de mails.\n   30  \n   31        # Attention, il faut bien se rendre compte d'une chose, c'est que plusieurs group_events peuvent\n   ..\n   95      Communaute.where(id: communautes_for_annonces_ids).order(created_at: :desc)\n   96    end\n   97:   def notifications\n   98:     Notification.where(id: notifications_ids).order(created_at: :desc)\n   99    end\n  100    def conv_users\n\n/home/guhurak/Documents/back-end/app/models/log_socket_push.rb:\n    1  class LogSocketPush < ApplicationRecord\n    2:   belongs_to :notification, counter_cache:true\n    3  \n    4    def open_this_url\n\n/home/guhurak/Documents/back-end/app/models/loyalty_card.rb:\n    2    belongs_to :communaute\n    3    belongs_to :result_user, optional: true, class_name:'User'\n    4:   has_many :notifications, as: :notifiable, dependent: :destroy\n    5  \n    6    has_secure_token\n    .\n   10    def send_invite_email\n   11      regenerate_token\n   12:     NotificationCreatorService.create(target, 'loyalty_card_access', self)\n   13    end\n   14  \n\n/home/guhurak/Documents/back-end/app/models/match_day.rb:\n    7    belongs_to :league\n    8  \n    9:   has_many :notifications, as: :notifiable, dependent: :destroy\n   10  \n   11    scope :terminated, -> { where.not(ended_at: nil).order(:match_day_ref) }\n\n/home/guhurak/Documents/back-end/app/models/mention.rb:\n    2    belongs_to :user\n    3    belongs_to :mentionnable, polymorphic: true\n    4:   has_many :notifications, as: :notifiable, dependent: :destroy\n    5  \n    6    def annonce\n\n/home/guhurak/Documents/back-end/app/models/meteo.rb:\n   26  \n   27    belongs_to :communaute\n   28:   has_many :notifications, as: :notifiable, dependent: :destroy\n   29  \n   30    has_one_attached :pdf\n   ..\n  112      communaute.administrators.each do |user_communaute|\n  113        if user_communaute.user_id != 1826\n  114:         NotificationCreatorService.create(user_communaute.user, 'meteo_sent_to_you', self)\n  115        end\n  116      end\n\n/home/guhurak/Documents/back-end/app/models/msg.rb:\n    2    belongs_to :tv, optional: true\n    3  \n    4:   has_many :notifications, as: :notifiable, dependent: :destroy\n    5  \n    6    # associations\n    .\n   19    validate :at_least_one_content\n   20  \n   21:   def send_the_notification\n   22      conv.update(last_msg_at: DateTime.now)\n   23      conv_user.conv.conv_users.where(active: true).each do |cu|\n   ..\n   27          # Pas la peine de trigger msg_seen ou MsgsChannel.send_msg_seen_by(self), on rajoute juste une logique dans MsgsChannel#send_msg qui dit que quand on reçoit un message d'une personne ben c'est qu'il l'a vu\n   28        elsif !((cu.muted_until && cu.muted_until > DateTime.now) || info_msg)\n   29:         NotificationCreatorService.create(cu.user, 'conv_user_received', self)\n   30          V2::AppearanceChannel.broadcast_to(cu.user, {\n   31            event: 'newMessage',\n\n/home/guhurak/Documents/back-end/app/models/notification.rb:\n    1  # frozen_string_literal: true\n    2  #\n    3: class Notification < ApplicationRecord\n    4  \n    5    # association\n    6    belongs_to :notifiable, polymorphic: true\n    7:   belongs_to :same_grouped_notifications, optional: true, counter_cache:true\n    8:   belongs_to :batch_of_unseen_notifications, optional: true, counter_cache:true\n    9  \n   10    has_many :log_emails, dependent: :destroy\n   ..\n   15    belongs_to :targetable, polymorphic: true\n   16  \n   17:   scope :email_pushable, -> { where(verb: NotificationTypes.email_pushable_verbs) }\n   18:   scope :not_email_pushable, -> { where(verb: NotificationTypes.not_email_pushable_verbs) }\n   19:   scope :visible_in_messagerie, -> { where(verb: NotificationTypes.visible_messagerie_verbs) }\n   20:   scope :visible_in_main, -> { where(verb: NotificationTypes.visible_main_verbs) }\n   21:   scope :visible_admin, -> { where(verb: NotificationTypes.visible_admin_verbs) }\n   22:   scope :not_email_pushed, -> { where(log_emails_count: 0, log_ios_pushes_count: 0, log_android_pushes_count: 0, batch_of_unseen_notifications_id: nil, log_recap_user_id: nil) }\n   23  \n   24    after_create_commit :queue_send\n   ..\n   34        targetable&.add_to_cached_notifs(1)\n   35        V2::AppearanceChannel.broadcast_to(targetable, {\n   36:         unseenNotificationsCount: targetable.notifications.visible_in_main.where(seen: false).count\n   37        })\n   38      end\n   ..\n   53  \n   54    def verb_and_notifiable_are_valid?\n   55:     unless NotificationTypes.is_valid_verb?(verb.to_sym)\n   56        errors.add(:verb, \" (#{verb}) is not allowed\")\n   57      end\n   ..\n   72  \n   73    # [un user, 'vous invite dans blabla', 'message supplémentaire', path_with_or_without_query]\n   74:   # le path c'est pour les push ios / android / socket / peut-être lien dans /notifications, le path n'est pas mis dans le mail\n   75    # faudrait en faire une liste de dictionnaires je pense\n   76  \n   ..\n   84        when 'annonce_in_one_of_your_communaute'\n   85          { user: notifiable.user, title_without_name: notifiable.propose_or_sondage_at_least_a_verb, body: notifiable.title, path_to_open: \"/post/#{notifiable.id}\", body_image_url: notifiable.an_image_url(placeholder: true) }\n   86:       when 'batch_of_unseen_notifications_pushed'\n   87:         if notifiable.notifications.length == 1\n   88:           notifiable.notifications.first.data_from_verb\n   89          else\n   90            { title_without_name:notifiable.objet }\n   91          end\n   92        when 'can_post_to_group_now'\n   93:         { title_without_name: \"#{I18n.t('notification.can_post_to_group_now')} #{notifiable.group.title}\", path_to_open: \"/?groupId=#{notifiable.group.id}\" }\n   94        when 'comment_also_posted_on_this_post'\n   95:         { user: notifiable.user, title_without_name: I18n.t('notification.comment_also_posted_on_this_post'), body: Compatibility.no_html(notifiable.content), path_to_open: \"/post/#{notifiable.annonce_id}\", body_image_url: notifiable.image&.preview0_url }\n   96        when 'comment_posted_on_your_post'\n   97:         { user: notifiable.user, title_without_name: I18n.t('notification.comment_posted_on_your_post'), body: Compatibility.no_html(notifiable.content), path_to_open: \"/post/#{notifiable.annonce_id}\", body_image_url: notifiable.image&.preview0_url }\n   98        when 'comment_idea_posted_on_your_idea'\n   99:         { user: notifiable.user, title_without_name: I18n.t('notification.comment_idea_posted_on_your_idea'), body: Compatibility.no_html(notifiable.content), path_to_open: \"\" }\n  100        when 'meteo_sent_to_you'\n  101:         { title_without_name: I18n.t('notification.meteo_sent_to_you') }\n  102        when 'communaute_access_mailed_to_you'\n  103:         { title_without_name: I18n.t('notification.communaute_access_mailed_to_you', community: notifiable.communaute.name), path_to_open: \"\" || \"/#{notifiable.communaute.slug}\" }\n  104        when 'communaute_access_request_granted'\n  105:         { title_without_name: I18n.t('notification.communaute_access_request_granted', community: notifiable.communaute.name), path_to_open: \"/?communityId=#{notifiable.communaute_id}\" }\n  106        when 'communaute_access_request_rejected'\n  107:         { title_without_name: I18n.t('notification.communaute_access_request_rejected', community: notifiable.communaute.name), path_to_open: \"\" || \"/#{notifiable.communaute.slug}\"}\n  108        when 'communaute_access_request_sent_from_tv'\n  109:         { title_without_name: I18n.t('notification.communaute_access_request_sent_from_tv', community: notifiable.communaute.name) }\n  110        when 'communaute_access_request_sent_to_administrator'\n  111:         { title_without_name: I18n.t('notification.communaute_access_request_sent_to_administrator', community: notifiable.communaute.name), path_to_open: \"/administration/communautes/#{notifiable.communaute.slug}/communaute_access_requests\" }\n  112        when 'communaute_reminder_three_days_without_posts'\n  113:         { title_without_name: I18n.t('notification.communaute_reminder_three_days_without_posts', name: targetable.name, community: notifiable.name), path_to_open: \"/administration/communautes/#{notifiable.slug}/conseils\" }\n  114        when 'communaute_reminder_one_week_without_posts'\n  115:         { title_without_name: I18n.t('notification.communaute_reminder_one_week_without_posts', name: targetable.name, community: notifiable.name), path_to_open: \"/administration/communautes/#{notifiable.slug}/conseils\" }\n  116        when 'communaute_reminder_two_weeks_without_posts'\n  117:         { title_without_name: I18n.t('notification.communaute_reminder_two_weeks_without_posts', name: targetable.name, community: notifiable.name), path_to_open: \"/administration/communautes/#{notifiable.slug}/conseils\" }\n  118        when 'custom_module_countdown_seven_days_before'\n  119:         { title_without_name: I18n.t('notification.custom_module_countdown_seven_days_before', countdown: notifiable.primary_text) }\n  120        when 'custom_module_countdown_one_day_before'\n  121:         { title_without_name: I18n.t('notification.custom_module_countdown_one_day_before', countdown: notifiable.primary_text) }\n  122        when 'custom_module_countdown_finished'\n  123:         { title_without_name: I18n.t('notification.custom_module_countdown_finished', countdown: notifiable.primary_text) }\n  124        when 'custom_module_counter_new_record'\n  125:         { title_without_name: I18n.t('notification.custom_module_counter_new_record', name: data['name'].presence || 'Compteur', count: data['count']) }\n  126        when 'custom_module_seniority_added'\n  127:         { title_without_name: I18n.t('notification.custom_module_seniority_added', community: notifiable.communaute.name), path_to_open: \"\" || \"/step3\" }\n  128        when 'custom_module_work_accident_counter_new_record'\n  129:         { title_without_name: I18n.t('notification.custom_module_work_accident_counter_new_record', count: data['count']) }\n  130        when 'idea_in_one_of_your_communaute'\n  131:         { user: notifiable.user, title_without_name: I18n.t('notification.idea_in_one_of_your_communaute'), body: notifiable.title_and_body, path_to_open: \"\" }\n  132        when 'like_given_on_your_comment'\n  133:         { user: notifiable.user, title_without_name: I18n.t('notification.like_given_on_your_comment'), body: Compatibility.no_html(notifiable.comment.content), path_to_open:\"/post/#{notifiable.annonce_id}\" }\n  134        when 'like_given_on_your_post'\n  135:         { user: notifiable.user, title_without_name: I18n.t('notification.like_given_on_your_post'), body: notifiable.annonce.title, path_to_open: \"/post/#{notifiable.annonce_id}\" }\n  136        when 'like_idea_given_on_your_idea'\n  137:         { user: notifiable.user, title_without_name: I18n.t('notification.like_idea_given_on_your_idea'), body: notifiable.idea.title, path_to_open: \"\" }\n  138        when 'loyalty_card_access'\n  139:         { title_without_name: I18n.t('notification.loyalty_card_access', community: notifiable.communaute.name) }\n  140        when 'match_day_begins'\n  141:         { title_without_name: I18n.t('notification.match_day_begins', day: notifiable.match_day_ref.ordinalize), path_to_open: \"\" || \"/bets?step=my_next_bet\" }\n  142        when 'match_day_results'\n  143          # peut-être qu'il aurait plutôt fallu rediriger vers un truc du style /match_days/456, résultat de la journée pronostiquée\n  144:         { title_without_name: I18n.t('notification.match_day_results', day: notifiable.match_day_ref.ordinalize), path_to_open: \"\" || \"/bets\" }\n  145        when 'mention_in_annonce_description'\n  146:         { user: notifiable.mentionnable.user, title_without_name: I18n.t('notification.mention_in_annonce_description'), body: notifiable.mentionnable.title, path_to_open: \"/post/#{notifiable.annonce.id}\" , body_image_url: notifiable.mentionnable.an_image_url(placeholder: true) }\n  147        when 'mention_in_comment'\n  148:         { user: notifiable.mentionnable.user, title_without_name: I18n.t('notification.mention_in_comment'), body: Compatibility.no_html(notifiable.mentionnable.content), path_to_open: \"/post/#{notifiable.annonce.id}\", body_image_url: notifiable.mentionnable.image&.preview0_url }\n  149        when 'msg_received', \"conv_user_received\"\n  150:         { user: notifiable.user, title_without_name: I18n.t('notification.msg_received'), body: Compatibility.no_html(notifiable.body), path_to_open: \"/messaging/#{notifiable.conv_user.conv_id}\" }\n  151        when 'organic_invite_signup'\n  152:         { user: notifiable.user_communaute.user, title_without_name: I18n.t('notification.organic_invite_signup', community: notifiable.communaute_access.communaute.name), path_to_open: \"\" || \"/communaute_accesses/#{notifiable.communaute_access_id}?token=#{notifiable.communaute_access.token}\" }\n  153        when 'pigeon_loft_sent'\n  154          { title_without_name: notifiable.title, body: notifiable.body, path_to_open: \"\" || (notifiable.path_to_open == \"self\" ? \"/pigeons/#{notifiable.id}\" : notifiable.path_to_open) }\n  155        when 'poll_has_new_votes'\n  156:         { title_without_name: I18n.t('notification.poll_has_new_votes', count: notifiable.locked_votes_count), path_to_open: \"/post/#{notifiable.annonce.id}\" }\n  157        when 'restriction_try_sent'\n  158:         { title_without_name: I18n.t('notification.restriction_try_sent', community: notifiable.restriction.communaute.name) }\n  159        when 'restriction_try_validated'\n  160:         { title_without_name: I18n.t('notification.restriction_try_validated', community: notifiable.restriction.communaute.name), path_to_open: \"/?communityId=#{notifiable.restriction.communaute_id}\" }\n  161        when 'ringing_sent'\n  162:         { title_without_name: I18n.t('notification.ringing_sent'), path_to_open: \"/notifications\" }\n  163:       when 'same_grouped_notifications_grouped'\n  164:         { title_without_name: \"same_grouped_notifications_grouped\" }\n  165        when 'single_invite_sent'\n  166:         { user: notifiable.batch_of_invites.user, title_without_name: I18n.t('notification.single_invite_sent', community: notifiable.batch_of_invites.communaute.name), path_to_open: \"\" || \"/single_invites/#{notifiable.id}?t=#{notifiable.token}&communaute_id=#{notifiable.batch_of_invites.communaute_id}&parrain_token=#{notifiable.batch_of_invites.user_communaute.try(:steeple_token)}\" }\n  167        when 'support_msg_sent_to_user'\n  168:         { title_without_name: I18n.t('notification.support_msg_sent_to_user'), body: notifiable.body, path_to_open: \"\" || \"/support_chat\" }\n  169        when 'support_msg_sent_to_admin'\n  170:         { title_without_name: I18n.t('notification.support_msg_sent_to_admin'), body: notifiable.body, path_to_open: \"\" || \"/admin/support_chats\" }\n  171        when 'tv_preinscription_sent'\n  172:         { title_without_name: I18n.t('notification.tv_preinscription_sent', community: notifiable.communaute.name), path_to_open: \"\" || \"/#{notifiable.communaute.slug}\" }\n  173        when 'tv_recover_password'\n  174:         { title_without_name: I18n.t('notification.tv_recover_password') }\n  175        when 'user_communaute_is_now_administrator'\n  176:         { title_without_name: I18n.t('notification.user_communaute_is_now_administrator', community: notifiable.communaute.name), path_to_open: \"/administration/communautes/#{notifiable.communaute.slug}\" }\n  177        when 'user_communaute_mentored_by_you'\n  178:         { user: notifiable.user, title_without_name: I18n.t('notification.user_communaute_mentored_by_you'), path_to_open: \"/profile/#{notifiable.user_id}\" }\n  179        when 'user_communaute_mentored_you'\n  180:         { user: notifiable.user, title_without_name: I18n.t('notification.user_communaute_mentored_you', community: notifiable.communaute.name, user: notifiable.user.try(:name)), path_to_open: \"/profile/#{notifiable.user.id}\" }\n  181        when 'user_ultimatum'\n  182          { title_without_name: data['reason'] }\n  ...\n  271      path = data_from_verb[:path_to_open] || ''\n  272      path += (path.include? '?') ? '&' : '?' # Use '&' if the path already contains query params\n  273:     path += \"notification_id=#{id}\"\n  274      path\n  275    end\n  ...\n  282    def is_seen!\n  283      # Peut-être qu'on peut mettre uniquement is_visible_in_main?\n  284:     # À voir si / quand on migrera les notifications admin, support, messagerie sur d'autres outils.\n  285      if !seen and is_visible?\n  286        update(seen: true)\n  ...\n  292    def we_know_you_saw_it\n  293        (targetable_type == 'User') and (\n  294:         (is_visible_in_main? and (targetable.last_visit_on_notifications and targetable.last_visit_on_notifications > created_at)) ||\n  295          (is_visible_in_admin? and (targetable.last_visit_on_admin and targetable.last_visit_on_admin > created_at)) ||\n  296          (is_visible_in_messagerie? and (targetable.last_visit_on_messagerie and targetable.last_visit_on_messagerie > created_at))\n  ...\n  302  \n  303      if very_important?\n  304:       V2::SendUrgentNotificationJob.perform_now(id)\n  305      elsif is_important?\n  306:       V2::SendUrgentNotificationJob.perform_later(id)\n  307      else\n  308:       V2::SendNotificationJob.perform_later(id)\n  309      end\n  310    end\n  ...\n  320    def soft_push\n  321      if targetable\n  322:       targetable.available_soft_pushers.each { |pusher| pusher.new(self).push_this_notification }\n  323      end\n  324    end\n  ...\n  326    def repush\n  327      targetable.available_soft_pushers.each do |pusher|\n  328:       pusher.new(self).push_this_notification\n  329      end\n  330    end\n  ...\n  374            pushers.each do |pusher|\n  375              if pusher == Pusher::Email && !email_snoozed\n  376:               if NotificationTypes.is_email_pushable?(verb.to_sym)\n  377:                 pusher.new(self).push_this_notification\n  378                elsif is_visible_in_main?\n  379:                 V2::EmailUnseenNotificationsJob.perform_later(targetable_id)\n  380                end\n  381              elsif (pusher == Pusher::Android || pusher == Pusher::Ios) && !mobile_snoozed\n  382:               pusher.new(self).push_this_notification\n  383              end\n  384            end\n  ...\n  430  \n  431    def open_this_url\n  432:     Rails.application.routes.url_helpers.notification_url(self, host: DomainService.hostname)\n  433    end\n  434  \n  ...\n  457    end\n  458  \n  459:   def compare_for_display(other_notification)\n  460:     seen ? ((updated_at > other_notification.updated_at) ? -1 : 1) : -1\n  461    end\n  462  \n  463  \n  464:   # For the next methods, I don't know maybe we should delete them and use the NotificationTypes everywhere instead\n  465    # but it will be longer in the method.\n  466    # Maybe we should put them in a concerns or I don't know\n  ...\n  472    end\n  473    def is_visible_in_main?\n  474:     NotificationTypes.is_visible_in_main?(verb.to_sym)\n  475    end\n  476    def is_visible_in_admin?\n  477:     NotificationTypes.is_visible_in_admin?(verb.to_sym)\n  478    end\n  479    def is_visible_in_messagerie?\n  480:     NotificationTypes.is_visible_in_messagerie?(verb.to_sym)\n  481    end\n  482    def is_visible_in_support?\n  483:     NotificationTypes.is_visible_in_support?(verb.to_sym)\n  484    end\n  485    def is_not_visible_but_pushable?\n  486:     NotificationTypes.is_not_visible_but_pushable?(verb.to_sym)\n  487    end\n  488    def no_sound?\n  489:     NotificationTypes.no_sound?(verb.to_sym)\n  490    end\n  491  \n  492    def is_important?\n  493:     NotificationTypes.is_important?(verb.to_sym)\n  494    end\n  495  \n  496    def very_important?\n  497:     NotificationTypes.is_very_important?(verb.to_sym)\n  498    end\n  499  \n\n/home/guhurak/Documents/back-end/app/models/organic_invite.rb:\n    6    belongs_to :communaute_access, counter_cache:true\n    7  \n    8:   has_many :notifications, as: :notifiable, dependent: :destroy\n    9  end\n   10  \n\n/home/guhurak/Documents/back-end/app/models/pigeon.rb:\n    2    belongs_to :pigeon_loft\n    3    belongs_to :user\n    4:   has_many :notifications, as: :notifiable, dependent: :destroy\n    5    has_many :pigeon_communautes\n    6    has_many :communautes, through: :pigeon_communautes\n    7  \n    8    def notify\n    9:     self.update(notification_sent: true)\n   10:     NotificationCreatorService.create_with_user_id(user_id, 'pigeon_loft_sent', self)\n   11    end\n   12  \n\n/home/guhurak/Documents/back-end/app/models/pigeon_loft.rb:\n   84      body << \"<hr>#{I18n.t('pigeon_voyageur.type')} : <b style='color:#{type_for_calendar[:color]};'>#{type_for_calendar[:text]}</b>\"\n   85      body << \"#{I18n.t('pigeon_voyageur.visibility')} : \" + (only_administrators_can_see ? \"<b style='color:blue;'>#{I18n.t('pigeon_voyageur.administrator')}</b>\" : \"<b style='color:green;'>#{I18n.t('pigeon_voyageur.public')}</b>\")\n   86:     body << \"#{I18n.t('pigeon_voyageur.notifications')} : \" + (send_notification ? \"<b style='color:green;'>#{I18n.t('pigeon_voyageur.enable')}</b>\" : \"<b style='color:red;'>#{I18n.t('pigeon_voyageur.disable')}</b>\")\n   87      # Stats\n   88      if type_for_calendar[:class].in? ['publisher'] # Pigeon Publicateur\n   ..\n  174            end\n  175            # ---------------------\n  176:           SendPigeonNotificationJob.set(wait_until: start_at).perform_later(pigeon.id, start_at) if pigeon_loft.send_notification && start_at >= DateTime.now && pigeon_loft.template_id && pigeon_loft.annonce_clonable\n  177          end\n  178        end\n  ...\n  190    def content(communaute, lang)\n  191      I18n.with_locale(lang) do\n  192:     # Add here the conditions to have a different content for the notification for additional types\n  193        case pigeon_type\n  194        when 'manual'\n\n/home/guhurak/Documents/back-end/app/models/poll.rb:\n    5    has_many :votes, through: :vote_options\n    6  \n    7:   has_many :notifications, as: :notifiable, dependent: :destroy\n    8  \n    9    accepts_nested_attributes_for :vote_options, allow_destroy: true\n\n/home/guhurak/Documents/back-end/app/models/restriction_try.rb:\n   17    has_secure_token\n   18  \n   19:   has_many :notifications, as: :notifiable, dependent: :destroy\n   20  \n   21    def user_name\n\n/home/guhurak/Documents/back-end/app/models/ringing.rb:\n    3    belongs_to :user\n    4  \n    5:   has_many :notifications, as: :notifiable, dependent: :destroy\n    6  end\n    7  \n\n/home/guhurak/Documents/back-end/app/models/same_grouped_notifications.rb:\n    1  # Ne fonctionne pas encore.\n    2: class SameGroupedNotifications < ApplicationRecord\n    3:   has_many :notifications\n    4:   has_many :notifiables, through: :notifications\n    5  \n    6    # ah ouais mais du coup on ne peut pas mettre cette relation :\n    7:   # has_many :notifications, as: :notifiable, dependent: :destroy\n    8  \n    9    def objet\n   10:     case notifications.first.try(:verb)\n   11      when 'comment_also_posted_on_this_post'\n   12:       user_ids = notifiables.order('notifications.created_at DESC').pluck(:user_id).uniq\n   13        u = User.find_by(id:user_ids[0])\n   14        if user_ids.length == 1\n\n/home/guhurak/Documents/back-end/app/models/single_invite.rb:\n   11    belongs_to :batch_of_invites, counter_cache: true\n   12  \n   13:   has_many :notifications, as: :notifiable, dependent: :destroy\n   14  \n   15  \n\n/home/guhurak/Documents/back-end/app/models/support_msg.rb:\n    5    belongs_to :support_chat, touch:true\n    6  \n    7:   has_many :notifications, as: :notifiable, dependent: :destroy\n    8  \n    9    # pg_search_scope(\n\n/home/guhurak/Documents/back-end/app/models/tv.rb:\n    3    before_update { do_not_show_those_boards_ids.compact! }\n    4    before_update { do_not_show_those_buttons_ids.compact! }\n    5:   has_many :notifications, as: :notifiable, dependent: :destroy\n    6  \n    7    belongs_to :communaute, counter_cache: true\n\n/home/guhurak/Documents/back-end/app/models/tv_preinscription.rb:\n    5    has_secure_token :token\n    6  \n    7:   has_many :notifications, as: :notifiable, dependent: :destroy\n    8  \n    9    def send_notif\n   10:     NotificationCreatorService.create(Notification.target_for(email), 'tv_preinscription_sent', self)\n   11    end\n   12  \n\n/home/guhurak/Documents/back-end/app/models/user.rb:\n   66    has_many :auto_login_tokens, dependent: :destroy\n   67    has_many :reservations, dependent: :destroy\n   68:   has_many :batch_of_unseen_notifications, class_name: \"BatchOfUnseenNotifications\", dependent: :destroy\n   69  \n   70    has_many :received_log_emails, class_name:'LogEmail', foreign_key:'recipient_user_id'\n   ..\n  132  \n  133    # ça c'est pas bon, on devrait utiliser user_id.\n  134:   has_many :notifications, as: :targetable\n  135  \n  136    has_many :annonces, dependent: :destroy\n  ...\n  298    end\n  299  \n  300:   # we received a spam notification by yahoo for example\n  301    def complained_about_email\n  302:     setting_preference.update( notification_recap: 0 )\n  303    end\n  304  \n  ...\n  783  \n  784    def nb_admin_notifs\n  785:     unseen_admin_notifications.size\n  786    end\n  787  \n  788:   def unseen_admin_notifications\n  789      if !is_an_admin?\n  790        []\n  791      elsif last_visit_on_admin\n  792:       notifications.where(seen: false).visible_admin.where('created_at > ?', last_visit_on_admin)\n  793      else\n  794:       notifications.where(seen: false).visible_admin\n  795      end\n  796    end\n  797  \n  798:   def unseen_notifications\n  799:     if last_visit_on_notifications\n  800:       notifications.where(seen:false).visible_in_main.where('created_at > ?', last_visit_on_notifications)\n  801      else\n  802:       notifications.where(seen:false).visible_in_main\n  803      end\n  804    end\n\n/home/guhurak/Documents/back-end/app/models/user_communaute.rb:\n   16    belongs_to :group\n   17  \n   18:   has_many :notifications, as: :notifiable, dependent: :destroy\n   19    rolify\n   20  \n   ..\n  173        if parrain\n  174          update(user_communaute:parrain)\n  175:         NotificationCreatorService.create(parrain.user, 'user_communaute_mentored_by_you', self)\n  176:         NotificationCreatorService.create(user, 'user_communaute_mentored_you', parrain)\n  177        end\n  178      end\n  ...\n  185        if parrain\n  186          update(user_communaute:parrain)\n  187:         NotificationCreatorService.create(parrain.user, 'user_communaute_mentored_by_you', self)\n  188:         NotificationCreatorService.create(user, 'user_communaute_mentored_you', parrain)\n  189        end\n  190      end\n  ...\n  193      communaute.user_communautes.where(user_id:filleuls_user_ids, user_communaute_id:nil).each do |filleul|\n  194        filleul.update(user_communaute:self)\n  195:       NotificationCreatorService.create(user, 'user_communaute_mentored_by_you', filleul)\n  196:       NotificationCreatorService.create(filleul.user, 'user_communaute_mentored_you', self)\n  197      end\n  198    end\n\n/home/guhurak/Documents/back-end/app/models/pusher/android.rb:\n    1: # référence pour le payload : https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/PayloadKeyReference.html\n    2  # dev apns = pour quand on lance l'app depuis xcode\n    3  # distribution = pour quand l'app est distribué à travers Testflight (ou en prod bien sûr)\n    4  class Pusher::Android\n    5:   def initialize(notification)\n    6:     @notification = notification\n    7    end\n    8  \n    9:   def push_this_notification\n   10  \n   11:     @notification.targetable.android_devices.each do |android_device|\n   12:       log_android_push = android_device.log_android_pushes.create(notification:@notification)\n   13        log_android_push.send_it unless Rails.env == 'development'\n   14      end\n\n/home/guhurak/Documents/back-end/app/models/pusher/email.rb:\n    1  class Pusher::Email\n    2:   def initialize(notification, attachments = {})\n    3:     @notification = notification\n    4      @attachments = attachments\n    5    end\n    6  \n    7:   def push_this_notification\n    8      message = prepare_email\n    9      if message\n   10:       @notification.attachments.each do |filename, url|\n   11          message.attachments[filename] = open(url).read\n   12        end\n   ..\n   20  \n   21    def prepare_email\n   22:     @log_email = @notification.prepare_log_email\n   23:     NotificationMailer.send(@notification.verb, @log_email.id)\n   24    end\n   25  \n\n/home/guhurak/Documents/back-end/app/models/pusher/ios.rb:\n    1: # référence pour le payload : https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/PayloadKeyReference.html\n    2  # dev apns = pour quand on lance l'app depuis xcode\n    3  # distribution = pour quand l'app est distribué à travers Testflight (ou en prod bien sûr)\n    4  class Pusher::Ios\n    5:   def initialize(notification)\n    6:     @notification = notification\n    7    end\n    8  \n    9:   def push_this_notification\n   10  \n   11:     @notification.targetable.ios_devices.each do |ios_device|\n   12  \n   13  \n   14:       log_ios_push = ios_device.log_ios_pushes.create(notification:@notification)\n   15  \n   16        # mettre ici a true si besoin de test les notifs depuis environnement de dev. mais ⚠️ATTENTION ÇA VA VRAIMENT ENVOYER DES NOTIFS AUX GENS⚠️\n\n/home/guhurak/Documents/back-end/app/models/pusher/socket.rb:\n    1  class Pusher::Socket\n    2:   def initialize(notification)\n    3:     @notification = notification\n    4    end\n    5  \n    6:   def push_this_notification\n    7:     @log_socket_push = @notification.prepare_log_socket_push\n    8  \n    9:     AppearanceChannel.send_notification(@log_socket_push)\n   10    end\n   11  \n\n/home/guhurak/Documents/back-end/app/models/pusher/web.rb:\n    1  class Pusher::Web\n    2:   def initialize(notification_id)\n    3:     @notification = Notification.find(notification_id)\n    4    end\n    5  \n\n/home/guhurak/Documents/back-end/app/services/communaute_reminders_manager.rb:\n    9        if nb_days_without_activity == 14\n   10          communaute.user_administrators.each do |user|\n   11:           communaute.notifications.where(verb: 'communaute_reminder_one_week_without_posts').destroy_all\n   12:           NotificationCreatorService.create(user, 'communaute_reminder_two_weeks_without_posts', communaute)\n   13          end\n   14        elsif nb_days_without_activity == 7\n   15          communaute.user_administrators.each do |user|\n   16:           communaute.notifications.where(verb: 'communaute_reminder_three_days_without_posts').destroy_all\n   17:           NotificationCreatorService.create(user, 'communaute_reminder_one_week_without_posts', communaute)\n   18          end\n   19        elsif nb_days_without_activity == 3\n   20          communaute.user_administrators.each do |user|\n   21:           NotificationCreatorService.create(user, 'communaute_reminder_three_days_without_posts', communaute)\n   22          end\n   23        end\n\n/home/guhurak/Documents/back-end/app/services/current_device.rb:\n    9  # - indiquer qu'il n'y a pas besoin de diverses navbar, car on le fait nativement.\n   10  # - les soucis liés à l'empilage de vues natives, de retour page d'accueil, de login\n   11: # - l'envoi d'information à l'application : donne moi le token de notification, montre le bouton \"administration\", montre le bouton \"nouvelle publication\"\n   12  \n   13  \n\n/home/guhurak/Documents/back-end/app/services/destroy_annonce_service.rb:\n    3  #\n    4  # But we should also remove the other places where there is mention of the annonce,for example on the group_event tab, \"someone commented on this annonce\"\n    5: # Same for the mentions, in the group_event but also in the notification : 'you have been mentionned' => we should delete this notification to not show it anymore, because if the user click on it thereee will be an error.\n    6  \n    7  # you should call Annonce.unscope.find(x).destroy 30 days after to completely remove the annonce.\n    .\n   20      end\n   21  \n   22:     @annonce.poll&.notifications&.destroy_all\n   23      @annonce.group_annonces.destroy_all\n   24      (@annonce.likes + @annonce.comments).each do |like_or_comment|\n   25:       like_or_comment.notifications.destroy_all\n   26        like_or_comment.group_events.destroy_all\n   27      end\n   ..\n   32      @annonce.mentions.each(&:destroy)\n   33      # annonce.annonce_views.destroy_all\n   34:     @annonce.notifications.destroy_all\n   35      @annonce.user_snoozes.destroy_all\n   36    end\n\n/home/guhurak/Documents/back-end/app/services/notification_creator_service.rb:\n    1: # On devrait réserver la table Notification uniquement à ce qui est visible sur la page /notifications\n    2  # Au lieu de l'utiliser en particulier pour annonce_in_one_of_your_communaute, qui remplit la table pour rien.\n    3  # Et éviter des requêtes SQL complexes sur verb: par exemple (cf visible_in_main)\n    4: module NotificationCreatorService\n    5    def self.create(targetable, verb, notifiable, data = {})\n    6:     Notification.create(notifiable: notifiable, targetable: targetable, verb: verb, data: data)\n    7    end\n    8    def self.create_with_user_id(user_id, verb, notifiable)\n    9      unless to_destroy_from_user_id?(verb.to_sym, user_id)\n   10:       notifiable.notifications.create(targetable_id: user_id, targetable_type: 'User', verb: verb)\n   11      end\n   12    end\n   13    def self.create_with_user_id_and_notifiable_type_id(user_id, verb, notifiable_type, notifiable_id)\n   14      unless to_destroy_from_user_id?(verb.to_sym, user_id)\n   15:       Notification.create(\n   16          targetable_id: user_id, targetable_type: 'User',\n   17          verb: verb,\n   ..\n   23    private\n   24      def self.to_destroy?(verb, user)\n   25:       NotificationTypes.destroy_if_wcw?(verb) and\n   26        user.setting_preference.work_can_wait&.wait?(Time.zone.now)\n   27      end\n   28      def self.to_destroy_from_user_id?(verb, user_id)\n   29:       NotificationTypes.destroy_if_wcw?(verb) and\n   30        SettingPreference.find_by(user_id: user_id).work_can_wait&.wait?(Time.zone.now)\n   31      end\n\n/home/guhurak/Documents/back-end/app/services/notification_types.rb:\n    5  # \"socket push\" means : the user is online and we can send him a socket push\n    6  #\n    7: module NotificationTypes\n    8    def self.is_valid_verb?(verb)\n    9      VERBS[verb].present?\n   ..\n   29    end\n   30  \n   31:   # annonce_in_one_communaute for example, not visible in /notifications but we send an email\n   32    def self.is_not_visible_but_pushable?(verb)\n   33      VERBS[verb][:not_visible_but_pushable]\n   34    end\n   35  \n   36:   # notification can be sent by soft push\n   37    def self.is_soft_pushable?(verb)\n   38      is_visible?(verb) || is_not_visible_but_pushable?(verb)\n   ..\n   44    end\n   45  \n   46:   # notification can be sent by email\n   47    def self.is_email_pushable?(verb)\n   48      VERBS[verb][:email_pushable]\n   ..\n   59    end\n   60  \n   61:   # Notification will go to 'important' queue in Sidekiq. If the default queue is full (during the sending of the daily recaps for example) it will go to a different queue.\n   62    # Do not use when a lot of notif are sent\n   63    def self.is_important?(verb)\n   ..\n   66  \n   67    # 1 - Will send the mail or the push notif in SYNC (not in worker, i.e. perform_now) so it could take many ms or second, depending on the third party (Apple, Google servers)\n   68:   # 2 - The description will appear in BOLD on the page /notifications\n   69    def self.is_very_important?(verb)\n   70      verb == :ringing_sent\n   ..\n   98      # :description, décrit la notif\n   99      # :visible_in_tab -> c'est en gros où est le petit point rouge, et qu'est-ce qui s'ouvre quand on clique dessus\n  100:     #   - main : visible sur la page /notifications\n  101      #   - messagerie : visible sur /messagerie\n  102      #   - admin : visible sur /admin\n  ...\n  117          email_pushable: true\n  118        },\n  119:       batch_of_unseen_notifications_pushed: {\n  120:         description: \"(à vérifier) 2 nouvelles notifications\",\n  121          destroy_if_wcw: true,\n  122          email_pushable: true\n  ...\n  315          important: true\n  316        },\n  317:       same_grouped_notifications_grouped: {\n  318          description:\"(pas encore fait) x et 5 autres personnes ont liké votre annonce\",\n  319          visible_in_tab: :main\n  ...\n  341        },\n  342        tv_recover_password: {\n  343:         description: \"Retrouvez votre mot de passe que vous avez demandé depuis la tv. (bypass le notification center bizarre)\",\n  344          not_visible_but_pushable: true,\n  345          email_pushable: true,\n  ...\n  370    # ancienne documentation\n  371    # quand on passera aux \"batchable\" il faudra enlever email_pushable à genre organic_invite_signup etc et bien définir les batchableNotifs, exemple pour les batchable de type organic_invite_signup, faut mettre un bouton \"accéder\" pour toutes les invitations\n  372:   # a la fin on pourra meme faire same_grouped_notifications en mode email_pushable: false etc...\n  373    # non mais tout ce qui\n  374    # je sais pas trop ce que email_pushable, ptet que ca veut dire email_even_if_online\n  375  \n  376:   # on déclenche un batchofnotifs si : une notifs parmi les unseen_notifications avec not_email_pushed, et\n  377    # email_pushable signifie qu'il ne se batche pas avec les autres. Mais ça envoie d'abord une notif par socket si c'est possible. (Si targetable Email -> email)\n  378  \n\n/home/guhurak/Documents/back-end/app/services/push_log_service.rb:\n   13          response = fcm.send([ios_device.registration_token], {\n   14              priority: 'high',\n   15:             notification: {\n   16:               title: \"Notification de log\",\n   17                body: message.truncate(200),\n   18                sound: ('default')\n   ..\n   32          response = fcm.send([android_device.registration_token], {\n   33              priority: 'high',\n   34:             notification: {\n   35:               title: \"Notification de log\",\n   36                body: message.truncate(200),\n   37                sound: ('default')\n\n/home/guhurak/Documents/back-end/app/services/modules/ligue1.rb:\n   70      if next_match_day && !next_match_day.go_to_pronostics_sent\n   71        first_match_of_next_match_day = next_match_day.matches.order(:date).first\n   72:       is_notification_day = (first_match_of_next_match_day && first_match_of_next_match_day.date.to_date == Date.current)\n   73  \n   74:       if is_notification_day\n   75          next_match_day.update(go_to_pronostics_sent: true)\n   76          if first_match_of_next_match_day.date > DateTime.now # On notifie seulement si le premier match du jour n'a pas encore commencé\n   ..\n   78            who_recently_bet = MatchDay.includes(:league).where(league: League.ligue_1).terminated.order(:match_day_ref).last(3).map(&:users).flatten.uniq\n   79  \n   80:           who_received_at_least_once = Notification.where(verb: 'match_day_begins', targetable_type: 'User').pluck(:targetable_id).uniq\n   81            who_never_received = User.joins(:user_communautes).where.not(id: who_received_at_least_once).where(user_communautes: { communaute_id: Communaute.with_modul(Modul.ligue_1_bets.id) })\n   82  \n   83            ((who_recently_bet + who_never_received).uniq - who_already_bet_for_this_match_day).each do |user|\n   84:             NotificationCreatorService.create(user, 'match_day_begins', next_match_day)\n   85            end\n   86          end\n   ..\n   97        last_ended_match_day.update(pronostics_results_sent: true)\n   98        last_ended_match_day.users.each do |user| # Users through bets -> Donc on aura seulement les users qui ont pariés pour ce match day\n   99:         NotificationCreatorService.create(user, 'match_day_results', last_ended_match_day)\n  100        end\n  101      end\n\n/home/guhurak/Documents/back-end/app/views/admin/root.html.erb:\n   89            <%= link_to \"les citations\", [:admin, :quotes] %>\n   90            <hr>\n   91:           <%= link_to 'Toutes les activités', [:admin, :group_events] %> | <%= link_to 'Toutes les notifications', [:admin, :notifications] %>\n   92            <hr>\n   93            <%= link_to \"trouver un email\", admin_emails2_path %>\n\n/home/guhurak/Documents/back-end/app/views/admin/android_devices/index.html.erb:\n    3      <%= link_to 'Retour', :admin %>\n    4      <hr>\n    5:     <%= link_to 'nouveau', new_admin_android_device_path %> | <%= link_to 'à supprimer', [:admin, :android_devices, {to_delete: true} ] %> | <%= link_to \"voir ios\", [:admin, :ios_devices] %><%#= link_to \"test notification dans firebase\", \"https://console.firebase.google.com/u/0/project/steeple-a3df8/notification\", target:'_blank' %>\n    6      <%= will_paginate @android_devices, class:'flickr_pagination' %>\n    7      <%= render partial:'admin/android_devices/table',locals: { android_devices: @android_devices } %>\n\n/home/guhurak/Documents/back-end/app/views/admin/auto_login_tokens/_auto_login_token.html.erb:\n    7      <% end %>\n    8    </td>\n    9:   <td><%= auto_login_token.log_email.try(:notification).try(:verb) %></td>\n   10    <td>\n   11      <%= auto_login_token.created_at %>\n\n/home/guhurak/Documents/back-end/app/views/admin/batch_of_unseen_notifications/_modal_content.html.erb:\n    2    <div class=\"modal-content\">\n    3      <div class=\"modal-header\">\n    4:       BatchOfUnseenNotifications\n    5      </div>\n    6      <div class=\"modal-body\" style=\"background-color:rgb(244,248,251);\">\n    7:       <%= render partial:'notifications/notification', collection:@batch_of_unseen_notifications.notifications.order(created_at: :desc) %>\n    8      </div>\n    9    </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/batch_of_unseen_notifications/show.js.erb:\n    1: contentToBeDisplayedInMainModal = \"<%= j render partial:'admin/batch_of_unseen_notifications/modal_content', locals:{ batch_of_unseen_notifications:@batch_of_unseen_notifications } %>\";\n    2  \n\n/home/guhurak/Documents/back-end/app/views/admin/ios_devices/index.html.erb:\n   10  \n   11  \n   12: <%= link_to 'nouveau', new_admin_android_device_path %> | <%= link_to 'à supprimer', [:admin, :android_devices, {to_delete: true} ] %> | <%= link_to \"voir ios\", [:admin, :ios_devices] %><%#= link_to \"test notification dans firebase\", \"https://console.firebase.google.com/u/0/project/steeple-a3df8/notification\", target:'_blank' %>\n   13  \n\n/home/guhurak/Documents/back-end/app/views/admin/log_android_pushes/index.html.erb:\n   10            <th>date</th>\n   11            <th>user</th>\n   12:           <th>notification</th>\n   13            <th>sec.</th>\n   14            <th>status</th>\n   ..\n   21              <td><%= pretty_datetime log_android_push.created_at %></td>\n   22              <td><%= link_to log_android_push.android_device.user.name, [:admin, log_android_push.android_device.user] %></td>\n   23:             <td><%= log_android_push.notification_id %> - <%= log_android_push.notification.objet.truncate(300) %></td>\n   24              <td><%= log_android_push.number_of_seconds %></td>\n   25              <td><%= log_android_push.push_status %></td>\n\n/home/guhurak/Documents/back-end/app/views/admin/log_ios_pushes/index.html.erb:\n   10            <th>date</th>\n   11            <th>user</th>\n   12:           <th>notification</th>\n   13            <th>sec.</th>\n   14            <th>status</th>\n   ..\n   21              <td><%= pretty_datetime log_ios_push.created_at %></td>\n   22              <td><%= link_to log_ios_push.ios_device.user.name, [:admin, log_ios_push.ios_device.user] %></td>\n   23:             <td><%= log_ios_push.notification_id %> - <%= log_ios_push.notification.objet.truncate(300) %></td>\n   24              <td><%= log_ios_push.number_of_seconds %></td>\n   25              <td><%= log_ios_push.push_status %></td>\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/_header.html.erb:\n    1  \n    2  <div>\n    3:   <span style='font-weight:bold;font-size:20px;'>Notification center</span>\n    4  </div>\n    5  \n    6  <div style='margin-top:10px;'>\n    7:   <%= link_to 'Statut général', [:status, :admin, :notifications] %> |\n    8:   <%= link_to 'Notifications', [:admin, :notifications], style:\"#{'font-weight:bold' if controller_name.in?(['notifications'])}\" %> |\n    9    <%= link_to 'Push Web', [:admin, :log_socket_pushes], style:\"#{'font-weight:bold' if controller_name == 'log_socket_pushes'}\" %> |\n   10    <%= link_to 'Push Mail', [:admin, :log_emails], style:\"#{'font-weight:bold' if controller_name == 'log_emails'}\" %> |\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/_index.html.erb:\n    1: <div id='admin-notifications'>\n    2:   <%= render partial:'admin/notifications/table', locals:{ notifications:notifications } %>\n    3    <hr>\n    4:   <%= will_paginate notifications, class:'flickr_pagination' %>\n    5  </div>\n    6  \n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/_notification.html.erb:\n    1  <tr>\n    2:   <td><%= notification.id %></td>\n    3    <td></td>\n    4    <td>\n    5:     <%= new_cachable_created_at(notification.created_at) %>\n    6    </td>\n    7    <td>\n    8:     <%= link_to notification.targetable.name, [:admin, notification.targetable], remote:true if notification.targetable %>\n    9    </td>\n   10:   <td><%= notification.notifiable_type %>#<%= notification.notifiable_id %> / <%= notification.verb %></td>\n   11:   <td><%= truncate(notification.objet, length:80) %></td>\n   12    <td>\n   13:     <% if notification.is_visible_in_main? %>\n   14:       <% if notification.seen %>\n   15          <span style='color:green;font-weight:bold;'>Vue</span>\n   16        <% else %>\n   ..\n   20    </td>\n   21    <td>\n   22:     <% if notification.log_emails_count > 0 %>\n   23:       <%= notification.log_emails_count %> : <% notification.log_emails.each do |l| %><%= link_to \"##{l.id} \", [:admin, l], remote:true %><% end %>\n   24      <% end %>\n   25    </td>\n   26    <td>\n   27:     <%= notification.log_socket_pushes_count %>\n   28    </td>\n   29    <td>\n   30:     <%= notification.log_ios_pushes_count %>\n   31    </td>\n   32    <td>\n   33:     <%= notification.log_android_pushes_count %>\n   34    </td>\n   35    <td>\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/_table.html.erb:\n   17    </thead>\n   18    <tbody>\n   19:     <%= render collection:notifications, partial:'admin/notifications/notification' %>\n   20    </tbody>\n   21  </table>\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/doubles.html.erb:\n    1  <div class=\"card\">\n    2    <div class=\"card-body\">\n    3:     <%= render 'admin/notifications/header' %>\n    4:     <%= link_to 'Toutes les notifications', [:admin, :notifications] %> | <%= link_to 'Notifications visibles', [:visible_steeple, :admin, :notifications] %>\n    5:     | <%= link_to \"Voir tous les types de notifications\", lasts_admin_notifications_path %>\n    6:     | <%= link_to \"Notifications envoyées en double\", doubles_admin_notifications_path %>\n    7      <hr>\n    8:     <%= render partial:'admin/notifications/index', locals: { notifications: @notifications_doubles } %>\n    9    </div>\n   10  </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/index.html.erb:\n    1  <div class=\"card\">\n    2    <div class=\"card-body\">\n    3:     <%= render 'admin/notifications/header' %>\n    4:     <%= link_to 'Toutes les notifications', [:admin, :notifications] %> | <%= link_to 'Notifications visibles', [:visible_steeple, :admin, :notifications] %>\n    5:     | <%= link_to \"Voir tous les types de notifications\", lasts_admin_notifications_path %>\n    6:     | <%= link_to \"Notifications envoyées en double\", doubles_admin_notifications_path %>\n    7:     <%= form_with url:[:admin, :notifications], data: { turboform: true }, local: true, method: :get, skip_enforcing_utf8: true do |f| %>\n    8        <table>\n    9          <tr>\n   ..\n   12            </td>\n   13            <td>\n   14:             <%= f.select :verb, options_for_select(NotificationTypes.verbs.sort, params[:verb]), { include_blank:true } %>\n   15            </td>\n   16            <td>\n   ..\n   24      <% end %>\n   25      <hr>\n   26:     <%= render partial:'admin/notifications/index', locals:{notifications:@notifications} %>\n   27    </div>\n   28  </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/index.js.erb:\n    1: $(\"#admin-notifications\").replaceWith(\"<%= j render partial:'admin/notifications/index', locals:{notifications:@notifications} %>\");\n    2  \n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/lasts.html.erb:\n    3  \n    4  \n    5:     <%= link_to \"retour\", [:admin, :notifications] %> | <%= link_to \"version web\", lasts_admin_notifications_path %> | <%= link_to \"version table\", lasts_admin_notifications_path(table: true) %>\n    6      <hr>\n    7      <% if params[:table] %>\n    .\n   20          </thead>\n   21          <tbody>\n   22:           <% @notifications.each do |notification| %>\n   23              <tr>\n   24:               <td><%= notification.verb %></td>\n   25:               <td><%= notification.created_at %></td>\n   26:               <td><%= notification.id %></td>\n   27                <td>\n   28:                 <span style='font-weight:bold;'><%= notification.name_to_display %></span>\n   29:                 <span style='color:grey;'><%= notification.title_without_name %></span>\n   30                </td>\n   31:               <td><%= notification.body %></td>\n   32                <td>\n   33:                 <% left_url = notification.custom_image_url || notification.avatar_medium_url %>\n   34                  <%= image_tag left_url, style:'width:60px;' if left_url %>\n   35                </td>\n   36:               <td><%= image_tag notification.body_image_url, style:'width:60px;' if notification.body_image_url.present? %></td>\n   37:               <td style='max-width:100px;'><%= notification.path_to_open %></td>\n   38              </tr>\n   39            <% end %>\n   ..\n   45            <tr>\n   46              <th>verbe</th>\n   47:             <th>aperçu /notification</th>\n   48            </tr>\n   49          </thead>\n   50          <tbody>\n   51:           <% @verb_to_notifications.each do |verb, notification| %>\n   52              <tr>\n   53                <td>\n   ..\n   56                <td>\n   57                  <div style='max-width:600px;background-color: rgb(246,246,246);'>\n   58:                   <%= render partial:'notifications/notification', locals: { notification: notification } if notification&.notifiable %>\n   59                  </div>\n   60                </td>\n\n/home/guhurak/Documents/back-end/app/views/admin/notifications/status.html.erb:\n    1  <div class=\"card\">\n    2    <div class=\"card-body\">\n    3:     <%= render 'admin/notifications/header' %>\n    4      <ul>\n    5:       <li>Dans le code, c'est simple on fait juste Notification.create(verb:'xx', user:'xx') ensuite le notification center prend le relais de son côté en background : </li>\n    6        <li>1 - SI VISIBLE_IN_TAB EST PRÉSENT, on tente d'envoyer la notif par :\n    7          <ul>\n    .\n    9            <li>websocket (si on voit qu'il est en ligne) </li>\n   10          </ul>\n   11:         Ça ne concerne que les notifications qui sont visibles sur le site (qui ont visible_in_tab) ou bien qui ont not_visible_but_pushable.<br/>\n   12:         Une chose à prendre en compte : la notification peut être paramétrable\n   13        </li>\n   14  \n   15        <li>\n   16:         Si l'étape 1 ne se déclenche pas (exemple : pas d'app + pas en ligne ou bien mode wcw, ou bien option décochée), alors l'étape 2 se déclenche. L'étape 2 va également se déclencher si l'étape 1 a été faite il y a 10 minutes et que la personne n'a toujours pas vu la notification : <br/>\n   17          2 - SI EMAIL PUSHABLE EST PRÉSENT, on tente d'envoyer la notif par email, sauf si c'est paramétrable et qu'il l'a décoché, et sauf si il est en mode wcw.\n   18        </li>\n   ..\n   30  \n   31      <% if true %>\n   32:       <%# référence : keys = NotificationTypes.verbs.map{|verb,h| h.keys}.flatten.uniq %>\n   33        <% keys = [:description, :visible_in_tab, :email_pushable, :not_visible_but_pushable, :no_sound, :important] %>\n   34        <style>.green { font-weight: bold; color: green !important; }</style>\n   ..\n   48          </thead>\n   49          <tbody>\n   50:           <% NotificationTypes.verbs_with_h.each do |verb| %>\n   51:             <% is_soft_pushable = NotificationTypes.is_soft_pushable? verb[0] %>\n   52:             <% is_soft_push_configurable = is_soft_pushable and NotificationTypes.is_soft_push_configurable?(verb[0]) %>\n   53:             <% is_email_pushable = NotificationTypes.is_email_pushable? verb[0] %>\n   54:             <% is_email_push_configurable = is_email_pushable and NotificationTypes.is_email_push_configurable?(verb[0]) %>\n   55              <tr>\n   56                <td><%= verb[0] %></td>\n   ..\n   78          </thead>\n   79          <tbody>\n   80:           <% NotificationTypes.verbs_with_h.each do |verb| %>\n   81              <tr>\n   82                <td><%= verb[0] %></td>\n   ..\n   91  \n   92      <div>\n   93:       Les notifications groupées ne sont pas encore faites.(same_grouped_notifications_grouped / ex: Julien et 4 personnes ont commenté votre publication)<br/>\n   94:       La particularité de same_grouped_notifications_grouped c'est qu'elle peut remonter et redevenir unseen (update#created_at). Elle regroupe les notif de meme type 👍\n   95      </div>\n   96    </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/pigeon_lofts/_form.html.erb:\n  114            <span class='label-steeple'>Seulement visible par les administrateurs</span>\n  115          <% end %>\n  116:         <%= f.label :send_notification, class:'checkbox-steeple mx-auto' do %>\n  117:           <%= f.check_box :send_notification, disabled: disable_fields_if_past %>\n  118:           <span class='label-steeple'>Envoyer une notification</span>\n  119          <% end %>\n  120          <%= f.label :store_link, class:'checkbox-steeple mx-auto' do %>\n\n/home/guhurak/Documents/back-end/app/views/admin/roles/index.html.erb:\n    8        <div class='mt-1 ml-2' style='font-weight:500;'>\n    9          <div>Admin : Toutes permissions / Accès à tout</div>\n   10:         <div>Coach : Administration des communautés / Suivi Client / Notifications Landing Page + Messages Support</div>\n   11:         <div>Commercial : Notifications Landing Page / TDB</div>\n   12          <div>Développeur : TDB</div>\n   13        </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/style_guide/form.html.erb:\n  361              <input type='checkbox'>\n  362              <span class='label-steeple'>\n  363:               Activer les notifications\n  364                <p class='input-informations'>Cela s'applique uniquement à votre ordinateur actuel</p>\n  365              </span>\n\n/home/guhurak/Documents/back-end/app/views/admin/tv_preinscriptions/index.html.erb:\n   19              <td><%= link_to tv_preinscription.communaute.name, [:admin, tv_preinscription.communaute] %></td>\n   20              <td><%= tv_preinscription.email %></td>\n   21:             <td><%= tv_preinscription.notifications.size %></td>\n   22            </tr>\n   23          <% end %>\n\n/home/guhurak/Documents/back-end/app/views/admin/users/notifications.html.erb:\n    3      <%= link_to \"<- User##{@user.id} (#{@user.name})\", [:admin, @user] %>\n    4      <hr>\n    5:     <div>Notifications</div>\n    6      <hr>\n    7  \n    8:     <%= will_paginate @notifications, class:'flickr_pagination' %>\n    9:     <%= render partial:'admin/notifications/table', locals:{notifications:@notifications} %>\n   10    </div>\n   11  </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/users/show.html.erb:\n   50            <% user.android_devices.order(created_at: :desc).each do |android_device| %>\n   51              <div>Android créé le <%= good_date android_device.created_at %></div>\n   52:             <div>Nombre de push envoyés : <%= android_device.notifications.size %></div>\n   53  \n   54:             <%= render partial:'admin/notifications/table', locals:{ notifications: android_device.notifications.order(created_at: :desc).limit(10) } %>\n   55  \n   56              <hr>\n   ..\n   58            <% @user.ios_devices.order(created_at: :desc).each do |ios_device| %>\n   59              <div>iPhone créé le <%= good_date ios_device.created_at %></div>\n   60:             <div>Nombre de push envoyés : <%= ios_device.notifications.size %></div>\n   61  \n   62:             <%= render partial:'admin/notifications/table', locals:{ notifications: ios_device.notifications.order(created_at: :desc).limit(10) } %>\n   63  \n   64              <hr>\n   ..\n  120        <div class='card-body'>\n  121          <div style=\"font-weight:bold\">\n  122:           10 dernières notifications visibles reçues\n  123          </div>\n  124          <div>\n  125:           <%= render partial:'admin/notifications/table', locals:{ notifications: @user.notifications.visible_in_main.order(created_at: :desc).limit(10) } %>\n  126          </div>\n  127        </div>\n  ...\n  130        <div class='card-body'>\n  131          <div style=\"font-weight:bold\">\n  132:           10 dernières notifications reçues (toutes)\n  133          </div>\n  134          <div>\n  135:           <%= render partial:'admin/notifications/table', locals:{ notifications: @user.notifications.order(created_at: :desc).limit(10) } %>\n  136          </div>\n  137        </div>\n\n/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/_mailgun_stats_modal.html.erb:\n    6       </div>\n    7       <div class=\"modal-body\">\n    8:        <%= render partial:'admin/notifications/index', locals:{ notifications:communaute_access.notifications.paginate(page:params[:page], per_page:40) } %>\n    9       </div>\n   10     </div>\n\n/home/guhurak/Documents/back-end/app/views/administration/custom_modules/_edit.html.erb:\n   33  \n   34        <% if custom_module.modul.in? Modul.config_suggestion %>\n   35:         <%= render partial: 'administration/custom_modules/notifications_settings', locals: { f: f, custom_module: custom_module } %>\n   36          <div style='text-align: center;'>\n   37            <%= f.submit I18n.t('administration.custom_modules.edit.n2'), class: 'btn-steeple' %>\n   ..\n   89      <% if custom_module.modul.in? Modul.config_suggestion %>\n   90        <%= form_with model: [:administration, custom_module.communaute, custom_module], id: 'form-edit-module', class: 'js-check-before-submit form-to-init' do |f| %>\n   91:         <%= render partial: 'administration/custom_modules/notifications_settings', locals: { f: f, custom_module: custom_module } %>\n   92          <div style='text-align: center;'>\n   93            <%= f.submit I18n.t('administration.custom_modules.edit.n2'), class: 'btn-steeple' %>\n\n/home/guhurak/Documents/back-end/app/views/administration/custom_modules/_notifications_settings.html.erb:\n    1  <div>\n    2    <%= f.label :receive_suggestions, class:'checkbox-steeple' do %>\n    3:     <%= f.check_box :receive_suggestions, class: 'toggle-when-clicked', data: { to_toggle: '#checkbox-notifications' } %>\n    4:     <span class='label-steeple'><%= I18n.t('administration.custom_modules.notifications_settings.n1') %></span>\n    5    <% end %>\n    6  </div>\n    7: <div id='checkbox-notifications' style='<%= 'display:none;' unless custom_module.receive_suggestions %>'>\n    8:   <%= f.label :receive_suggestion_notifications, class:'checkbox-steeple' do %>\n    9:     <%= f.check_box :receive_suggestion_notifications %>\n   10:     <span class='label-steeple'><%= I18n.t('administration.custom_modules.notifications_settings.n2') %></span>\n   11    <% end %>\n   12  </div>\n\n/home/guhurak/Documents/back-end/app/views/administration/idea_boxes/_form.html.erb:\n    5        <%= f.text_field :name, placeholder: I18n.t('administration.idea_boxes.form.n2'), class:'input-steeple required' %>\n    6      </div>\n    7:     <%= render partial: 'modules/ideas/notifications', locals: { custom_module: idea_box.custom_module } %>\n    8      <div class='text-center'>\n    9        <%= f.submit I18n.t('administration.idea_boxes.form.n3'), class: 'btn-steeple' %>\n\n/home/guhurak/Documents/back-end/app/views/administration/user_communautes/_user_communaute.html.erb:\n   63      <% else %>\n   64        <% if user_communaute.user %>\n   65:         <% case user_communaute.user.setting_preference.notification_recap %>\n   66          <% when 0 %>\n   67            <b style='color:#dc3545;'><%= I18n.t('administration.user_communautes.user_communaute.n6') %></b>\n\n/home/guhurak/Documents/back-end/app/views/convs/_header.html.erb:\n   25  \n   26  <% conv_user = conv.conv_users.find_by(user: current_user) %>\n   27: <% notifications_disabled = conv_user.muted_until && conv_user.muted_until > DateTime.now %>\n   28  \n   29: <% if notifications_disabled %>\n   30    <div class='header-conv-notif'>\n   31      <div class='text-center'><%= I18n.t('convs.header.n2') %></div>\n\n/home/guhurak/Documents/back-end/app/views/convs/_settings_content.html.erb:\n   21    <% end %>\n   22  \n   23:   <% notifications_disabled = current_conv_user.muted_until && current_conv_user.muted_until > DateTime.now %>\n   24    <h3><i class='far fa-bell'></i><%= I18n.t('convs.settings_content.n7') %></h3>\n   25    <div class='ml-3'>\n   26:     <h4><%= notifications_disabled ? I18n.t('convs.settings_content.n8') : I18n.t('convs.settings_content.n9') %></h4>\n   27      <div class='flex-responsive justify-content-between'>\n   28:       <% if notifications_disabled %>\n   29          <div class='flex-responsive'>\n   30            <div><% if current_conv_user.muted_until <= 1.week.from_now %> <%= I18n.t('convs.settings_content.n26') %> <%= I18n.l current_conv_user.muted_until, format: :friendly %><% end %></div>\n\n/home/guhurak/Documents/back-end/app/views/layouts/_permanent_things.html.erb:\n    5      <div id='is-tv'></div>\n    6    <% else %>\n    7:     <div id='notifications-data'\n    8:       class='notifications-data-to-fill'\n    9        data-nb-messagerie-notifs=\"<%#= current_user.try(:nb_messagerie_notifs) %>\"\n   10        data-nb-steeple-notifs=\"<%#= current_user.try(:cached_nb_steeple_notifs) %>\"\n\n/home/guhurak/Documents/back-end/app/views/log_recap_mailer/send_recap.html.erb:\n    1: <% @notifications = @log_recap_user.user.unseen_notifications.where('created_at > ?', @log_recap_user.log_recap.number_of_days_ago.days.ago) %>\n    2: <% @notifications.update_all(log_recap_user_id: @log_recap_user.id) %>\n    3  \n    4  <!DOCTYPE html>\n    .\n  153                            </tr>\n  154                            <tr><td width='100%' height='25' colspan='3' style='padding:0'></td></tr>\n  155:                           <% if @log_recap_user.group_events_size > 0 || @notifications.any? %>\n  156                              <tr>\n  157                                <td colspan='3' style='padding:0' align='center'>\n  ...\n  203                                        <td style='width:415px; padding:0' align='left'>\n  204                                          <table cellpadding='0' cellspacing='0'>\n  205:                                           <%# Notification : User and event name %>\n  206                                            <tr>\n  207                                              <td style='padding:0'>\n  ...\n  309                            </tr>\n  310                            <tr><td width='100%' height='25' colspan='3' style='padding:0'></td></tr>\n  311:                           <% if @notifications.any? %>\n  312                              <tr>\n  313                                <td colspan='3' style='padding:0' align='center'>\n  ...\n  320                        <% end %>\n  321  \n  322:                       <%# Notifications %>\n  323:                       <% if @notifications.any? %>\n  324                          <table width='100%'>\n  325                            <tr>\n  326                              <td width='50'></td>\n  327                              <td align='center' style='color:#525252; font-size:14px; font-weight:bold; line-height:22px;'>\n  328:                               <%= I18n.t('log_recap_mailer.send_recap.n12', count: @notifications.size) %> :\n  329                              </td>\n  330                              <td width='50'></td>\n  331                            </tr>\n  332                            <tr><td height='20' colspan='3'></td></tr>\n  333:                           <% @notifications.order(created_at: :desc).limit(6).each do |notification| %>\n  334:                             <% if notification.title %>\n  335:                               <%# Notification : Informations %>\n  336                                <tr>\n  337                                  <td align='center' colspan='3' style='padding:0'>\n  338                                    <table width='100%' cellpadding='0' cellspacing='0' style='max-width:470px'>\n  339                                      <tr>\n  340:                                       <% if avatar_medium_url = notification.avatar_medium_url %>\n  341                                          <td style='width:55px; padding: 0'>\n  342                                            <table cellpadding='0' cellspacing='0'>\n  ...\n  352                                        <td style='width:415px; padding:0' align='left'>\n  353                                          <table cellpadding='0' cellspacing='0'>\n  354:                                           <%# Notification : User notification %>\n  355                                            <tr>\n  356                                              <td style='padding:0; color:#a9a9a9; font-size:14px;'>\n  357:                                               <% if notification.name_to_display %>\n  358:                                                 <%= link_to notification.name_to_display, notification.url_to_open, style:'font-size:14px; color:#484848; text-decoration:none;' %>\n  359                                                <% end %>\n  360:                                               <%= link_to notification.title_without_name, notification.url_to_open, style:'text-decoration:none; color:#a9a9a9;' %>\n  361:                                               <% case notification.verb %>\n  362                                                <% when 'comment_also_posted_on_this_post' %>\n  363                                                  <%= image_tag \"#{ DomainService.public_host }/images/fa-comments.png\", size:'16' %>\n  ...\n  372                                        </td>\n  373                                      </tr>\n  374:                                     <%# Notification : Content %>\n  375:                                     <% if notification.body.present? %>\n  376                                        <tr>\n  377                                          <td align='center' height='10' style='padding:0' colspan='3'></td>\n  ...\n  387                                                      <td width='10'></td>\n  388                                                      <td style='padding:0;'>\n  389:                                                       <a href='<%= notification.url_to_open %>' style='text-decoration:none; color:#292f33; word-break:break-word; cursor:pointer;'>\n  390                                                          <table cellpadding='0' cellspacing='0'>\n  391                                                            <tr>\n  392                                                              <td style='padding:0; font-size:13px;'>\n  393:                                                               <%= notification.body.truncate(300) %>\n  394:                                                               <% if notification.body_image_url %>\n  395                                                                  <table cellpadding='0' cellspacing='0'>\n  396                                                                    <tr><td style='padding:0' height='7' colspan='3'></td></tr>\n  397                                                                    <tr>\n  398                                                                      <td>\n  399:                                                                       <%= image_tag notification.body_image_url, style:'display:block; max-width:350px; border-radius:3px' %>\n  400                                                                      </td>\n  401                                                                    </tr>\n  ...\n  427                              <% end %>\n  428                            <% end %>\n  429:                           <%# See more notifications %>\n  430                            <tr>\n  431                              <td colspan='3' align='center' style='padding:0'>\n  ...\n  434                                  <tr>\n  435                                    <td width='20' style='padding:0'></td>\n  436:                                   <td style='padding:0'><a href='<%= notifications_url %>' style='color:#ffffff; text-decoration:none; font-weight:bold;'><%= I18n.t('log_recap_mailer.send_recap.n13') %></a></td>\n  437                                    <td width='20' style='padding:0'></td>\n  438                                  </tr>\n\n/home/guhurak/Documents/back-end/app/views/log_recap_mailer/send_recap.text.erb:\n    1  <%# Pour rappel, c'est pas évident l'indentation car c'est le résultat direct donc on essaie d'indenter le contenu en même temps que du code donc voilà. %>\n    2: <% @notifications = @log_recap_user.user.unseen_notifications.where('created_at > ?', @log_recap_user.log_recap.number_of_days_ago.days.ago) %>\n    3: <% @notifications.update_all(log_recap_user_id: @log_recap_user.id) %>\n    4  \n    5  <%= I18n.t('log_recap_mailer.send_recap.n2', user: @log_recap_user.user.first_name) %>,\n    .\n   54    <% end %>\n   55  \n   56:   <% if @notifications.any? %>\n   57: <%= I18n.t('log_recap_mailer.send_recap.n12', count: @notifications.size) %> :\n   58:     <% @notifications.order(created_at: :desc).limit(6).each do |notification| %>\n   59:       <%= notification.name_to_display %> <%= notification.title_without_name %> : <%= notification.url_to_open %>\n   60:       <% if notification.body.present? %>\n   61:         <%= notification.body.truncate(300) %>\n   62        <% end %>\n   63        ----------\n   64      <% end %>\n   65  \n   66:     <%= I18n.t('log_recap_mailer.send_recap.n13') %> : <%= notifications_url %>\n   67    <% end %>\n   68  \n\n/home/guhurak/Documents/back-end/app/views/mjml-include/_notification_text.text.erb:\n    1: <% if notification.title %>\n    2:   <%= notification.title %> (<%= notification.url_to_open %>)\n    3  \n    4:   <% if notification.body&.present? %>\n    5:     \"<%= truncate(notification.body, length:300) %>\"\n    6    <% end %>\n    7  \n\n/home/guhurak/Documents/back-end/app/views/mjml-include/conv_user.mjml:\n    1: <mj-column mj-class='notification'>\n    2    <mj-raw>\n    3        <td>\n    4:         <% if notification.title %>\n    5            <table>\n    6              <tr>\n    7:               <% if notification.avatar_medium_url %>\n    8                  <td style='width:40px;vertical-align:middle;padding:0 5px;'>\n    9                    <!--[if mso | IE]>\n   ..\n   12                        <td>\n   13                    <![endif]-->\n   14:                         <img width='40' width='40' style='text-align:center;border-radius:50%;display:block;overflow:hidden;background-color:#44c0ff;line-height:40px;color:#fff;box-shadow:0 2px 3px #bebebe' src=\"<%= notification.avatar_medium_url %>\" alt='Profil' >\n   15                    <!--[if mso | IE]>\n   16                        </td>\n   ..\n   22                <td style='padding: 0 5px;'>\n   23                  <span style='font-family: Montserrat, Verdana'>\n   24:                   <% if notification.name_to_display %>\n   25:                     <%= link_to notification.name_to_display, notification.url_to_open, style:'font-size:14px; color:#484848; text-decoration:none;' %>\n   26                    <% end %>\n   27:                   <span><%= link_to notification.title_without_name, notification.url_to_open, style:'text-decoration:none; color:#a9a9a9; font-size:14px;' %></span>\n   28:                   <% case notification.verb %>\n   29                    <% when 'comment_also_posted_on_this_post' %>\n   30                       <%= image_tag \"#{ DomainService.public_host }/images/fa-comments.png\", size:'16' %>\n   ..\n   36                  </span>\n   37                  <br>\n   38:                 <% if false and notification.body&.present? %>\n   39                    <span style='margin-bottom:10px;'>\n   40:                     <a style='font-size:14px; color:#484848; text-decoration:none;' href='<%= url_for(notification.url_to_open) %>'>\"<%= truncate(notification.body, length:100) %>\"</a>\n   41                    </span>\n   42                  <% end %>\n   43                </td>\n   44              </tr>\n   45:             <% if notification.body.present? %>\n   46                <tr>\n   47                  <td style='padding:5px 0'></td>\n   ..\n   56                        <td style='padding:0 4px'></td>\n   57                        <td style='font-weight:normal'>\n   58:                         <%= link_to notification.url_to_open, style:'color:#484848; text-decoration:none;' do %>\n   59:                           <% if notification.body_image_url %>\n   60:                               <%= notification.body.truncate(300) %>\n   61                                <table width='100%'>\n   62                                  <tr>\n   63                                    <td style='text-align:center;'>\n   64:                                     <%= image_tag(notification.body_image_url, style:'width:150px;') if notification.body_image_url %>\n   65                                    </td>\n   66                                  </tr>\n   67                                </table>\n   68                            <% else %>\n   69:                             <%= notification.body.truncate(300) %>\n   70                            <% end %>\n   71                          <% end %>\n\n/home/guhurak/Documents/back-end/app/views/mjml-include/notification.mjml:\n    1: <mj-column mj-class='notification'>\n    2    <mj-raw>\n    3        <td>\n    4:         <% if notification.title %>\n    5            <table>\n    6              <tr>\n    7:               <% if notification.avatar_medium_url %>\n    8                  <td style='width:40px;vertical-align:middle;padding:0 5px;'>\n    9                    <!--[if mso | IE]>\n   ..\n   12                        <td>\n   13                    <![endif]-->\n   14:                         <img width='40' width='40' style='text-align:center;border-radius:50%;display:block;overflow:hidden;background-color:#44c0ff;line-height:40px;color:#fff;box-shadow:0 2px 3px #bebebe' src=\"<%= notification.avatar_medium_url %>\" alt='Profil' >\n   15                    <!--[if mso | IE]>\n   16                        </td>\n   ..\n   22                <td style='padding: 0 5px;'>\n   23                  <span style='font-family: Montserrat, Verdana'>\n   24:                   <% if notification.name_to_display %>\n   25:                     <%= link_to notification.name_to_display, notification.url_to_open, style:'font-size:14px; color:#484848; text-decoration:none;' %>\n   26                    <% end %>\n   27:                   <span><%= link_to notification.title_without_name, notification.url_to_open, style:'text-decoration:none; color:#a9a9a9; font-size:14px;' %></span>\n   28:                   <% case notification.verb %>\n   29                    <% when 'comment_also_posted_on_this_post' %>\n   30                       <%= image_tag \"#{ DomainService.public_host }/images/fa-comments.png\", size:'16' %>\n   ..\n   38                </td>\n   39              </tr>\n   40:             <% if notification.body.present? %>\n   41                <tr>\n   42                  <td style='padding:5px 0'></td>\n   ..\n   51                        <td style='padding:0 4px'></td>\n   52                        <td style='font-weight:normal'>\n   53:                         <%= link_to notification.url_to_open, style:'color:#484848; text-decoration:none;' do %>\n   54:                           <% if notification.body_image_url %>\n   55:                               <%= notification.body.truncate(300) %>\n   56                                <table width='100%'>\n   57                                  <tr>\n   58                                    <td style='text-align:center;'>\n   59:                                     <%= image_tag(notification.body_image_url, style:'width:150px;') if notification.body_image_url %>\n   60                                    </td>\n   61                                  </tr>\n   62                                </table>\n   63                            <% else %>\n   64:                             <%= notification.body.truncate(300) %>\n   65                            <% end %>\n   66                          <% end %>\n\n/home/guhurak/Documents/back-end/app/views/modules/countdown/_form.html.erb:\n   18  </div>\n   19  \n   20: <%= render partial: 'modules/countdown/notifications', locals: { custom_module: custom_module } %>\n   21  \n   22  <% if custom_module.persisted? %>\n\n/home/guhurak/Documents/back-end/app/views/modules/counter/_form.html.erb:\n   20  </div>\n   21  \n   22: <%= render partial: 'modules/counter/notifications', locals: { custom_module: custom_module } %>\n   23  \n\n/home/guhurak/Documents/back-end/app/views/modules/counter/_special_form.html.erb:\n   41          <%= f.number_field :best_record, class: 'input-steeple required', data: { input_name: I18n.t('modules.counter.n14') } %>\n   42        </div>\n   43:       <%= render partial: 'modules/counter/notifications', locals: { custom_module: compteur.custom_module } %>\n   44  \n   45        <div class='text-center'>\n\n/home/guhurak/Documents/back-end/app/views/modules/ideas/_form.html.erb:\n   11  </div>\n   12  \n   13: <%= render partial: 'modules/ideas/notifications', locals: { custom_module: custom_module } %>\n   14  \n\n/home/guhurak/Documents/back-end/app/views/modules/work_accident_counter/_form.html.erb:\n   11  </div>\n   12  \n   13: <%= render partial: 'modules/work_accident_counter/notifications', locals: { custom_module: custom_module } %>\n   14  \n\n/home/guhurak/Documents/back-end/app/views/modules/work_accident_counter/_special_form.html.erb:\n   32          <%= f.number_field :best_record, class: 'input-steeple required', data: { input_name: I18n.t('modules.work_accident_counter.n20') } %>\n   33        </div>\n   34:       <%= render partial: 'modules/work_accident_counter/notifications', locals: { custom_module: compteur.custom_module } %>\n   35  \n   36        <div class='text-center'>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/batch_of_unseen_notifications_pushed.html.erb:\n    2  <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\n    3  <head>\n    4:   <title><%= I18n.t('batch_of_unseen_notifications_pushed.title') %></title>\n    5    <!--[if !mso]><!-- -->\n    6    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    .\n   86          <tr>\n   87            <td style=\"vertical-align:top;width:500px;\">\n   88:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><tr><td style=\"word-wrap:break-word;font-size:0px;padding:10px 10px 20px;\" align=\"center\"><div style=\"cursor:auto;color:#626262;font-family:Montserrat, Verdana;font-size:24px;font-weight:bold;line-height:25px;text-align:center;\"><%= I18n.t('emails.hello') %> <%= @batch_of_unseen_notifications.user.first_name %> <%= @batch_of_unseen_notifications.user.last_name %>,</div></td></tr></tbody></table></div><!--[if mso | IE]>\n   89        </td></tr></table>\n   90        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n   ..\n   99          <tr>\n  100            <td style=\"vertical-align:undefined;width:510px;\">\n  101:       <![endif]--><% @batch_of_unseen_notifications.notifications.order(created_at: :desc).first(6).each do |notification| %><div class=\"mj-column-per-85 outlook-group-fix\" data-vertical-align=\"top\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><td>\n  102:         <% if notification.title %>\n  103            <table>\n  104              <tr>\n  105:               <% if notification.avatar_medium_url %>\n  106                  <td style=\"width:40px;vertical-align:middle;padding:0 5px;\">\n  107                    <!--[if mso | IE]>\n  ...\n  110                        <td>\n  111                    <![endif]-->\n  112:                         <img width=\"40\" style=\"text-align:center;border-radius:50%;display:block;overflow:hidden;background-color:#44c0ff;line-height:40px;color:#fff;box-shadow:0 2px 3px #bebebe\" src=\"<%= notification.avatar_medium_url %>\" alt=\"Profil\">\n  113                    <!--[if mso | IE]>\n  114                        </td>\n  ...\n  120                <td style=\"padding: 0 5px;\">\n  121                  <span style=\"font-family: Montserrat, Verdana\">\n  122:                   <% if notification.name_to_display %>\n  123:                     <%= link_to notification.name_to_display, notification.url_to_open, style:'font-size:14px; color:#484848; text-decoration:none;' %>\n  124                    <% end %>\n  125:                   <span><%= link_to notification.title_without_name, notification.url_to_open, style:'text-decoration:none; color:#a9a9a9; font-size:14px;' %></span>\n  126:                   <% case notification.verb %>\n  127                    <% when 'comment_also_posted_on_this_post' %>\n  128                       <%= image_tag \"#{ DomainService.public_host }/images/fa-comments.png\", size:'16' %>\n  ...\n  136                </td>\n  137              </tr>\n  138:             <% if notification.body.present? %>\n  139                <tr>\n  140                  <td style=\"padding:5px 0\"></td>\n  ...\n  149                        <td style=\"padding:0 4px\"></td>\n  150                        <td style=\"font-weight:normal\">\n  151:                         <%= link_to notification.url_to_open, style:'color:#484848; text-decoration:none;' do %>\n  152:                           <% if notification.body_image_url %>\n  153:                               <%= notification.body.truncate(300) %>\n  154                                <table width=\"100%\">\n  155                                  <tr>\n  156                                    <td style=\"text-align:center;\">\n  157:                                     <%= image_tag(notification.body_image_url, style:'width:150px;') if notification.body_image_url %>\n  158                                    </td>\n  159                                  </tr>\n  160                                </table>\n  161                            <% else %>\n  162:                             <%= notification.body.truncate(300) %>\n  163                            <% end %>\n  164                          <% end %>\n  ...\n  192          <tr>\n  193            <td style=\"vertical-align:top;width:500px;\">\n  194:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><% if @batch_of_unseen_notifications.notifications.length == 1 and @batch_of_unseen_notifications.notifications.first.notifiable.try(:annonce) %><tr><td style=\"word-wrap:break-word;font-size:0px;padding:20px 0px 0px;\" align=\"center\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"border:none;border-radius:5px;color:#ffffff;cursor:auto;padding:10px 25px;\" align=\"center\" valign=\"middle\" bgcolor=\"#44c0ff\"><a href=\"<%= annonce_url(@batch_of_unseen_notifications.notifications.first.notifiable.annonce) %>\" style=\"text-decoration:none;background:#44c0ff;color:#ffffff;font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:16px;font-weight:bold;line-height:120%;text-transform:none;margin:0px;\" target=\"_blank\"><%= I18n.t('batch_of_unseen_notifications_pushed.see_post') %></a></td></tr></tbody></table></td></tr><% else %><tr><td style=\"word-wrap:break-word;font-size:0px;padding:20px 0px 0px;\" align=\"center\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"border:none;border-radius:5px;color:#ffffff;cursor:auto;padding:10px 25px;\" align=\"center\" valign=\"middle\" bgcolor=\"#44c0ff\"><a href=\"<%= notifications_url %>\" style=\"text-decoration:none;background:#44c0ff;color:#ffffff;font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:16px;font-weight:bold;line-height:120%;text-transform:none;margin:0px;\" target=\"_blank\"><%= I18n.t('batch_of_unseen_notifications_pushed.all_notifs') %></a></td></tr></tbody></table></td></tr><% end %></tbody></table></div><!--[if mso | IE]>\n  195        </td></tr></table>\n  196        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/batch_of_unseen_notifications_pushed.mjml:\n    4  \n    5    <mj-head>\n    6:     <mj-title><%= I18n.t('batch_of_unseen_notifications_pushed.title') %></mj-title>\n    7      <mj-include path=\"../mjml-include/head.mjml\" /> <!-- ouverture de la balise mj-attribute -->\n    8:     <mj-class name=\"notification\" width=\"85%\" padding=\"10px\"/>\n    9      </mj-attributes>\n   10    </mj-head>\n   ..\n   27  \n   28              <mj-text mj-class=\"title\">\n   29:               <%= I18n.t('emails.hello') %> <%= @batch_of_unseen_notifications.user.first_name %> <%= @batch_of_unseen_notifications.user.last_name %>,\n   30              </mj-text>\n   31  \n   ..\n   34  \n   35          <mj-section mj-class=\"contenu_middle\">\n   36:           <mj-raw><% @batch_of_unseen_notifications.notifications.order(created_at: :desc).first(6).each do |notification| %></mj-raw>\n   37:             <mj-include path=\"../mjml-include/notification.mjml\"/>\n   38            <mj-raw><% end %></mj-raw>\n   39          </mj-section>\n   ..\n   41          <mj-section mj-class=\"contenu_bottom\">\n   42            <mj-column width=\"500\">\n   43:             <mj-raw><% if @batch_of_unseen_notifications.notifications.length == 1 and @batch_of_unseen_notifications.notifications.first.notifiable.try(:annonce) %></mj-raw>\n   44:               <mj-button background-color=\"#44c0ff\" padding=\"20 0 0\" href=\"<%= annonce_url(@batch_of_unseen_notifications.notifications.first.notifiable.annonce) %>\" font-size=\"16\" border-radius=\"5\" font-weight=\"bold\">\n   45:                 <%= I18n.t('batch_of_unseen_notifications_pushed.see_post') %>\n   46                </mj-button>\n   47              <mj-raw><% else %></mj-raw>\n   48:               <mj-button background-color=\"#44c0ff\" padding=\"20 0 0\" href=\"<%= notifications_url %>\" font-size=\"16\" border-radius=\"5\" font-weight=\"bold\">\n   49:                 <%= I18n.t('batch_of_unseen_notifications_pushed.all_notifs') %>\n   50                </mj-button>\n   51              <mj-raw><% end %></mj-raw>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/batch_of_unseen_notifications_pushed.text.erb:\n    1: <%= I18n.t('emails.hello') %> <%= @batch_of_unseen_notifications.user.first_name %> <%= @batch_of_unseen_notifications.user.last_name %>,\n    2  \n    3: <% @batch_of_unseen_notifications.notifications.order(created_at: :desc).first(6).each do |notification| %>\n    4:   <%= render partial:'mjml-include/notification_text', locals:{ notification:notification } %>\n    5  <% end %>\n    6  \n    7: <% if @batch_of_unseen_notifications.notifications.length == 1 and @batch_of_unseen_notifications.notifications.first.notifiable.try(:annonce) %>\n    8: <%= I18n.t('batch_of_unseen_notifications_pushed.see_post') %> : <%= annonce_url(@batch_of_unseen_notifications.notifications.first.notifiable.annonce) %>\n    9  <% else %>\n   10: <%= I18n.t('batch_of_unseen_notifications_pushed.all_notifs') %> : <%= notifications_url %>\n   11  <% end %>\n   12  \n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_access_request_sent_to_administrator.html.erb:\n   81          <tr>\n   82            <td style=\"vertical-align:top;width:500px;\">\n   83:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><tr><td style=\"word-wrap:break-word;font-size:0px;padding:10px 10px 20px;\" align=\"center\"><div style=\"cursor:auto;color:#626262;font-family:Montserrat, Verdana;font-size:24px;font-weight:bold;line-height:25px;text-align:center;\"><%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,</div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= raw I18n.t('communaute_access_request_sent_to_administrator.access', user: @communaute_access_request.user.name, community: @communaute_access_request.communaute.name) %></div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:20px 0px 0px;\" align=\"center\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"border:none;border-radius:5px;color:#ffffff;cursor:auto;padding:10px 25px;\" align=\"center\" valign=\"middle\" bgcolor=\"#44c0ff\"><a href=\"<%= administration_communaute_communaute_access_requests_url(@communaute_access_request.communaute_id) %>\" style=\"text-decoration:none;background:#44c0ff;color:#ffffff;font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:16px;font-weight:bold;line-height:120%;text-transform:none;margin:0px;\" target=\"_blank\"><%= I18n.t('communaute_access_request_sent_to_administrator.response') %></a></td></tr></tbody></table></td></tr></tbody></table></div><!--[if mso | IE]>\n   84        </td></tr></table>\n   85        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_access_request_sent_to_administrator.mjml:\n   18  \n   19            <mj-text mj-class=\"title\">\n   20:             <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n   21            </mj-text>\n   22            <mj-text mj-class=\"text-basic\">\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_access_request_sent_to_administrator.text.erb:\n    1: <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n    2  \n    3  <%= I18n.t('communaute_access_request_sent_to_administrator.access_text', user: @communaute_access_request.user.name, community: @communaute_access_request.communaute.name) %>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_reminder_one_week_without_posts.html.erb:\n   81          <tr>\n   82            <td style=\"vertical-align:top;width:500px;\">\n   83:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><tr><td style=\"word-wrap:break-word;font-size:0px;padding:10px 10px 20px;\" align=\"center\"><div style=\"cursor:auto;color:#626262;font-family:Montserrat, Verdana;font-size:24px;font-weight:bold;line-height:25px;text-align:center;\"><%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,</div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= raw I18n.t('communaute_reminder_one_week_without_posts.no_post', community: @communaute.name) %></div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= I18n.t('communaute_reminder_one_week_without_posts.administration') %></div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:20px 0px 0px;\" align=\"center\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"border:none;border-radius:5px;color:#ffffff;cursor:auto;padding:10px 25px;\" align=\"center\" valign=\"middle\" bgcolor=\"#44c0ff\"><a href=\"<%= administration_communaute_conseils_url(@communaute) %>\" style=\"text-decoration:none;background:#44c0ff;color:#ffffff;font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:16px;font-weight:bold;line-height:120%;text-transform:none;margin:0px;\" target=\"_blank\"><%= I18n.t('communaute_reminder_one_week_without_posts.access') %></a></td></tr></tbody></table></td></tr></tbody></table></div><!--[if mso | IE]>\n   84        </td></tr></table>\n   85        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_reminder_one_week_without_posts.mjml:\n   13          <mj-column width='500'>\n   14            <mj-text mj-class='title'>\n   15:              <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n   16            </mj-text>\n   17            <mj-text mj-class='text-basic' padding-bottom='20'>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_reminder_one_week_without_posts.text.erb:\n    1: <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n    2  \n    3  <%= I18n.t('communaute_reminder_one_week_without_posts.no_post_text', community: @communaute.name) %>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_reminder_two_weeks_without_posts.html.erb:\n   81          <tr>\n   82            <td style=\"vertical-align:top;width:500px;\">\n   83:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><tr><td style=\"word-wrap:break-word;font-size:0px;padding:10px 10px 20px;\" align=\"center\"><div style=\"cursor:auto;color:#626262;font-family:Montserrat, Verdana;font-size:24px;font-weight:bold;line-height:25px;text-align:center;\"><%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,</div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= raw I18n.t('communaute_reminder_two_weeks_without_posts.no_post', community: @communaute.name) %></div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= I18n.t('communaute_reminder_two_weeks_without_posts.administration') %></div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:20px 0px 0px;\" align=\"center\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"border:none;border-radius:5px;color:#ffffff;cursor:auto;padding:10px 25px;\" align=\"center\" valign=\"middle\" bgcolor=\"#44c0ff\"><a href=\"<%= administration_communaute_conseils_url(@communaute) %>\" style=\"text-decoration:none;background:#44c0ff;color:#ffffff;font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:16px;font-weight:bold;line-height:120%;text-transform:none;margin:0px;\" target=\"_blank\"><%= I18n.t('communaute_reminder_one_week_without_posts.access') %></a></td></tr></tbody></table></td></tr></tbody></table></div><!--[if mso | IE]>\n   84        </td></tr></table>\n   85        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_reminder_two_weeks_without_posts.mjml:\n   13          <mj-column width='500'>\n   14            <mj-text mj-class='title'>\n   15:             <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n   16            </mj-text>\n   17            <mj-text mj-class='text-basic' padding-bottom='20'>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/communaute_reminder_two_weeks_without_posts.text.erb:\n    1: <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n    2  \n    3  <%= I18n.t('communaute_reminder_two_weeks_without_posts.no_post_text', community: @communaute.name) %>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/loyalty_card_access.html.erb:\n   64          <tr>\n   65            <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\n   66:       <![endif]--><% loyalty_card = @log_email.notification.notifiable %><div style=\"margin:0px auto;max-width:600px;\" data-class=\"\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"font-size:0px;width:100%;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"text-align:center;vertical-align:top;direction:ltr;font-size:0px;padding:20px 0px;\"><!--[if mso | IE]>\n   67        <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n   68          <tr>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/loyalty_card_access.mjml:\n   12      <mj-container>\n   13  \n   14:       <mj-raw><% loyalty_card = @log_email.notification.notifiable %></mj-raw>\n   15  \n   16        <mj-include path=\"../mjml-include/logo.mjml\"/>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/loyalty_card_access.text.erb:\n    1: <% loyalty_card = @log_email.notification.notifiable %>\n    2  <%= I18n.t('emails.hello') %> <%= loyalty_card.name %>,\n    3  \n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/meteo_sent_to_you.html.erb:\n   81          <tr>\n   82            <td style=\"vertical-align:top;width:500px;\">\n   83:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><tr><td style=\"word-wrap:break-word;font-size:0px;padding:10px 10px 20px;\" align=\"center\"><div style=\"cursor:auto;color:#626262;font-family:Montserrat, Verdana;font-size:24px;font-weight:bold;line-height:25px;text-align:center;\"><%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,</div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= I18n.t('meteo_sent_to_you.meteo', determinant: (@log_email.notification.notifiable.generation_date.month == 4)|| (@log_email.notification.notifiable.generation_date.month == 8) || (@log_email.notification.notifiable.generation_date.month == 10) ? 'd' : 'de ',  month: l(@log_email.notification.notifiable.generation_date, format: '%B').capitalize) %></div></td></tr><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= I18n.t('meteo_sent_to_you.advice') %></div></td></tr><% if @log_email.notification.notifiable.message.present? %><tr><td style=\"word-wrap:break-word;font-size:0px;padding:0px 25px;padding-bottom:20px;\" align=\"left\"><div style=\"cursor:auto;color:#525252;font-family:Montserrat, Verdana;font-size:14px;line-height:22px;text-align:left;\"><%= simple_format @log_email.notification.notifiable.message %></div></td></tr><% end %></tbody></table></div><!--[if mso | IE]>\n   84        </td></tr></table>\n   85        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n   ..\n   94          <tr>\n   95            <td style=\"vertical-align:top;width:500px;\">\n   96:       <![endif]--><div class=\"mj-column-px-500 outlook-group-fix\" style=\"vertical-align:top;display:inline-block;direction:ltr;font-size:13px;text-align:left;width:100%;\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tbody><tr><td style=\"word-wrap:break-word;font-size:0px;padding:20px 0px 0px;\" align=\"center\"><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;\" align=\"center\" border=\"0\"><tbody><tr><td style=\"border:none;border-radius:5px;color:#ffffff;cursor:auto;padding:10px 25px;\" align=\"center\" valign=\"middle\" bgcolor=\"#44c0ff\"><a href=\"<%= @log_email.notification.notifiable.pdf_url %>\" style=\"text-decoration:none;background:#44c0ff;color:#ffffff;font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:16px;font-weight:bold;line-height:120%;text-transform:none;margin:0px;\" target=\"_blank\"><%= I18n.t('meteo_sent_to_you.see_web') %></a></td></tr></tbody></table></td></tr></tbody></table></div><!--[if mso | IE]>\n   97        </td></tr></table>\n   98        <![endif]--></td></tr></tbody></table></div><!--[if mso | IE]>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/meteo_sent_to_you.mjml:\n   18  \n   19            <mj-text mj-class=\"title\">\n   20:             <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n   21            </mj-text>\n   22  \n   23            <mj-text mj-class=\"text-basic\" padding-bottom=\"20\">\n   24:             <%= I18n.t('meteo_sent_to_you.meteo', determinant: (@log_email.notification.notifiable.generation_date.month == 4)|| (@log_email.notification.notifiable.generation_date.month == 8) || (@log_email.notification.notifiable.generation_date.month == 10) ? 'd' : 'de ',  month: l(@log_email.notification.notifiable.generation_date, format: '%B').capitalize) %>\n   25            </mj-text>\n   26            <mj-text mj-class=\"text-basic\" padding-bottom=\"20\">\n   27              <%= I18n.t('meteo_sent_to_you.advice') %>\n   28            </mj-text>\n   29:           <mj-raw><% if @log_email.notification.notifiable.message.present? %></mj-raw>\n   30              <mj-text mj-class=\"text-basic\" padding-bottom=\"20\">\n   31:               <%= simple_format @log_email.notification.notifiable.message %>\n   32              </mj-text>\n   33            <mj-raw><% end %></mj-raw>\n   ..\n   38        <mj-section mj-class=\"contenu_bottom\">\n   39          <mj-column width=\"500\">\n   40:           <mj-button background-color=\"#44c0ff\" padding=\"20 0 0\" href=\"<%= @log_email.notification.notifiable.pdf_url %>\" font-size=\"16\" border-radius=\"5\" font-weight=\"bold\">\n   41              <%= I18n.t('meteo_sent_to_you.see_web') %>\n   42            </mj-button>\n\n/home/guhurak/Documents/back-end/app/views/notification_mailer/meteo_sent_to_you.text.erb:\n    1: <%= I18n.t('emails.hello') %> <%= @log_email.notification.targetable.name %>,\n    2  \n    3: <%= I18n.t('meteo_sent_to_you.meteo', determinant: (@log_email.notification.notifiable.generation_date.month == 4)|| (@log_email.notification.notifiable.generation_date.month == 8) || (@log_email.notification.notifiable.generation_date.month == 10) ? 'd' : 'de ',  month: l(@log_email.notification.notifiable.generation_date, format: '%B').capitalize) %>\n    4  \n    5  <%= I18n.t('meteo_sent_to_you.advice') %>\n    6  \n    7: <% if @log_email.notification.notifiable.message.present? %>\n    8: <%= @log_email.notification.notifiable.message %>\n    9  <% end %>\n   10  \n   11: <%= I18n.t('meteo_sent_to_you.see_web') %> : <%= @log_email.notification.notifiable.pdf_url %>\n   12  \n\n/home/guhurak/Documents/back-end/app/views/notifications/_notification.html.erb:\n    1: <% if notification.notifiable %>\n    2  \n    3:   <% url, remote = url_and_remote_for_notification(notification) %>\n    4:   <div id=\"notification_container_<%= notification.id %>\" class=\"v2-blue-hover <%= \"notification_unseen\" unless notification.seen %> font-montserrat-500\" style=\"width:100%;max-width:600px;\">\n    5      <div style='padding:10px;'>\n    6        <table style=\"width:100%;\">\n    7          <tr>\n    8            <td style=\"text-align:left;width:60px;\">\n    9:             <% if left_url = notification.custom_image_url %>\n   10                <div style=\"height:40px;width:40px;overflow:hidden;\">\n   11                  <%= image_tag left_url, style:'height:40px;width:40px;' %>\n   12                </div>\n   13:             <% elsif left_url = notification.avatar_medium_url %>\n   14                <div style=\"height:40px;width:40px;border-radius:50%;overflow:hidden;\">\n   15                  <%= image_tag left_url, style:'height:40px;width:40px;' %>\n   ..\n   20              <%= link_to url, remote: remote, style:'color:inherit;' do %>\n   21                <div style=\"margin-left:10px; word-break:break-word;\">\n   22:               <% if notification.name_to_display %>\n   23:                 <span style='font-weight:bold;'><%= notification.name_to_display %></span><br/>\n   24                <% end %>\n   25:               <span style='<%= notification.very_important? ? 'font-weight:bold;' : 'color:grey;' %>'>\n   26:                 <%= notification.title_without_name %>\n   27                </span>\n   28:               <% if notification.body&.present? %>\n   29                  <span style='color:grey;'>\n   30:                   \"<%= truncate(notification.body, length:150) %>\"\n   31                  </span>\n   32                <% end %>\n   ..\n   35            </td>\n   36            <td style=\"text-align:right;width:60px;\">\n   37:             <% if notification.relative_annonce %>\n   38:               <% user_snooze = current_user.user_snoozes.find_or_initialize_by(snoozable: notification.relative_annonce) %> <%# TODO: Find a way to do the SQL request elsewhere %>\n   39                <div class='light-menu-container'>\n   40:                 <button type='button' class='invisible-button open-light-menu notification-<%= notification.id %>'>\n   41                    <i class='fas fa-ellipsis-h px-2'></i>\n   42                  </button>\n   43:                 <div class='light-menu hide-if-click-somewhere position-top horizontal-align-left align-row notification-<%= notification.id %>' data-except-this-class='notification-<%= notification.id %>' style='display:none;'>\n   44                    <span class='notch'></span>\n   45                    <div>\n   46                      <% if user_snooze.persisted? %>\n   47:                       <%= link_to [user_snooze, { notification_id: notification.id }], method: :delete, remote: true do %>\n   48                          <i class='far fa-bell'></i>\n   49:                         <%= I18n.t('notifications.notification.n1') %>\n   50                        <% end %>\n   51                      <% else %>\n   52                        <%= form_with model: user_snooze do |f| %>\n   53:                         <%= hidden_field_tag :notification_id, notification.id %>\n   54                          <%= f.hidden_field :snoozable_type %>\n   55                          <%= f.hidden_field :snoozable_id %>\n   56                          <button type='submit'>\n   57                            <i class='far fa-bell-slash'></i>\n   58:                           <%= I18n.t('notifications.notification.n2') %>\n   59                          </button>\n   60                        <% end %>\n   ..\n   64                </div>\n   65              <% end %>\n   66:             <%= time_ago_in_words(good_date(notification.created_at)) %>\n   67            </td>\n   68          </tr>\n\n/home/guhurak/Documents/back-end/app/views/notifications/index.html.erb:\n    1: <%= title_of_this_page_is I18n.t('notifications.index.n1') %>\n    2  \n    3  <% unless @current_device.mobile_app %>\n    4    <div class='v2-title little-v2-title'>\n    5      <div>\n    6:       <i class='fas fa-bell' style='color:white;'></i> <%= I18n.t('notifications.index.n2') %>\n    7      </div>\n    8    </div>\n    .\n   10  \n   11  <%# Choisir entre a ou button %>\n   12: <div class='see-all-notifications'>\n   13:   <%= link_to I18n.t('notifications.index.n3'), [:see_all, :notifications], remote: true, class: 'secret-link' %>\n   14  </div>\n   15  \n   ..\n   17    <div>\n   18      <div style=\"max-width:600px;margin:auto;background-color:white;\">\n   19:       <div id=\"notifications-container\">\n   20          <%= render @page.records %>\n   21        </div>\n   22  \n   23        <% if !@page.last? %>\n   24:         <div id=\"notifications-next-container\">\n   25:           <%= link_to nil, notifications_path({ page: @page.next_number }), remote: true, class:\"click-to-next-link\" %>\n   26          </div>\n   27        <% end %>\n   ..\n   31  <% else %>\n   32    <div style='text-align:center;padding:50px;'>\n   33:     <%= I18n.t('notifications.index.n4') %>\n   34    </div>\n   35  <% end %>\n\n/home/guhurak/Documents/back-end/app/views/notifications/index.js.erb:\n    1: $(\"#notifications-container\").append(\"<%= j render @page.records %>\");\n    2  \n    3  <% if @page.last? %>\n    4:   $(\"#notifications-next-container\").empty();\n    5  <% else %>\n    6:   $(\"#notifications-next-container\").html(\"<%= j link_to nil, notifications_path({ page: @page.next_number }), remote: true, class: 'click-to-next-link' %>\");\n    7  <% end %>\n    8  \n\n/home/guhurak/Documents/back-end/app/views/notifications/refresh.js.erb:\n    1: const notifElem = document.getElementById('notification_container_<%= @notification.id %>')\n    2  \n    3  if (notifElem) {\n    4:   notifElem.outerHTML = '<%= j render @notification %>'\n    5  }\n    6  \n\n/home/guhurak/Documents/back-end/app/views/notifications/see_all.js.erb:\n    1: const elems = document.querySelectorAll('.notification_unseen')\n    2  for (let i = 0, len = elems.length; i < len; i++) {\n    3:   elems[i].classList.remove('notification_unseen')\n    4  }\n    5  \n    6: document.getElementById('notifications-data').dataset.nbSteepleNotifs = 0\n    7  \n\n/home/guhurak/Documents/back-end/app/views/setting_preferences/_email_related_settings.html.erb:\n   80  \n   81    <% if user.no_email? and user.unconfirmed_email.blank? %>\n   82:     <div class='header-collapse' data-toggle='collapse' data-target='#notifications' role='button' aria-expanded='false' aria-controls='notifications'>\n   83        <h3>\n   84          <i class='far fa-bell'></i>\n   ..\n   88      </div>\n   89  \n   90:     <div id='notifications' class='collapse ml-3'>\n   91        <div class='pb-4'>\n   92          <h4><%= I18n.t('setting_preferences.email_related_settings.n15') %></h4>\n\n/home/guhurak/Documents/back-end/app/views/setting_preferences/_setting_preference.html.erb:\n    1  <div id='settings-preferences'>\n    2:   <div class='header-collapse' data-toggle='collapse' data-target='#notifications' role='button' aria-expanded='false' aria-controls='notifications'>\n    3      <h3>\n    4        <i class='far fa-bell'></i>\n    .\n    8    </div>\n    9  \n   10:   <div id='notifications' class='collapse ml-3'>\n   11      <%= form_with model: setting_preference, class: 'pb-4' do |f| %>\n   12        <h4><i class='far fa-clock mr-2'></i><%= I18n.t('setting_preferences.setting_preference.n2') %></h4>\n   13        <div class='d-flex justify-content-around mr-3'>\n   14:         <%= f.label(:notification_recap_2, class:'d-flex align-items-center m-0') do %>\n   15:           <%= f.radio_button(:notification_recap, 2) %> <span class='label-steeple'><%= I18n.t('setting_preferences.setting_preference.n3') %></span>\n   16          <% end %>\n   17:         <%= f.label(:notification_recap_1, class:'d-flex align-items-center m-0') do %>\n   18:           <%= f.radio_button(:notification_recap, 1) %> <span class='label-steeple'><%= I18n.t('setting_preferences.setting_preference.n4') %></span>\n   19          <% end %>\n   20:         <%= f.label(:notification_recap_0, class:'d-flex align-items-center m-0') do %>\n   21:           <%= f.radio_button(:notification_recap, 0) %> <span class='label-steeple'><%= I18n.t('setting_preferences.setting_preference.n5') %></span>\n   22          <% end %>\n   23        </div>\n   ..\n  155  \n  156    <% if current_user.id == 142 %>\n  157:     <div class='header-collapse' data-toggle='collapse' data-target='#send-notifications' role='button' aria-expanded='false' aria-controls='send-notifications'>\n  158        <h3>\n  159          <i class='fas fa-bullhorn'></i>\n  ...\n  163      </div>\n  164  \n  165:     <div id='send-notifications' class='collapse ml-3'>\n  166        <%= form_with model: setting_preference, class:'pb-4' do |f| %>\n  167          <h4><%= I18n.t('setting_preferences.setting_preference.n18') %></h4>\n\n/home/guhurak/Documents/back-end/app/views/setting_preferences/update.js.erb:\n    1  $('#settings-preferences').replaceWith(\"<%= j render partial:'setting_preferences/setting_preference', locals: { setting_preference: @setting_preference } %>\");\n    2  \n    3: window.location.hash = '#notifications';\n    4  openCollapseMenuFromAnchor();\n    5  \n\n/home/guhurak/Documents/back-end/app/views/setting_preferences/webnotif.js.erb:\n    2    <div class=\\\"modal-content\\\">\\\n    3      <div class='modal-header'>\\\n    4:       <h4 class='modal-title' id='web-notification-permission-title'><%= params[:title] %></h4>\\\n    5        <button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button>\\\n    6      </div>\\\n    7:     <div class='modal-body' id='web-notification-permission-body'>\\\n    8        <p>\\\n    9          <%= I18n.t('setting_preferences.webnotif.n1') %>\\\n   ..\n   14      </div>\\\n   15      <div class='modal-footer'>\\\n   16:       <button type='button' class='btn-light notification-api-set-no-thanks' data-dismiss='modal'><%= I18n.t('setting_preferences.webnotif.n3') %></button>\\\n   17:       <button type='button' class='btn-steeple notification-api-ask-permission'><%= I18n.t('setting_preferences.webnotif.n4') %></button>\\\n   18      </div>\\\n   19    </div>\\\n\n/home/guhurak/Documents/back-end/app/views/shared/_tourbus.en.html.erb:\n   59      <span class='fas fa-times button-tourbus-stop tourbus-stop'></span>\n   60      <p class='tourbus-title'>Drop-down menu.</p>\n   61:     <p class='toutbus-text'>Use this menu to view your profile, notifications, conversations and settings.</p>\n   62      <div class='text-center'>\n   63        <a href='javascript:void(0);' class='mr-2 tourbus-prev btn-outline-steeple'>Previous</a>\n\n/home/guhurak/Documents/back-end/app/views/shared/_tourbus.fr.html.erb:\n   59      <span class='fas fa-times button-tourbus-stop tourbus-stop'></span>\n   60      <p class='tourbus-title'>Menu déroulant.</p>\n   61:     <p class='toutbus-text'>Retrouvez dans ce menu votre profil, vos notifications, vos conversations et vos paramètres.</p>\n   62      <div class='text-center'>\n   63        <a href='javascript:void(0);' class='mr-2 tourbus-prev btn-outline-steeple'>Précédent</a>\n\n/home/guhurak/Documents/back-end/app/views/user_communautes/_notification_next.html.erb:\n    1: <%= link_to I18n.t('see_more'), notifications_path(next_id:next_id), remote: true %>\n    2  \n\n/home/guhurak/Documents/back-end/bin/sh/compile_mjml.sh:\n    3  mjml --version\n    4  \n    5: mjml -r app/views/notification_mailer/organic_invite_signup.mjml -o app/views/notification_mailer/organic_invite_signup.html.erb\n    6: mjml -r app/views/notification_mailer/communaute_access_request_granted.mjml -o app/views/notification_mailer/communaute_access_request_granted.html.erb\n    7: mjml -r app/views/notification_mailer/communaute_access_mailed_to_you.mjml -o app/views/notification_mailer/communaute_access_mailed_to_you.html.erb\n    8: mjml -r app/views/notification_mailer/loyalty_card_access.mjml -o app/views/notification_mailer/loyalty_card_access.html.erb\n    9: mjml -r app/views/notification_mailer/ringing_sent.mjml -o app/views/notification_mailer/ringing_sent.html.erb\n   10: mjml -r app/views/notification_mailer/meteo_sent_to_you.mjml -o app/views/notification_mailer/meteo_sent_to_you.html.erb\n   11: mjml -r app/views/notification_mailer/communaute_access_request_sent_from_tv.mjml -o app/views/notification_mailer/communaute_access_request_sent_from_tv.html.erb\n   12: mjml -r app/views/notification_mailer/communaute_access_request_sent_to_administrator.mjml -o app/views/notification_mailer/communaute_access_request_sent_to_administrator.html.erb\n   13: mjml -r app/views/notification_mailer/communaute_reminder_one_week_without_posts.mjml -o app/views/notification_mailer/communaute_reminder_one_week_without_posts.html.erb\n   14: mjml -r app/views/notification_mailer/communaute_reminder_two_weeks_without_posts.mjml -o app/views/notification_mailer/communaute_reminder_two_weeks_without_posts.html.erb\n   15: mjml -r app/views/notification_mailer/restriction_try_sent.mjml -o app/views/notification_mailer/restriction_try_sent.html.erb\n   16: mjml -r app/views/notification_mailer/single_invite_sent.mjml -o app/views/notification_mailer/single_invite_sent.html.erb\n   17: mjml -r app/views/notification_mailer/tv_recover_password.mjml -o app/views/notification_mailer/tv_recover_password.html.erb\n   18: mjml -r app/views/notification_mailer/user_communaute_is_now_administrator.mjml -o app/views/notification_mailer/user_communaute_is_now_administrator.html.erb\n   19: mjml -r app/views/notification_mailer/msg_received.mjml -o app/views/notification_mailer/msg_received.html.erb\n   20: mjml -r app/views/notification_mailer/batch_of_unseen_notifications_pushed.mjml -o app/views/notification_mailer/batch_of_unseen_notifications_pushed.html.erb\n   21: mjml -r app/views/notification_mailer/support_msg_sent_to_admin.mjml -o app/views/notification_mailer/support_msg_sent_to_admin.html.erb\n   22: mjml -r app/views/notification_mailer/support_msg_sent_to_user.mjml -o app/views/notification_mailer/support_msg_sent_to_user.html.erb\n   23: mjml -r app/views/notification_mailer/tv_preinscription_sent.mjml -o app/views/notification_mailer/tv_preinscription_sent.html.erb\n   24: mjml -r app/views/notification_mailer/user_ultimatum.mjml -o app/views/notification_mailer/user_ultimatum.html.erb\n   25  \n\n/home/guhurak/Documents/back-end/config/i18n-tasks.yml:\n  108  # - 'simple_form.{yes,no}'\n  109  # - 'simple_form.{placeholders,hints,labels}.*'\n  110: # - 'simple_form.{error_notification,required}.:'\n  111  \n  112  ## Exclude these keys from the `i18n-tasks eq-base' report:\n\n/home/guhurak/Documents/back-end/config/routes.rb:\n  272      resources :single_invites\n  273      resources :tv_preinscriptions, only: [:index, :show]\n  274:     resources :batch_of_unseen_notifications, only: :show\n  275      resources :support_msgs, only: :show\n  276      resources :type_communautes\n  ...\n  310      resources :communaute_accesses, only: :index\n  311  \n  312:     resources :notifications, only: :index do\n  313        get 'status', on: :collection\n  314        get 'visible_steeple', on: :collection\n  ...\n  420        get 'administrators', on: :collection\n  421        get 'session_stats', on: :member\n  422:       get 'notifications', on: :member\n  423        get 'birthday', on: :collection\n  424        get 'app', on: :collection\n  ...\n  768  \n  769  \n  770:   resources :notifications, only: [:show, :index] do\n  771      get 'all', on: :collection\n  772      get 'load', on: :collection\n  ...\n  847  \n  848      get 'notif_requests', on: :collection, to: 'one_requests#notifs'\n  849:     resources :notifications\n  850      get 'annonces'\n  851  \n  ...\n 1025        resources :recent_activities, only: [:index]\n 1026  \n 1027:       resources :notifications, only: [:index] do\n 1028          patch :mark_seen, on: :member\n 1029          patch :mark_all_seen, on: :collection\n\n/home/guhurak/Documents/back-end/config/sidekiq.yml:\n   10    - [\"scheduler\", 3]\n   11    - [\"default\", 2]\n   12:   - [\"notifications\", 2]\n   13    - [\"searchkick\", 1]\n   14    - [\"not_important\", 1]\n\n/home/guhurak/Documents/back-end/config/sidekiq_short_tasks.yml:\n    6    - [\"scheduler\", 3]\n    7    - [\"default\", 2]\n    8:   - [\"notifications\", 2]\n    9    - [\"searchkick\", 1]\n   10    - [\"not_important\", 1]\n\n/home/guhurak/Documents/back-end/config/environments/development.rb:\n   52    #   'StaticPagesController#imhere',\n   53    #   'BetsController#index',\n   54:   #   'NotificationsController#load',\n   55    #   'JsonConfigsController#show',\n   56    #   'AnnoncesController#index',\n\n/home/guhurak/Documents/back-end/config/initializers/devise.rb:\n    8  # 3 - vérifier que normalement si on utilise les bons trucs de devise le truc de session devrait bien s'enlever à la déconnexion (plutôt que out_path)\n    9  # 4 - Je pense qu'il faut enlever aussi les formulaire en remote true de devise. et donc remettre config.http_authenticatable_on_xhr = true\n   10: # 5 - à mettre à true : config.send_email_changed_notification = true\n   11: # 6 - à mettre à true : config.send_password_change_notification = true\n   12  # 7 - à supprimer dans user.rb : confirmed?\n   13  \n   ..\n   30    # note that it will be overwritten if you use your own mailer class\n   31    # with default \"from\" parameter.\n   32:   config.mailer_sender = \"notification@steeple.fr\"\n   33  \n   34    # Configure the class responsible to send e-mails.\n   ..\n  129    config.pepper = ENV['DEVISE_PEPPER']\n  130  \n  131:   # Send a notification to the original email when the user's email is changed.\n  132:   # config.send_email_changed_notification = true\n  133  \n  134:   # Send a notification email when the user's password is changed.\n  135:   # config.send_password_change_notification = true\n  136  \n  137    # ==> Configuration for :confirmable\n\n/home/guhurak/Documents/back-end/config/initializers/friendly_id.rb:\n    3    # faudrait en rajouter beaucoup comme on utilise /ma-communaute...\n    4    config.reserved_words = %w(new edit index session login logout users admin\n    5:                              stylesheets assets javascripts images blog users notifications communautes setting_preferences\n    6                               support cgu decouvrir dashboard settings)\n    7  end\n\n/home/guhurak/Documents/back-end/config/initializers/lograge.rb:\n    6  #     #   'StaticPagesController#imhere',\n    7  #     #   'BetsController#index',\n    8: #     #   'NotificationsController#load',\n    9  #     #   'JsonConfigsController#show',\n   10  #     #   'AnnoncesController#index',\n\n/home/guhurak/Documents/back-end/config/locales/jobs/refresh_monitoring_data/en.yml:\n    1  en:\n    2    monitoring_data_job:\n    3:     notifications: \"Number of notifications sent twice this last 7 days\"\n    4      messagerie:\n    5        double_convs: '\"Duplicates\" conversations :'\n\n/home/guhurak/Documents/back-end/config/locales/jobs/refresh_monitoring_data/fr.yml:\n    1  fr:\n    2    monitoring_data_job:\n    3:     notifications: \"Nombre de notifications envoyées deux fois dans les 7 derniers jours :\"\n    4      messagerie:\n    5        double_convs: 'Conversations \"doublons\" :'\n\n/home/guhurak/Documents/back-end/config/locales/models/android_device/en.yml:\n    3      welcome_steeple: \"Welcome to Steeple\"\n    4      messaging: \"messaging\"\n    5:     notification: \"notification\"\n    6  \n\n/home/guhurak/Documents/back-end/config/locales/models/android_device/fr.yml:\n    3      welcome_steeple: \"Bienvenue sur Steeple\"\n    4      messaging: \"messagerie\"\n    5:     notification: \"notification\"\n    6  \n\n/home/guhurak/Documents/back-end/config/locales/models/batch_of_unseen_notifications/en.yml:\n    1  en:\n    2:   unseen_notifications:\n    3:     one_more: \"(+ 1 other notification)\"\n    4:     many_more: \"others notifications\"\n\n/home/guhurak/Documents/back-end/config/locales/models/batch_of_unseen_notifications/fr.yml:\n    1  fr:\n    2:   unseen_notifications:\n    3:     one_more: \"(+ 1 autre notification)\"\n    4:     many_more: \"autres notifications\"\n\n/home/guhurak/Documents/back-end/config/locales/models/notification/en.yml:\n    1  en:\n    2:   notification:\n    3      can_post_to_group_now: \"You can now post in the sub-category\"\n    4      comment_also_posted_on_this_post: \"also commented on this publication\"\n    .\n   40      ringing_sent: \"Someone is waiting for you at the Steeple screen\"\n   41  \n   42:     same_grouped_notifications_grouped: \"same_grouped_notifications_grouped\" #158 à voir\n   43  \n   44      single_invite_sent: \"invited you on Steeple\"\n\n/home/guhurak/Documents/back-end/config/locales/models/notification/fr.yml:\n    1  fr:\n    2:   notification:\n    3      can_post_to_group_now: \"Vous pouvez maintenant poster dans la sous-catégorie\"\n    4      comment_also_posted_on_this_post: \"a également commenté cette publication\"\n    .\n   40      ringing_sent: \"Une personne vous attend devant l'écran Steeple\"\n   41  \n   42:     same_grouped_notifications_grouped: \"same_grouped_notifications_grouped\" #158 à voir\n   43  \n   44      single_invite_sent: \"vous invite sur Steeple\"\n\n/home/guhurak/Documents/back-end/config/locales/models/pigeon_voyageur/en.yml:\n    7      type: \"Type\"\n    8      visibility: \"Visibility\"\n    9:     notifications: \"Notifications\"\n   10      print_nbr: \"Number of shows\"\n   11      community_nbr: \"Number of targeted communities\"\n\n/home/guhurak/Documents/back-end/config/locales/models/pigeon_voyageur/fr.yml:\n    7      type: \"Type\"\n    8      visibility: \"Visibilité\"\n    9:     notifications: \"Notifications\"\n   10      show_nbr: \"Nombre de vues du pigeon\"\n   11      community_nbr: \"Nombre de communautés ciblées\"\n\n/home/guhurak/Documents/back-end/config/locales/modul/en.yml:\n   69      bell:\n   70        name: \"Bell\"\n   71:       description: \"Your visitors can now simply notify you of their arrival. A notification or an e-mail will be sent to you.\"\n   72      counter:\n   73        name: \"Counter\"\n\n/home/guhurak/Documents/back-end/config/locales/modul/fr.yml:\n   75      bell:\n   76        name: \"Sonnette\"\n   77:       description: \"Vos visiteurs peuvent désormais vous avertir simplement de leur arrivée. Une notification ou un e-mail vous sera envoyé.\"\n   78      counter:\n   79        name: \"Compteur\"\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/custom_modules/administration_custom_modules.en.yml:\n   26          no_display: \"No display selected\"\n   27          return_to_edit: \"Return\"\n   28:       notifications_settings:\n   29          n1: Receive news suggestions\n   30:         n2: Receive suggestion notifications\n   31        s_affiche_ici:\n   32          n1: This module can be shown on display screens.\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/custom_modules/administration_custom_modules.es.yml:\n   25          add_to_display: \"Añadir el módulo al siguiente tablón de anuncios: \"\n   26          no_display: \"No se ha seleccionado ningún tablón de anuncios\"\n   27:       notifications_settings:\n   28          n1: \"Recibir sugerencias de anuncios\"\n   29          n2: \"Recibir las notificaciones de sugerencias\"\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/custom_modules/administration_custom_modules.fr.yml:\n   26          no_display: \"Aucun tableau d'affichage séléctionné\"\n   27          return_to_edit: \"Retour\"\n   28:       notifications_settings:\n   29          n1: \"Recevoir des suggestions d'annonces\"\n   30:         n2: \"Recevoir les notifications de suggestions\"\n   31        s_affiche_ici:\n   32          n1: \"Ce module peut s'afficher sur les écrans d'affichage.\"\n\n/home/guhurak/Documents/back-end/config/locales/views/convs/convs.en.yml:\n   10      header:\n   11        n1: You (only)\n   12:       n2: Notifications are disabled.\n   13        n3: Reactivate\n   14      index:\n   ..\n   38        n5: Add\n   39        n6: Cancel\n   40:       n7: Notifications\n   41:       n8: Notifications are disabled\n   42:       n9: Notifications are enabled\n   43:       n10: Enable notifications\n   44        n11: 1hr\n   45        n12: 1 day\n   ..\n   58        n25: Are you sure you want to leave this conversation?\n   59        n26: until\n   60:       n27: \"Disable notifications\"\n   61      settings:\n   62        n1: Group settings\n\n/home/guhurak/Documents/back-end/config/locales/views/convs/convs.fr.yml:\n   10      header:\n   11        n1: \"Vous (seulement)\"\n   12:       n2: \"Les notifications sont désactivées.\"\n   13        n3: \"Réactiver\"\n   14      index:\n   ..\n   38        n5: \"Ajouter\"\n   39        n6: \"Annuler\"\n   40:       n7: \"Notifications\"\n   41:       n8: \"Les notifications sont désactivées\"\n   42:       n9: \"Les notifications sont activées\"\n   43:       n10: \"Activer les notifications\"\n   44        n11: \"1h\"\n   45        n12: \"1 jour\"\n   ..\n   58        n25: \"Êtes-vous sûr(e) de vouloir quitter cette conversation ?\"\n   59        n26: \"jusqu'au\" #until\n   60:       n27: \"Désactiver les notifications\"\n   61      settings:\n   62        n1: \"Paramètres du groupe\"\n\n/home/guhurak/Documents/back-end/config/locales/views/layouts/layouts.en.yml:\n   11        n11: Find my community\n   12        n12: My profile\n   13:       n13: My notifications\n   14        n14: My conversations\n   15        n15: My settings\n\n/home/guhurak/Documents/back-end/config/locales/views/layouts/layouts.fr.yml:\n   14        n11: \"Retrouver ma communauté\"\n   15        n12: \"Mon profil\"\n   16:       n13: \"Mes notifications\"\n   17        n14: \"Mes conversations\"\n   18        n15: \"Mes paramètres\"\n\n/home/guhurak/Documents/back-end/config/locales/views/log_recap_mailer/log_recap_mailer.en.yml:\n   14        n11: View all activities\n   15        n12:\n   16:         one: You also have %{count} unread notification\n   17:         other: You also have %{count} unread notifications\n   18:       n13: View all my notifications\n   19        n14: Set how often you'd like to receive roundups by <a href='%{link}' style='color:#484848;'>clicking here</a>.\n   20        n15: Here are some suggestions. For more information, please visit %{url}\n\n/home/guhurak/Documents/back-end/config/locales/views/log_recap_mailer/log_recap_mailer.fr.yml:\n   14        n11: \"Découvrir toutes les activités\"\n   15        n12:\n   16:         one: \"Vous avez également %{count} notification non lue\"\n   17:         other: \"Vous avez également %{count} notifications non lues\"\n   18:       n13: \"Voir toutes mes notifications\"\n   19        n14: \"Paramétrez la fréquence de réception du récapitulatif en <a href='%{link}' style='color:#484848;'>cliquant ici</a>.\"\n   20        n15: \"Voici des suggestions, pour plus d'informations, rendez-vous sur %{url}\"\n\n/home/guhurak/Documents/back-end/config/locales/views/modules/modules.en.yml:\n   14        n8: MINUTES\n   15        n9: SECONDS\n   16:       n10: Notifications\n   17:       n11: 'Members receive a notification:'\n   18        n12: Countdown in progress\n   19        n13: When there is one week to go, one day to go, and when the countdown has finished\n   ..\n   24        n4: Current record\n   25        n5: Record\n   26:       n6: Notifications\n   27:       n7: 'Members receive a notification:'\n   28        n8: When the record is broken\n   29        n9: Reset to zero\n   ..\n   57        n3: at least the first category\n   58        n4: 'E.g., Category %{nbr}'\n   59:       n5: Notifications\n   60:       n6: 'Members receive a notification:'\n   61        n7: When a new suggestion is made\n   62        n8: Suggestion box name\n   ..\n  195          other: Days with no accidents at work\n  196        n7: 'Record: %{nbr} d'\n  197:       n8: Notifications\n  198:       n9: 'Members receive a notification:'\n  199      rugby2019:\n  200        n1: \"Be the best forecaster for the 2019 Rugby World Cup\"\n\n/home/guhurak/Documents/back-end/config/locales/views/modules/modules.fr.yml:\n   14        n8: \"MINUTES\"\n   15        n9: \"SECONDES\"\n   16:       n10: \"Notifications\"\n   17:       n11: \"Les membres reçoivent une notification :\"\n   18        n12: \"De l'avancement du compte à rebours\"\n   19        n13: \"Lorsqu'il reste une semaine, un jour et lors de la fin du décompte\"\n   ..\n   24        n4: \"Record actuel\"\n   25        n5: \"Record\"\n   26:       n6: \"Notifications\"\n   27:       n7: \"Les membres reçoivent une notification :\"\n   28        n8: \"Lorsque le record est battu\"\n   29        n9: \"Remettre à zéro\"\n   ..\n   57        n3: \"au moins la première catégorie\"\n   58        n4: \"Ex : Catégorie %{nbr}\"\n   59:       n5: \"Notifications\"\n   60:       n6: \"Les membres reçoivent une notification :\"\n   61        n7: \"Lorqu'une nouvelle idée est proposée\"\n   62        n8: \"Nom de la Boîte à idées\"\n   ..\n  183          other: \"Jours sans accident de travail\"\n  184        n7: \"Record : %{nbr} j\"\n  185:       n8: \"Notifications\"\n  186:       n9: \"Les membres reçoivent une notification :\"\n  187        n10: \"Lorsque le record est battu\"\n  188        n11: \"Remettre à zéro\"\n\n/home/guhurak/Documents/back-end/config/locales/views/notification_mailer/notification_mailer.en.yml:\n    4      message: \"%{user} published a new post on Steeple in the %{communaute} community:\"\n    5      see_post: \"Click here to see the post\"\n    6:   batch_of_unseen_notifications_pushed:\n    7:     all_notifs: View all my notifications\n    8      see_post: View publication\n    9:     title: New Steeple notification\n   10    omment_also_posted_on_this_post:\n   11      title: \"New comment on a post\"\n   ..\n   23      access_community: \"To access the Steeple <span style='font-weight:bold;'>%{community}</span> web platform and interact with all members:\"\n   24      access_community_text: 'To access the Steeple \"%{community}\" web platform and interact with all members:'\n   25:     title: New Steeple notification\n   26    communaute_access_request_granted:\n   27      access: 'To access the Steeple web platform and interact with all members:'\n   ..\n   52      cgu_acceptance: 'By clicking \"Click here\" you agree to <a href=\"%{link}\" target=\"_blank\" style=\"color:#484848;\">our terms of use</a>'\n   53      click_here: Click here\n   54:     edit_settings: Change your email notification preferences <a href='%{link}' style='color:#484848;'>here </a>\n   55:     edit_settings_text: Manage my email notifications in Steeple settings\n   56      hello: Hi\n   57      private: This is a personal email that lets you log in using your account. Take care not to <span style='text-decoration:underline;'>reveal it to anyone</span>\n\n/home/guhurak/Documents/back-end/config/locales/views/notification_mailer/notification_mailer.fr.yml:\n    4      message: \"%{user} a publié sur Steeple dans la communauté %{communaute} :\"\n    5      see_post: \"Cliquez ici pour voir la publication\"\n    6:   batch_of_unseen_notifications_pushed:\n    7:     title: \"Nouvelle notification Steeple\"\n    8      see_post: \"Voir la publication\"\n    9:     all_notifs: \"Découvrir toutes mes notifications\"\n   10    comment_also_posted_on_this_post:\n   11      title: \"Nouveau commentaire sur une publication\"\n   ..\n   21      see_comment: \"Cliquez ici pour voir le commentaire\"\n   22    communaute_access_mailed_to_you:\n   23:     title: \"Nouvelle notification Steeple\"\n   24      access_community: \"Pour accéder à la plateforme web Steeple <span style='font-weight:bold;'>%{community}</span> et échanger avec l'ensemble des membres :\"\n   25      access_community_text: \"Pour accéder à la plateforme web Steeple \\\"%{community}\\\" et échanger avec l'ensemble des membres :\"\n   ..\n  143      click_here: \"Cliquez ici\"\n  144      hello: \"Bonjour\"\n  145:     edit_settings: \"Modifiez vos préférences de notifications par email en <a href='%{link}' style='color:#484848;'>cliquant ici </a>\"\n  146:     edit_settings_text: \"Gérer mes notifications par mail dans les paramètres de Steeple\"\n  147      private: \"Cet email est personnel, il permet de se connecter sous votre compte, veillez à <span style='text-decoration:underline;'>ne pas le transférer</span>\"\n  148      private_text: \"Cet email est personnel, il permet de se connecter sous votre compte, veillez à ne pas le transférer\"\n\n/home/guhurak/Documents/back-end/config/locales/views/notifications/notifications.en.yml:\n    1  en:\n    2:   notifications:\n    3      index:\n    4:       n1: Notifications\n    5:       n2: My notifications\n    6        n3: Mark all as read\n    7:       n4: Notifications can be viewed here, find out who has liked or commented on your publications.\n    8:     notification:\n    9:       n1: Re-enable notifications for this post\n   10:       n2: Disable notifications for this post\n   11  \n\n/home/guhurak/Documents/back-end/config/locales/views/notifications/notifications.fr.yml:\n    1  fr:\n    2:   notifications:\n    3:     notification:\n    4:       n1: \"Ré-activer les notifications de cette annonce\"\n    5:       n2: \"Désactiver les notifications de cette annonce\"\n    6      index:\n    7:       n1: \"Notifications\"\n    8:       n2: \"Mes notifications\"\n    9        n3: \"Tout marquer comme lu\"\n   10:       n4: \"Vous retrouverez ici vos notifications, notamment les personnes qui aiment ou commentent vos publications.\"\n   11  \n\n/home/guhurak/Documents/back-end/config/locales/views/ringings/ringing.en.yml:\n    2    ringings:\n    3      create:\n    4:       n1: Notification has been sent, %{user} should arrive soon!\n    5        n2: The limit of 3 calls per minute has been reached. Please try again later.\n    6      modal_form:\n\n/home/guhurak/Documents/back-end/config/locales/views/ringings/ringing.fr.yml:\n    7        n4: \"Utilisateur\"\n    8      create:\n    9:       n1: \"La notification a été envoyée, %{user} devrait bientôt arriver !\"\n   10        n2: \"La limite de 3 appels pas minute a été atteinte. Veuillez réessayer ultérieurement.\"\n   11  \n\n/home/guhurak/Documents/back-end/config/locales/views/setting_preferences/setting_preferences.en.yml:\n   12        n12: The 4-digit code allows you to log in with ease on Steeple screens.\n   13        n13: Delete my account\n   14:       n14: Notifications you receive\n   15        n15: Add email\n   16        n16: Language\n   ..\n   23        n9: 4-digit code\n   24      setting_preference:\n   25:       n1: My notifications\n   26        n10: Someone has also commented on a publication I have commented on\n   27        n11: Someone likes my publication\n   28        n12: Someone has requested access to a community\n   29:       n13: 'Receive an app notification when:'\n   30        n14: A new publication is posted\n   31        n15: 'in:'\n   32        n16: 'You can download the mobile app here:'\n   33:       n17: Please indicate whether you would like to restrict notifications and emails\n   34        n18: 'How I am notified:'\n   35        n19: Send me emails\n   36        n2: Roundup email\n   37:       n20: Send me web notifications\n   38:       n21: Send me mobile notifications\n   39:       n22: Mobile notifications can be configured directly within the browser\n   40:       n23: Mobile notifications can be configured directly via the Android or iOS app\n   41:       n24: When to send notifications\n   42        n3: Daily\n   43        n4: Weekly\n   44        n5: Never\n   45        n6: Receive a summary email when something happens in my community\n   46:       n7: 'Send me an email notification after receiving:'\n   47        n8: A private message\n   48        n9: A comment on one of my publications\n   ..\n   69        n9: Contact us\n   70      webnotif:\n   71:       n1: To get the most out of Steeple, enable the \"Notifications\" feature of your web browser.\n   72:       n2: You will be able to see private messages and notifications sent to you in real time, without having to reload the page.\n   73        n3: No, thank you\n   74        n4: Enable\n   75      work_can_wait:\n   76:       n1: Always receive notifications\n   77        n2: Only during a predefined time period\n   78:       n3: 'FAKE? : Receive a summary of missed notifications the next day.'\n   79  \n\n/home/guhurak/Documents/back-end/config/locales/views/setting_preferences/setting_preferences.fr.yml:\n   19        n13: \"Supprimer mon compte\"\n   20        delete_confirm: \"Voulez-vous supprimer définitivement votre compte Steeple et toutes vos publications?\"\n   21:       n14: \"Les notifications que vous recevez\"\n   22        n15: \"Ajouter un email\"\n   23        n16: \"Langage\"\n   24      setting_preference:\n   25:       n1: \"Mes notifications\"\n   26        n2: \"Email récapitulatif\"\n   27        n3: \"Journalier\"\n   ..\n   29        n5: \"Jamais\"\n   30        n6: \"Permet de recevoir un mail récapitulatif quand il y a de l'activité dans ma communauté.\"\n   31:       n7: \"Recevoir une notification par email lorsque :\"\n   32        n8: \"Je reçois un message privé\"\n   33        n9: \"Je reçois un commentaire sur une de mes publications\"\n   ..\n   35        n11: \"Une personne like ma publication\"\n   36        n12: \"Quelqu'un demande l'accès à une communauté\"\n   37:       n13: \"Recevoir une notification sur l'application mobile lorsque :\"\n   38        n14: \"Une nouvelle publication est postée\"\n   39        n15: \"dans :\"\n   40        n16: \"Vous pouvez télécharger l'application mobile sur :\"\n   41:       n17: \"Indiquez si vous souhaitez restreindre ou non l'envoi des notifications et des emails\"\n   42        n18: \"Comment je suis notifié :\"\n   43        n19: \"M'envoyer des emails\"\n   44:       n20: \"M'envoyer des notifications web\"\n   45:       n21: \"M'envoyer des notifications sur mobile\"\n   46:       n22: \"Les notifications mobile se paramètrent directement depuis le navigateur\"\n   47:       n23: \"Les notifications mobiles se paramètrent directement depuis l'application Android ou IOS\"\n   48:       n24: \"Méthodes d'envoi de notification\"\n   49        n25: \"Une annonce est publiée dans ma communauté\"\n   50        n26: \"Quelqu'un me mentionne dans une publication\"\n   ..\n   69        n13: \"Voir la page d'accueil\"\n   70      work_can_wait:\n   71:       n1: \"Toujours recevoir les notifications\"\n   72        n2: \"Seulement sur un créneau horaire prédéfini\"\n   73:       n3: \"FAKE? : Avoir un récapitulatif des notifications manquées le lendemain.\"\n   74      webnotif:\n   75:       n1: \"Pour profiter au maximum de l'expérience Steeple activez la fonctionnalité \\\"Notifications\\\" de votre navigateur web.\"\n   76:       n2: \"Vous pourrez voir en temps réel les messages privés et les notifications qui vous sont adressés, sans avoir à récharger la page.\"\n   77        n3: \"Non, merci\"\n   78        n4: \"Activer\"\n\n/home/guhurak/Documents/back-end/coverage/.resultset.json:\n 3827          ]\n 3828        },\n 3829:       \"/home/guhurak/Documents/back-end/app/helpers/notification_helper.rb\": {\n 3830          \"lines\": [\n 3831            1,\n ....\n 14759          ]\n 14760        },\n 14761:       \"/home/guhurak/Documents/back-end/app/controllers/api/v1/mapper/notifications.rb\": {\n 14762          \"lines\": [\n 14763            1,\n .....\n 16949          ]\n 16950        },\n 16951:       \"/home/guhurak/Documents/back-end/app/services/notification_creator_service.rb\": {\n 16952          \"lines\": [\n 16953            null,\n .....\n 17007          ]\n 17008        },\n 17009:       \"/home/guhurak/Documents/back-end/app/models/notification.rb\": {\n 17010          \"lines\": [\n 17011            null,\n .....\n 17516          ]\n 17517        },\n 17518:       \"/home/guhurak/Documents/back-end/app/models/same_grouped_notifications.rb\": {\n 17519          \"lines\": [\n 17520            null,\n .....\n 17559          ]\n 17560        },\n 17561:       \"/home/guhurak/Documents/back-end/app/models/batch_of_unseen_notifications.rb\": {\n 17562          \"lines\": [\n 17563            null,\n .....\n 17620          ]\n 17621        },\n 17622:       \"/home/guhurak/Documents/back-end/app/services/notification_types.rb\": {\n 17623          \"lines\": [\n 17624            null,\n .....\n 18004          ]\n 18005        },\n 18006:       \"/home/guhurak/Documents/back-end/app/jobs/v2/send_urgent_notification_job.rb\": {\n 18007          \"lines\": [\n 18008            1,\n .....\n 21883          ]\n 21884        },\n 21885:       \"/home/guhurak/Documents/back-end/app/jobs/v2/send_notification_job.rb\": {\n 21886          \"lines\": [\n 21887            1,\n\n/home/guhurak/Documents/back-end/coverage/index.html:\n  292          \n  293            <tr class=\"t-file\">\n  294:             <td class=\"strong t-file__name\"><a href=\"#197329257439bef497a9401701a5331c0c684e43\" class=\"src_link\" title=\"app/controllers/api/v1/mapper/notifications.rb\">app/controllers/api/v1/mapper/notifications.rb</a></td>\n  295              <td class=\"red strong cell--number t-file__coverage\">3.51 %</td>\n  296              <td class=\"cell--number\">93</td>\n  ...\n  556          \n  557            <tr class=\"t-file\">\n  558:             <td class=\"strong t-file__name\"><a href=\"#fe6a6630c69367c43020ff576c3052f01f3898e1\" class=\"src_link\" title=\"app/helpers/notification_helper.rb\">app/helpers/notification_helper.rb</a></td>\n  559              <td class=\"red strong cell--number t-file__coverage\">28.57 %</td>\n  560              <td class=\"cell--number\">11</td>\n  ...\n  655          \n  656            <tr class=\"t-file\">\n  657:             <td class=\"strong t-file__name\"><a href=\"#608badd59ce221d17c26997a23ccb5dde555f174\" class=\"src_link\" title=\"app/jobs/v2/send_notification_job.rb\">app/jobs/v2/send_notification_job.rb</a></td>\n  658              <td class=\"red strong cell--number t-file__coverage\">60.00 %</td>\n  659              <td class=\"cell--number\">8</td>\n  ...\n  666          \n  667            <tr class=\"t-file\">\n  668:             <td class=\"strong t-file__name\"><a href=\"#530e8e40b2145265e9b0f490294af849adf86d40\" class=\"src_link\" title=\"app/jobs/v2/send_urgent_notification_job.rb\">app/jobs/v2/send_urgent_notification_job.rb</a></td>\n  669              <td class=\"red strong cell--number t-file__coverage\">75.00 %</td>\n  670              <td class=\"cell--number\">7</td>\n  ...\n  743          \n  744            <tr class=\"t-file\">\n  745:             <td class=\"strong t-file__name\"><a href=\"#7bec79528fd8b08b21d75a555705bba93c014ef5\" class=\"src_link\" title=\"app/models/batch_of_unseen_notifications.rb\">app/models/batch_of_unseen_notifications.rb</a></td>\n  746              <td class=\"red strong cell--number t-file__coverage\">25.00 %</td>\n  747              <td class=\"cell--number\">57</td>\n  ...\n 1183          \n 1184            <tr class=\"t-file\">\n 1185:             <td class=\"strong t-file__name\"><a href=\"#c114cdf3ffed58c0b1edda75ae3f33302c09dd70\" class=\"src_link\" title=\"app/models/notification.rb\">app/models/notification.rb</a></td>\n 1186              <td class=\"red strong cell--number t-file__coverage\">34.40 %</td>\n 1187              <td class=\"cell--number\">505</td>\n ....\n 1271          \n 1272            <tr class=\"t-file\">\n 1273:             <td class=\"strong t-file__name\"><a href=\"#fd2cdcc9a9a7f22c4ef63e189dd29ea629866435\" class=\"src_link\" title=\"app/models/same_grouped_notifications.rb\">app/models/same_grouped_notifications.rb</a></td>\n 1274              <td class=\"red strong cell--number t-file__coverage\">36.36 %</td>\n 1275              <td class=\"cell--number\">39</td>\n ....\n 1590          \n 1591            <tr class=\"t-file\">\n 1592:             <td class=\"strong t-file__name\"><a href=\"#dc84501024a1a4336e16927ab7e916aaa06e2e45\" class=\"src_link\" title=\"app/services/notification_creator_service.rb\">app/services/notification_creator_service.rb</a></td>\n 1593              <td class=\"red strong cell--number t-file__coverage\">57.14 %</td>\n 1594              <td class=\"cell--number\">33</td>\n ....\n 1601          \n 1602            <tr class=\"t-file\">\n 1603:             <td class=\"strong t-file__name\"><a href=\"#e55f7182ef5c49b77afe376ed29c21c94857531f\" class=\"src_link\" title=\"app/services/notification_types.rb\">app/services/notification_types.rb</a></td>\n 1604              <td class=\"red strong cell--number t-file__coverage\">63.83 %</td>\n 1605              <td class=\"cell--number\">380</td>\n ....\n 3256              \n 3257  \n 3258:             <code class=\"ruby\">      unseenNotificationsCount: current_user.notifications.visible_in_main.where(seen: false).count</code>\n 3259            </li>\n 3260          </div>\n ....\n 18439              \n 18440  \n 18441:             <code class=\"ruby\">        NotificationCreatorService.create(restriction_try.target, &#39;restriction_try_sent&#39;, restriction_try)</code>\n 18442            </li>\n 18443          </div>\n .....\n 18921              \n 18922  \n 18923:             <code class=\"ruby\">  include Api::V1::Mapper::Notifications</code>\n 18924            </li>\n 18925          </div>\n .....\n 24096          <div class=\"source_table\" id=\"197329257439bef497a9401701a5331c0c684e43\">\n 24097    <div class=\"header\">\n 24098:     <h3>app/controllers/api/v1/mapper/notifications.rb</h3>\n 24099      <h4>\n 24100        <span class=\"red\">\n .....\n 24127              \n 24128  \n 24129:             <code class=\"ruby\">module Api::V1::Mapper::Notifications</code>\n 24130            </li>\n 24131          </div>\n .....\n 24138              \n 24139  \n 24140:             <code class=\"ruby\">  def notification(notification)</code>\n 24141            </li>\n 24142          </div>\n .....\n 24160              \n 24161  \n 24162:             <code class=\"ruby\">      _type: &#39;Notification&#39;,</code>\n 24163            </li>\n 24164          </div>\n .....\n 24171              \n 24172  \n 24173:             <code class=\"ruby\">      id: notification.id,</code>\n 24174            </li>\n 24175          </div>\n .....\n 24182              \n 24183  \n 24184:             <code class=\"ruby\">      createdAt: notification.created_at,</code>\n 24185            </li>\n 24186          </div>\n .....\n 24193              \n 24194  \n 24195:             <code class=\"ruby\">      seen: notification.seen,</code>\n 24196            </li>\n 24197          </div>\n .....\n 24204              \n 24205  \n 24206:             <code class=\"ruby\">      type: notification.verb,</code>\n 24207            </li>\n 24208          </div>\n .....\n 24215              \n 24216  \n 24217:             <code class=\"ruby\">      hidden: !notification.notifiable</code>\n 24218            </li>\n 24219          </div>\n .....\n 24292              \n 24293  \n 24294:             <code class=\"ruby\">    case notification.verb</code>\n 24295            </li>\n 24296          </div>\n .....\n 24314              \n 24315  \n 24316:             <code class=\"ruby\">      data[:userId] = notification.notifiable.user_id</code>\n 24317            </li>\n 24318          </div>\n .....\n 24325              \n 24326  \n 24327:             <code class=\"ruby\">      data[:ideaTitle] = notification.notifiable.idea.title</code>\n 24328            </li>\n 24329          </div>\n .....\n 24336              \n 24337  \n 24338:             <code class=\"ruby\">      data[:commentContent] = notification.notifiable.content</code>\n 24339            </li>\n 24340          </div>\n .....\n 24358              \n 24359  \n 24360:             <code class=\"ruby\">      data[:userId] = notification.notifiable.user_id</code>\n 24361            </li>\n 24362          </div>\n .....\n 24369              \n 24370  \n 24371:             <code class=\"ruby\">      data[:postId] = notification.notifiable.annonce_id</code>\n 24372            </li>\n 24373          </div>\n .....\n 24380              \n 24381  \n 24382:             <code class=\"ruby\">      data[:postTitle] = notification.notifiable.annonce.title</code>\n 24383            </li>\n 24384          </div>\n .....\n 24391              \n 24392  \n 24393:             <code class=\"ruby\">      data[:commentContent] = Compatibility.no_html(notification.notifiable.content)</code>\n 24394            </li>\n 24395          </div>\n .....\n 24413              \n 24414  \n 24415:             <code class=\"ruby\">      data[:accessId] = notification.notifiable_id</code>\n 24416            </li>\n 24417          </div>\n .....\n 24424              \n 24425  \n 24426:             <code class=\"ruby\">      data[:accessToken] = notification.notifiable.token</code>\n 24427            </li>\n 24428          </div>\n .....\n 24435              \n 24436  \n 24437:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.communaute.name</code>\n 24438            </li>\n 24439          </div>\n .....\n 24457              \n 24458  \n 24459:             <code class=\"ruby\">      data[:communityId] = notification.notifiable.communaute_id</code>\n 24460            </li>\n 24461          </div>\n .....\n 24468              \n 24469  \n 24470:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.communaute.name</code>\n 24471            </li>\n 24472          </div>\n .....\n 24490              \n 24491  \n 24492:             <code class=\"ruby\">      data[:communityId] = notification.notifiable_id</code>\n 24493            </li>\n 24494          </div>\n .....\n 24501              \n 24502  \n 24503:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.name</code>\n 24504            </li>\n 24505          </div>\n .....\n 24523              \n 24524  \n 24525:             <code class=\"ruby\">      data[:countdownName] = notification.notifiable.primary_text</code>\n 24526            </li>\n 24527          </div>\n .....\n 24545              \n 24546  \n 24547:             <code class=\"ruby\">      data[:counterName] = notification.data[&#39;name&#39;].presence || &#39;Compteur&#39;</code>\n 24548            </li>\n 24549          </div>\n .....\n 24556              \n 24557  \n 24558:             <code class=\"ruby\">      data[:newRecord] = notification.data[&#39;count&#39;]</code>\n 24559            </li>\n 24560          </div>\n .....\n 24578              \n 24579  \n 24580:             <code class=\"ruby\">      data[:communityId] = notification.notifiable.communaute_id</code>\n 24581            </li>\n 24582          </div>\n .....\n 24589              \n 24590  \n 24591:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.communaute.name</code>\n 24592            </li>\n 24593          </div>\n .....\n 24611              \n 24612  \n 24613:             <code class=\"ruby\">      data[:newRecord] = notification.data[&#39;count&#39;]</code>\n 24614            </li>\n 24615          </div>\n .....\n 24633              \n 24634  \n 24635:             <code class=\"ruby\">      data[:userId] = notification.notifiable.user_id</code>\n 24636            </li>\n 24637          </div>\n .....\n 24644              \n 24645  \n 24646:             <code class=\"ruby\">      data[:postId] = notification.notifiable.comment.annonce_id</code>\n 24647            </li>\n 24648          </div>\n .....\n 24655              \n 24656  \n 24657:             <code class=\"ruby\">      data[:commentContent] = Compatibility.no_html(notification.notifiable.comment.content)</code>\n 24658            </li>\n 24659          </div>\n .....\n 24677              \n 24678  \n 24679:             <code class=\"ruby\">      data[:userId] = notification.notifiable.user_id</code>\n 24680            </li>\n 24681          </div>\n .....\n 24688              \n 24689  \n 24690:             <code class=\"ruby\">      data[:ideaTitle] = notification.notifiable.idea.title</code>\n 24691            </li>\n 24692          </div>\n .....\n 24710              \n 24711  \n 24712:             <code class=\"ruby\">      data[:userId] = notification.notifiable.user_id</code>\n 24713            </li>\n 24714          </div>\n .....\n 24721              \n 24722  \n 24723:             <code class=\"ruby\">      data[:postId] = notification.notifiable.annonce_id</code>\n 24724            </li>\n 24725          </div>\n .....\n 24732              \n 24733  \n 24734:             <code class=\"ruby\">      data[:postTitle] = notification.notifiable.annonce.title</code>\n 24735            </li>\n 24736          </div>\n .....\n 24754              \n 24755  \n 24756:             <code class=\"ruby\">      data[:day] = notification.notifiable.match_day_ref</code>\n 24757            </li>\n 24758          </div>\n .....\n 24776              \n 24777  \n 24778:             <code class=\"ruby\">      data[:userId] = notification.notifiable.mentionnable.user_id</code>\n 24779            </li>\n 24780          </div>\n .....\n 24787              \n 24788  \n 24789:             <code class=\"ruby\">      data[:postId] = notification.notifiable.mentionnable.id</code>\n 24790            </li>\n 24791          </div>\n .....\n 24798              \n 24799  \n 24800:             <code class=\"ruby\">      data[:postTitle] = notification.notifiable.mentionnable.title</code>\n 24801            </li>\n 24802          </div>\n .....\n 24820              \n 24821  \n 24822:             <code class=\"ruby\">      data[:userId] = notification.notifiable.mentionnable.user_id</code>\n 24823            </li>\n 24824          </div>\n .....\n 24831              \n 24832  \n 24833:             <code class=\"ruby\">      data[:postId] = notification.notifiable.mentionnable.annonce_id</code>\n 24834            </li>\n 24835          </div>\n .....\n 24842              \n 24843  \n 24844:             <code class=\"ruby\">      data[:commentContent] = Compatibility.no_html(notification.notifiable.mentionnable.content)</code>\n 24845            </li>\n 24846          </div>\n .....\n 24864              \n 24865  \n 24866:             <code class=\"ruby\">      data[:userName] = notification.notifiable.user_communaute.user.name</code>\n 24867            </li>\n 24868          </div>\n .....\n 24875              \n 24876  \n 24877:             <code class=\"ruby\">      data[:communityId] = notification.notifiable.communaute_access.communaute_id</code>\n 24878            </li>\n 24879          </div>\n .....\n 24886              \n 24887  \n 24888:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.communaute_access.communaute.name</code>\n 24889            </li>\n 24890          </div>\n .....\n 24908              \n 24909  \n 24910:             <code class=\"ruby\">      data[:doveId] = notification.notifiable_id</code>\n 24911            </li>\n 24912          </div>\n .....\n 24919              \n 24920  \n 24921:             <code class=\"ruby\">      data[:doveTitle] = notification.notifiable.title</code>\n 24922            </li>\n 24923          </div>\n .....\n 24930              \n 24931  \n 24932:             <code class=\"ruby\">      data[:doveContent] = notification.notifiable.body</code>\n 24933            </li>\n 24934          </div>\n .....\n 24952              \n 24953  \n 24954:             <code class=\"ruby\">      data[:postId] = notification.notifiable.annonce.id</code>\n 24955            </li>\n 24956          </div>\n .....\n 24963              \n 24964  \n 24965:             <code class=\"ruby\">      data[:votesCount] = notification.notifiable.locked_votes_count</code>\n 24966            </li>\n 24967          </div>\n .....\n 24985              \n 24986  \n 24987:             <code class=\"ruby\">      data[:communityId] = notification.notifiable.restriction.communaute_id</code>\n 24988            </li>\n 24989          </div>\n .....\n 24996              \n 24997  \n 24998:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.restriction.communaute.name</code>\n 24999            </li>\n 25000          </div>\n .....\n 25018              \n 25019  \n 25020:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.communaute.name</code>\n 25021            </li>\n 25022          </div>\n .....\n 25040              \n 25041  \n 25042:             <code class=\"ruby\">      data[:userName] = notification.notifiable.user.name</code>\n 25043            </li>\n 25044          </div>\n .....\n 25051              \n 25052  \n 25053:             <code class=\"ruby\">      data[:communityId] = notification.notifiable.communaute_id</code>\n 25054            </li>\n 25055          </div>\n .....\n 25062              \n 25063  \n 25064:             <code class=\"ruby\">      data[:communityName] = notification.notifiable.communaute.name</code>\n 25065            </li>\n 25066          </div>\n .....\n 29760              \n 29761  \n 29762:             <code class=\"ruby\">  before_action :check_seen_notification</code>\n 29763            </li>\n 29764          </div>\n .....\n 30431              \n 30432  \n 30433:             <code class=\"ruby\">  def check_seen_notification</code>\n 30434            </li>\n 30435          </div>\n .....\n 30442              \n 30443  \n 30444:             <code class=\"ruby\">    if params[:notification_id] &amp;&amp; current_user</code>\n 30445            </li>\n 30446          </div>\n .....\n 30453              \n 30454  \n 30455:             <code class=\"ruby\">      NotificationSeenJob.perform_later(params[:notification_id], current_user.id)</code>\n 30456            </li>\n 30457          </div>\n .....\n 39382          <div class=\"source_table\" id=\"fe6a6630c69367c43020ff576c3052f01f3898e1\">\n 39383    <div class=\"header\">\n 39384:     <h3>app/helpers/notification_helper.rb</h3>\n 39385      <h4>\n 39386        <span class=\"red\">\n .....\n 39413              \n 39414  \n 39415:             <code class=\"ruby\">module NotificationHelper</code>\n 39416            </li>\n 39417          </div>\n .....\n 39424              \n 39425  \n 39426:             <code class=\"ruby\">  def url_and_remote_for_notification(notification)</code>\n 39427            </li>\n 39428          </div>\n .....\n 39435              \n 39436  \n 39437:             <code class=\"ruby\">    if notification&amp;.relative_annonce&amp;.id</code>\n 39438            </li>\n 39439          </div>\n .....\n 39446              \n 39447  \n 39448:             <code class=\"ruby\">      [annonce_path(notification.relative_annonce.id, { notification_id: notification.id }), false]</code>\n 39449            </li>\n 39450          </div>\n .....\n 39457              \n 39458  \n 39459:             <code class=\"ruby\">    elsif notification.notifiable_type.in? [&#39;Idea&#39;, &#39;LikeIdea&#39;, &#39;CommentIdea&#39;]</code>\n 39460            </li>\n 39461          </div>\n .....\n 39468              \n 39469  \n 39470:             <code class=\"ruby\">      [notification.path_to_open, !@current_device.mobile]</code>\n 39471            </li>\n 39472          </div>\n .....\n 39490              \n 39491  \n 39492:             <code class=\"ruby\">      [notification.path_to_open, false]</code>\n 39493            </li>\n 39494          </div>\n .....\n 40697              \n 40698  \n 40699:             <code class=\"ruby\">    NotificationCreatorService.create(user, &#39;user_ultimatum&#39;, user, { reason: reason })</code>\n 40700            </li>\n 40701          </div>\n .....\n 40981          <div class=\"source_table\" id=\"608badd59ce221d17c26997a23ccb5dde555f174\">\n 40982    <div class=\"header\">\n 40983:     <h3>app/jobs/v2/send_notification_job.rb</h3>\n 40984      <h4>\n 40985        <span class=\"red\">\n .....\n 41012              \n 41013  \n 41014:             <code class=\"ruby\">class V2::SendNotificationJob &lt; ApplicationJob</code>\n 41015            </li>\n 41016          </div>\n .....\n 41023              \n 41024  \n 41025:             <code class=\"ruby\">  queue_as :notifications</code>\n 41026            </li>\n 41027          </div>\n .....\n 41045              \n 41046  \n 41047:             <code class=\"ruby\">  def perform(notification_id)</code>\n 41048            </li>\n 41049          </div>\n .....\n 41056              \n 41057  \n 41058:             <code class=\"ruby\">    ApmService.add_context({notification_id: notification_id})</code>\n 41059            </li>\n 41060          </div>\n .....\n 41067              \n 41068  \n 41069:             <code class=\"ruby\">    Notification.find_by(id:notification_id)&amp;.send_it</code>\n 41070            </li>\n 41071          </div>\n .....\n 41100          <div class=\"source_table\" id=\"530e8e40b2145265e9b0f490294af849adf86d40\">\n 41101    <div class=\"header\">\n 41102:     <h3>app/jobs/v2/send_urgent_notification_job.rb</h3>\n 41103      <h4>\n 41104        <span class=\"red\">\n .....\n 41131              \n 41132  \n 41133:             <code class=\"ruby\">class V2::SendUrgentNotificationJob &lt; ApplicationJob</code>\n 41134            </li>\n 41135          </div>\n .....\n 41164              \n 41165  \n 41166:             <code class=\"ruby\">  def perform(notification_id)</code>\n 41167            </li>\n 41168          </div>\n .....\n 41175              \n 41176  \n 41177:             <code class=\"ruby\">    Notification.find_by(id:notification_id).try(:send_it)</code>\n 41178            </li>\n 41179          </div>\n .....\n 42302              \n 42303  \n 42304:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 42305            </li>\n 42306          </div>\n .....\n 42698              \n 42699  \n 42700:             <code class=\"ruby\">      NotificationCreatorService.create_with_user_id(mentionned_user_id, &#39;mention_in_annonce_description&#39;, mention)</code>\n 42701            </li>\n 42702          </div>\n .....\n 42742              \n 42743  \n 42744:             <code class=\"ruby\">  # ça c&#39;est pas top faudrait bypasser le système de notification et envoyer une seule requête aux serveur Apple avec un systeme de tag ou je sais pas quoi. Un peu comme les socket.</code>\n 42745            </li>\n 42746          </div>\n .....\n 42764              \n 42765  \n 42766:             <code class=\"ruby\">    # on crée la notification, sauf si c&#39;est le créateur ou qu&#39;il est déjà mentionné ou qu&#39;il est déjà notifié</code>\n 42767            </li>\n 42768          </div>\n .....\n 42830              \n 42831  \n 42832:             <code class=\"ruby\">    (user_in_same_communaute_id - notifications.pluck(:targetable_id) - [user_id] - mentions.pluck(:user_id)).each do |user_in_same_communaute_id|</code>\n 42833            </li>\n 42834          </div>\n .....\n 42841              \n 42842  \n 42843:             <code class=\"ruby\">      NotificationCreatorService.create_with_user_id(user_in_same_communaute_id, &#39;annonce_in_one_of_your_communaute&#39;, self)</code>\n 42844            </li>\n 42845          </div>\n .....\n 44612              \n 44613  \n 44614:             <code class=\"ruby\">    notifications_now_seen_ids = []</code>\n 44615            </li>\n 44616          </div>\n .....\n 44634              \n 44635  \n 44636:             <code class=\"ruby\">    notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: comments).pluck(:id)</code>\n 44637            </li>\n 44638          </div>\n .....\n 44656              \n 44657  \n 44658:             <code class=\"ruby\">    notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: likes).pluck(:id)</code>\n 44659            </li>\n 44660          </div>\n .....\n 44678              \n 44679  \n 44680:             <code class=\"ruby\">    notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: comments.includes(:likes).flat_map(&amp;:likes)).pluck(:id)</code>\n 44681            </li>\n 44682          </div>\n .....\n 44700              \n 44701  \n 44702:             <code class=\"ruby\">    notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: mentions).pluck(:id)</code>\n 44703            </li>\n 44704          </div>\n .....\n 44722              \n 44723  \n 44724:             <code class=\"ruby\">    notifications_now_seen_ids += Notification.where(seen: false, targetable: a_user, notifiable: comments.includes(:mentions).flat_map(&amp;:mentions)).pluck(:id)</code>\n 44725            </li>\n 44726          </div>\n .....\n 44744              \n 44745  \n 44746:             <code class=\"ruby\">    if notifications_now_seen_ids.any?</code>\n 44747            </li>\n 44748          </div>\n .....\n 44755              \n 44756  \n 44757:             <code class=\"ruby\">      unseen_notifications = Notification.where(id: notifications_now_seen_ids)</code>\n 44758            </li>\n 44759          </div>\n .....\n 44766              \n 44767  \n 44768:             <code class=\"ruby\">      unseen_notifications.update_all(seen:true)</code>\n 44769            </li>\n 44770          </div>\n .....\n 44777              \n 44778  \n 44779:             <code class=\"ruby\">      a_user.add_to_cached_notifs(-unseen_notifications.size)</code>\n 44780            </li>\n 44781          </div>\n .....\n 44876              \n 44877  \n 44878:             <code class=\"ruby\">    notifications_now_seen_ids</code>\n 44879            </li>\n 44880          </div>\n .....\n 47752          <div class=\"source_table\" id=\"7bec79528fd8b08b21d75a555705bba93c014ef5\">\n 47753    <div class=\"header\">\n 47754:     <h3>app/models/batch_of_unseen_notifications.rb</h3>\n 47755      <h4>\n 47756        <span class=\"red\">\n .....\n 47794              \n 47795  \n 47796:             <code class=\"ruby\">class BatchOfUnseenNotifications &lt; ApplicationRecord</code>\n 47797            </li>\n 47798          </div>\n .....\n 47805              \n 47806  \n 47807:             <code class=\"ruby\">  has_many :notifications</code>\n 47808            </li>\n 47809          </div>\n .....\n 47849              \n 47850  \n 47851:             <code class=\"ruby\">  # has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 47852            </li>\n 47853          </div>\n .....\n 47882              \n 47883  \n 47884:             <code class=\"ruby\">    all.map {|b| c1 = b.notifications_count;c2 = b.notifications.length; (c1 == c2 ? nil : [b.id,c1,c2])}.compact</code>\n 47885            </li>\n 47886          </div>\n .....\n 47915              \n 47916  \n 47917:             <code class=\"ruby\">    all.pluck(:id).each {|b_id| reset_counters(b_id, :notifications)}</code>\n 47918            </li>\n 47919          </div>\n .....\n 47970              \n 47971  \n 47972:             <code class=\"ruby\">    n1 = u.notifications.where(verb:&quot;comment_also_posted_on_this_post&quot;).order(:created_at).last</code>\n 47973            </li>\n 47974          </div>\n .....\n 47981              \n 47982  \n 47983:             <code class=\"ruby\">    n2 = u.notifications.where(verb:&quot;comment_posted_on_your_post&quot;).order(:created_at).last</code>\n 47984            </li>\n 47985          </div>\n .....\n 47992              \n 47993  \n 47994:             <code class=\"ruby\">    n3 = u.notifications.where(verb:&quot;like_given_on_your_post&quot;).order(:created_at).last</code>\n 47995            </li>\n 47996          </div>\n .....\n 48003              \n 48004  \n 48005:             <code class=\"ruby\">    n4 = u.notifications.where(verb:&quot;like_given_on_your_comment&quot;).order(:created_at).last</code>\n 48006            </li>\n 48007          </div>\n .....\n 48014              \n 48015  \n 48016:             <code class=\"ruby\">    n5 = u.notifications.where(verb:&quot;mention_in_annonce_description&quot;).order(:created_at).last</code>\n 48017            </li>\n 48018          </div>\n .....\n 48025              \n 48026  \n 48027:             <code class=\"ruby\">    n6 = u.notifications.where(verb:&quot;mention_in_comment&quot;).order(:created_at).last</code>\n 48028            </li>\n 48029          </div>\n .....\n 48036              \n 48037  \n 48038:             <code class=\"ruby\">    # n4 = Notification.find()</code>\n 48039            </li>\n 48040          </div>\n .....\n 48080              \n 48081  \n 48082:             <code class=\"ruby\">    b = BatchOfUnseenNotifications.create(user: u, notifications: a)</code>\n 48083            </li>\n 48084          </div>\n .....\n 48102              \n 48103  \n 48104:             <code class=\"ruby\">    NotificationCreatorService.create(u, &#39;batch_of_unseen_notifications_pushed&#39;, b)</code>\n 48105            </li>\n 48106          </div>\n .....\n 48135              \n 48136  \n 48137:             <code class=\"ruby\">  def last_notification</code>\n 48138            </li>\n 48139          </div>\n .....\n 48146              \n 48147  \n 48148:             <code class=\"ruby\">    @last_notification ||= notifications.order(created_at: :desc).first</code>\n 48149            </li>\n 48150          </div>\n .....\n 48190              \n 48191  \n 48192:             <code class=\"ruby\">    if notifications.size == 0</code>\n 48193            </li>\n 48194          </div>\n .....\n 48223              \n 48224  \n 48225:             <code class=\"ruby\">    elsif notifications.size == 1</code>\n 48226            </li>\n 48227          </div>\n .....\n 48234              \n 48235  \n 48236:             <code class=\"ruby\">      notifications.order(created_at: :desc).first.objet.truncate(100)</code>\n 48237            </li>\n 48238          </div>\n .....\n 48256              \n 48257  \n 48258:             <code class=\"ruby\">      the_objet = notifications.order(created_at: :desc).first.try(:objet)</code>\n 48259            </li>\n 48260          </div>\n .....\n 48267              \n 48268  \n 48269:             <code class=\"ruby\">      # bug quand notifications_count est different du nombre de notifs (bug non-résolu, qui se produit quelquefois mais rarement)</code>\n 48270            </li>\n 48271          </div>\n .....\n 48300              \n 48301  \n 48302:             <code class=\"ruby\">        if notifications.size == 2</code>\n 48303            </li>\n 48304          </div>\n .....\n 48311              \n 48312  \n 48313:             <code class=\"ruby\">          the_objet += &quot; #{I18n.t(&#39;unseen_notifications.one_more&#39;)}&quot;</code>\n 48314            </li>\n 48315          </div>\n .....\n 48333              \n 48334  \n 48335:             <code class=\"ruby\">          the_objet += &quot; (+ #{(notifications.size-1)} #{I18n.t(&#39;unseen_notifications.many_more&#39;)})&quot;</code>\n 48336            </li>\n 48337          </div>\n .....\n 51632              \n 51633  \n 51634:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 51635            </li>\n 51636          </div>\n .....\n 52574              \n 52575  \n 52576:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 52577            </li>\n 52578          </div>\n .....\n 52948              \n 52949  \n 52950:             <code class=\"ruby\">  def send_the_notification</code>\n 52951            </li>\n 52952          </div>\n .....\n 53003              \n 53004  \n 53005:             <code class=\"ruby\">    do_not_notify_user_ids = [user_id] + mentions.pluck(:user_id) + notifications.pluck(:targetable_id)</code>\n 53006            </li>\n 53007          </div>\n .....\n 53069              \n 53070  \n 53071:             <code class=\"ruby\">        NotificationCreatorService.create(mentionned_user, &#39;mention_in_comment&#39;, mentions.create(user: mentionned_user))</code>\n 53072            </li>\n 53073          </div>\n .....\n 53146              \n 53147  \n 53148:             <code class=\"ruby\">      NotificationCreatorService.create(annonce.user, &#39;comment_posted_on_your_post&#39;, self)</code>\n 53149            </li>\n 53150          </div>\n .....\n 53223              \n 53224  \n 53225:             <code class=\"ruby\">        NotificationCreatorService.create(user_to_notify_aswell, &#39;comment_also_posted_on_this_post&#39;, self)</code>\n 53226            </li>\n 53227          </div>\n .....\n 54651              \n 54652  \n 54653:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 54654            </li>\n 54655          </div>\n .....\n 56741              \n 56742  \n 56743:             <code class=\"ruby\">  # with this mode, users are able to ask for an access, then it send a notification to the administrator and they can validate them.</code>\n 56744            </li>\n 56745          </div>\n .....\n 62404              \n 62405  \n 62406:             <code class=\"ruby\"># not_sent_invitations = CommunauteAccess.where(&#39;created_at &gt; ?&#39;, 60.days.ago).where(id: (CommunauteAccess.where.not(sent_at: nil).pluck(:id) - Notification.where(verb:&#39;communaute_access_mailed_to_you&#39;).pluck(:notifiable_id).uniq)).includes(:communaute).order(:created_at)</code>\n 62407            </li>\n 62408          </div>\n .....\n 62437              \n 62438  \n 62439:             <code class=\"ruby\">#   NotificationCreatorService.create(ca.target, &#39;communaute_access_mailed_to_you&#39;, ca)</code>\n 62440            </li>\n 62441          </div>\n .....\n 62448              \n 62449  \n 62450:             <code class=\"ruby\">#   fail &quot;unidentified bug #{ca.id}&quot; if (ca.reload.notifications.length == 0)</code>\n 62451            </li>\n 62452          </div>\n .....\n 62789              \n 62790  \n 62791:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 62792            </li>\n 62793          </div>\n .....\n 62800              \n 62801  \n 62802:             <code class=\"ruby\">  has_many :log_emails, through: :notifications</code>\n 62803            </li>\n 62804          </div>\n .....\n 64692              \n 64693  \n 64694:             <code class=\"ruby\">      NotificationCreatorService.create(target, &#39;communaute_access_mailed_to_you&#39;, self)</code>\n 64695            </li>\n 64696          </div>\n .....\n 64703              \n 64704  \n 64705:             <code class=\"ruby\">      # there is a bug, invitations are not sent (12.09.2019), notifications.length = 0 although sent_at is set.</code>\n 64706            </li>\n 64707          </div>\n .....\n 64714              \n 64715  \n 64716:             <code class=\"ruby\">      fail &quot;unidentified bug communaute access : #{id}&quot; if (reload.notifications.length == 0)</code>\n 64717            </li>\n 64718          </div>\n .....\n 66142              \n 66143  \n 66144:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 66145            </li>\n 66146          </div>\n .....\n 66318              \n 66319  \n 66320:             <code class=\"ruby\">        NotificationCreatorService.create(administrator.user, &#39;communaute_access_request_sent_to_administrator&#39;, self)</code>\n 66321            </li>\n 66322          </div>\n .....\n 66637              \n 66638  \n 66639:             <code class=\"ruby\">      NotificationCreatorService.create(user, &#39;communaute_access_request_granted&#39;, self)</code>\n 66640            </li>\n 66641          </div>\n .....\n 66758              \n 66759  \n 66760:             <code class=\"ruby\">      NotificationCreatorService.create(user, &#39;communaute_access_request_rejected&#39;, self)</code>\n 66761            </li>\n 66762          </div>\n .....\n 69564              \n 69565  \n 69566:             <code class=\"ruby\">          msgs.create(info_msg: { action: &#39;memberLeft&#39;, user_id: user.id }, body: &#39;empty&#39;).send_the_notification</code>\n 69567            </li>\n 69568          </div>\n .....\n 69837              \n 69838  \n 69839:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 69840            </li>\n 69841          </div>\n .....\n 71751              \n 71752  \n 71753:             <code class=\"ruby\">      communaute.user_communautes.where.not(user_id: notifications.pluck(:targetable_id)).where(seniority_consent: false).pluck(:user_id).each do |user_id|</code>\n 71754            </li>\n 71755          </div>\n .....\n 71762              \n 71763  \n 71764:             <code class=\"ruby\">        NotificationCreatorService.create_with_user_id(user_id, &#39;custom_module_seniority_added&#39;, self)</code>\n 71765            </li>\n 71766          </div>\n .....\n 74134              \n 74135  \n 74136:             <code class=\"ruby\">  has_many :notifications, as: :targetable, dependent: :destroy</code>\n 74137            </li>\n 74138          </div>\n .....\n 84232              \n 84233  \n 84234:             <code class=\"ruby\"># -&gt; new Notification()</code>\n 84235            </li>\n 84236          </div>\n .....\n 85108              \n 85109  \n 85110:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 85111            </li>\n 85112          </div>\n .....\n 85295              \n 85296  \n 85297:             <code class=\"ruby\">  def notification_objet</code>\n 85298            </li>\n 85299          </div>\n .....\n 85427              \n 85428  \n 85429:             <code class=\"ruby\">        NotificationCreatorService.create(annonce.user, &#39;like_given_on_your_post&#39;, self)</code>\n 85430            </li>\n 85431          </div>\n .....\n 85493              \n 85494  \n 85495:             <code class=\"ruby\">        NotificationCreatorService.create(comment.user, &#39;like_given_on_your_comment&#39;, self)</code>\n 85496            </li>\n 85497          </div>\n .....\n 86402              \n 86403  \n 86404:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 86405            </li>\n 86406          </div>\n .....\n 95632              \n 95633  \n 95634:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 95635            </li>\n 95636          </div>\n .....\n 95819              \n 95820  \n 95821:             <code class=\"ruby\">  def send_the_notification</code>\n 95822            </li>\n 95823          </div>\n .....\n 95907              \n 95908  \n 95909:             <code class=\"ruby\">        NotificationCreatorService.create(cu.user, &#39;conv_user_received&#39;, self)</code>\n 95910            </li>\n 95911          </div>\n .....\n 96259          <div class=\"source_table\" id=\"c114cdf3ffed58c0b1edda75ae3f33302c09dd70\">\n 96260    <div class=\"header\">\n 96261:     <h3>app/models/notification.rb</h3>\n 96262      <h4>\n 96263        <span class=\"red\">\n .....\n 96312              \n 96313  \n 96314:             <code class=\"ruby\">class Notification &lt; ApplicationRecord</code>\n 96315            </li>\n 96316          </div>\n .....\n 96356              \n 96357  \n 96358:             <code class=\"ruby\">  belongs_to :same_grouped_notifications, optional: true, counter_cache:true</code>\n 96359            </li>\n 96360          </div>\n .....\n 96367              \n 96368  \n 96369:             <code class=\"ruby\">  belongs_to :batch_of_unseen_notifications, optional: true, counter_cache:true</code>\n 96370            </li>\n 96371          </div>\n .....\n 96466              \n 96467  \n 96468:             <code class=\"ruby\">  scope :email_pushable, -&gt; { where(verb: NotificationTypes.email_pushable_verbs) }</code>\n 96469            </li>\n 96470          </div>\n .....\n 96477              \n 96478  \n 96479:             <code class=\"ruby\">  scope :not_email_pushable, -&gt; { where(verb: NotificationTypes.not_email_pushable_verbs) }</code>\n 96480            </li>\n 96481          </div>\n .....\n 96488              \n 96489  \n 96490:             <code class=\"ruby\">  scope :visible_in_messagerie, -&gt; { where(verb: NotificationTypes.visible_messagerie_verbs) }</code>\n 96491            </li>\n 96492          </div>\n .....\n 96499              \n 96500  \n 96501:             <code class=\"ruby\">  scope :visible_in_main, -&gt; { where(verb: NotificationTypes.visible_main_verbs) }</code>\n 96502            </li>\n 96503          </div>\n .....\n 96510              \n 96511  \n 96512:             <code class=\"ruby\">  scope :visible_admin, -&gt; { where(verb: NotificationTypes.visible_admin_verbs) }</code>\n 96513            </li>\n 96514          </div>\n .....\n 96521              \n 96522  \n 96523:             <code class=\"ruby\">  scope :not_email_pushed, -&gt; { where(log_emails_count: 0, log_ios_pushes_count: 0, log_android_pushes_count: 0, batch_of_unseen_notifications_id: nil, log_recap_user_id: nil) }</code>\n 96524            </li>\n 96525          </div>\n .....\n 96675              \n 96676  \n 96677:             <code class=\"ruby\">        unseenNotificationsCount: targetable.notifications.visible_in_main.where(seen: false).count</code>\n 96678            </li>\n 96679          </div>\n .....\n 96884              \n 96885  \n 96886:             <code class=\"ruby\">    unless NotificationTypes.is_valid_verb?(verb.to_sym)</code>\n 96887            </li>\n 96888          </div>\n .....\n 97093              \n 97094  \n 97095:             <code class=\"ruby\">  # le path c&#39;est pour les push ios / android / socket / peut-être lien dans /notifications, le path n&#39;est pas mis dans le mail</code>\n 97096            </li>\n 97097          </div>\n .....\n 97225              \n 97226  \n 97227:             <code class=\"ruby\">      when &#39;batch_of_unseen_notifications_pushed&#39;</code>\n 97228            </li>\n 97229          </div>\n .....\n 97236              \n 97237  \n 97238:             <code class=\"ruby\">        if notifiable.notifications.length == 1</code>\n 97239            </li>\n 97240          </div>\n .....\n 97247              \n 97248  \n 97249:             <code class=\"ruby\">          notifiable.notifications.first.data_from_verb</code>\n 97250            </li>\n 97251          </div>\n .....\n 97302              \n 97303  \n 97304:             <code class=\"ruby\">        { title_without_name: &quot;#{I18n.t(&#39;notification.can_post_to_group_now&#39;)} #{notifiable.group.title}&quot;, path_to_open: &quot;/?groupId=#{notifiable.group.id}&quot; }</code>\n 97305            </li>\n 97306          </div>\n .....\n 97324              \n 97325  \n 97326:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.comment_also_posted_on_this_post&#39;), body: Compatibility.no_html(notifiable.content), path_to_open: &quot;/post/#{notifiable.annonce_id}&quot;, body_image_url: notifiable.image&amp;.preview0_url }</code>\n 97327            </li>\n 97328          </div>\n .....\n 97346              \n 97347  \n 97348:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.comment_posted_on_your_post&#39;), body: Compatibility.no_html(notifiable.content), path_to_open: &quot;/post/#{notifiable.annonce_id}&quot;, body_image_url: notifiable.image&amp;.preview0_url }</code>\n 97349            </li>\n 97350          </div>\n .....\n 97368              \n 97369  \n 97370:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.comment_idea_posted_on_your_idea&#39;), body: Compatibility.no_html(notifiable.content), path_to_open: &quot;&quot; }</code>\n 97371            </li>\n 97372          </div>\n .....\n 97390              \n 97391  \n 97392:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.meteo_sent_to_you&#39;) }</code>\n 97393            </li>\n 97394          </div>\n .....\n 97412              \n 97413  \n 97414:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_access_mailed_to_you&#39;, community: notifiable.communaute.name), path_to_open: &quot;&quot; || &quot;/#{notifiable.communaute.slug}&quot; }</code>\n 97415            </li>\n 97416          </div>\n .....\n 97434              \n 97435  \n 97436:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_access_request_granted&#39;, community: notifiable.communaute.name), path_to_open: &quot;/?communityId=#{notifiable.communaute_id}&quot; }</code>\n 97437            </li>\n 97438          </div>\n .....\n 97456              \n 97457  \n 97458:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_access_request_rejected&#39;, community: notifiable.communaute.name), path_to_open: &quot;&quot; || &quot;/#{notifiable.communaute.slug}&quot;}</code>\n 97459            </li>\n 97460          </div>\n .....\n 97478              \n 97479  \n 97480:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_access_request_sent_from_tv&#39;, community: notifiable.communaute.name) }</code>\n 97481            </li>\n 97482          </div>\n .....\n 97500              \n 97501  \n 97502:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_access_request_sent_to_administrator&#39;, community: notifiable.communaute.name), path_to_open: &quot;/administration/communautes/#{notifiable.communaute.slug}/communaute_access_requests&quot; }</code>\n 97503            </li>\n 97504          </div>\n .....\n 97522              \n 97523  \n 97524:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_reminder_three_days_without_posts&#39;, name: targetable.name, community: notifiable.name), path_to_open: &quot;/administration/communautes/#{notifiable.slug}/conseils&quot; }</code>\n 97525            </li>\n 97526          </div>\n .....\n 97544              \n 97545  \n 97546:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_reminder_one_week_without_posts&#39;, name: targetable.name, community: notifiable.name), path_to_open: &quot;/administration/communautes/#{notifiable.slug}/conseils&quot; }</code>\n 97547            </li>\n 97548          </div>\n .....\n 97566              \n 97567  \n 97568:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.communaute_reminder_two_weeks_without_posts&#39;, name: targetable.name, community: notifiable.name), path_to_open: &quot;/administration/communautes/#{notifiable.slug}/conseils&quot; }</code>\n 97569            </li>\n 97570          </div>\n .....\n 97588              \n 97589  \n 97590:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.custom_module_countdown_seven_days_before&#39;, countdown: notifiable.primary_text) }</code>\n 97591            </li>\n 97592          </div>\n .....\n 97610              \n 97611  \n 97612:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.custom_module_countdown_one_day_before&#39;, countdown: notifiable.primary_text) }</code>\n 97613            </li>\n 97614          </div>\n .....\n 97632              \n 97633  \n 97634:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.custom_module_countdown_finished&#39;, countdown: notifiable.primary_text) }</code>\n 97635            </li>\n 97636          </div>\n .....\n 97654              \n 97655  \n 97656:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.custom_module_counter_new_record&#39;, name: data[&#39;name&#39;].presence || &#39;Compteur&#39;, count: data[&#39;count&#39;]) }</code>\n 97657            </li>\n 97658          </div>\n .....\n 97676              \n 97677  \n 97678:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.custom_module_seniority_added&#39;, community: notifiable.communaute.name), path_to_open: &quot;&quot; || &quot;/step3&quot; }</code>\n 97679            </li>\n 97680          </div>\n .....\n 97698              \n 97699  \n 97700:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.custom_module_work_accident_counter_new_record&#39;, count: data[&#39;count&#39;]) }</code>\n 97701            </li>\n 97702          </div>\n .....\n 97720              \n 97721  \n 97722:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.idea_in_one_of_your_communaute&#39;), body: notifiable.title_and_body, path_to_open: &quot;&quot; }</code>\n 97723            </li>\n 97724          </div>\n .....\n 97742              \n 97743  \n 97744:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.like_given_on_your_comment&#39;), body: Compatibility.no_html(notifiable.comment.content), path_to_open:&quot;/post/#{notifiable.annonce_id}&quot; }</code>\n 97745            </li>\n 97746          </div>\n .....\n 97764              \n 97765  \n 97766:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.like_given_on_your_post&#39;), body: notifiable.annonce.title, path_to_open: &quot;/post/#{notifiable.annonce_id}&quot; }</code>\n 97767            </li>\n 97768          </div>\n .....\n 97786              \n 97787  \n 97788:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.like_idea_given_on_your_idea&#39;), body: notifiable.idea.title, path_to_open: &quot;&quot; }</code>\n 97789            </li>\n 97790          </div>\n .....\n 97808              \n 97809  \n 97810:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.loyalty_card_access&#39;, community: notifiable.communaute.name) }</code>\n 97811            </li>\n 97812          </div>\n .....\n 97830              \n 97831  \n 97832:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.match_day_begins&#39;, day: notifiable.match_day_ref.ordinalize), path_to_open: &quot;&quot; || &quot;/bets?step=my_next_bet&quot; }</code>\n 97833            </li>\n 97834          </div>\n .....\n 97863              \n 97864  \n 97865:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.match_day_results&#39;, day: notifiable.match_day_ref.ordinalize), path_to_open: &quot;&quot; || &quot;/bets&quot; }</code>\n 97866            </li>\n 97867          </div>\n .....\n 97885              \n 97886  \n 97887:             <code class=\"ruby\">        { user: notifiable.mentionnable.user, title_without_name: I18n.t(&#39;notification.mention_in_annonce_description&#39;), body: notifiable.mentionnable.title, path_to_open: &quot;/post/#{notifiable.annonce.id}&quot; , body_image_url: notifiable.mentionnable.an_image_url(placeholder: true) }</code>\n 97888            </li>\n 97889          </div>\n .....\n 97907              \n 97908  \n 97909:             <code class=\"ruby\">        { user: notifiable.mentionnable.user, title_without_name: I18n.t(&#39;notification.mention_in_comment&#39;), body: Compatibility.no_html(notifiable.mentionnable.content), path_to_open: &quot;/post/#{notifiable.annonce.id}&quot;, body_image_url: notifiable.mentionnable.image&amp;.preview0_url }</code>\n 97910            </li>\n 97911          </div>\n .....\n 97929              \n 97930  \n 97931:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.msg_received&#39;), body: Compatibility.no_html(notifiable.body), path_to_open: &quot;/messaging/#{notifiable.conv_user.conv_id}&quot; }</code>\n 97932            </li>\n 97933          </div>\n .....\n 97951              \n 97952  \n 97953:             <code class=\"ruby\">        { user: notifiable.user_communaute.user, title_without_name: I18n.t(&#39;notification.organic_invite_signup&#39;, community: notifiable.communaute_access.communaute.name), path_to_open: &quot;&quot; || &quot;/communaute_accesses/#{notifiable.communaute_access_id}?token=#{notifiable.communaute_access.token}&quot; }</code>\n 97954            </li>\n 97955          </div>\n .....\n 97995              \n 97996  \n 97997:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.poll_has_new_votes&#39;, count: notifiable.locked_votes_count), path_to_open: &quot;/post/#{notifiable.annonce.id}&quot; }</code>\n 97998            </li>\n 97999          </div>\n .....\n 98017              \n 98018  \n 98019:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.restriction_try_sent&#39;, community: notifiable.restriction.communaute.name) }</code>\n 98020            </li>\n 98021          </div>\n .....\n 98039              \n 98040  \n 98041:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.restriction_try_validated&#39;, community: notifiable.restriction.communaute.name), path_to_open: &quot;/?communityId=#{notifiable.restriction.communaute_id}&quot; }</code>\n 98042            </li>\n 98043          </div>\n .....\n 98061              \n 98062  \n 98063:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.ringing_sent&#39;), path_to_open: &quot;/notifications&quot; }</code>\n 98064            </li>\n 98065          </div>\n .....\n 98072              \n 98073  \n 98074:             <code class=\"ruby\">      when &#39;same_grouped_notifications_grouped&#39;</code>\n 98075            </li>\n 98076          </div>\n .....\n 98083              \n 98084  \n 98085:             <code class=\"ruby\">        { title_without_name: &quot;same_grouped_notifications_grouped&quot; }</code>\n 98086            </li>\n 98087          </div>\n .....\n 98105              \n 98106  \n 98107:             <code class=\"ruby\">        { user: notifiable.batch_of_invites.user, title_without_name: I18n.t(&#39;notification.single_invite_sent&#39;, community: notifiable.batch_of_invites.communaute.name), path_to_open: &quot;&quot; || &quot;/single_invites/#{notifiable.id}?t=#{notifiable.token}&amp;communaute_id=#{notifiable.batch_of_invites.communaute_id}&amp;parrain_token=#{notifiable.batch_of_invites.user_communaute.try(:steeple_token)}&quot; }</code>\n 98108            </li>\n 98109          </div>\n .....\n 98127              \n 98128  \n 98129:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.support_msg_sent_to_user&#39;), body: notifiable.body, path_to_open: &quot;&quot; || &quot;/support_chat&quot; }</code>\n 98130            </li>\n 98131          </div>\n .....\n 98149              \n 98150  \n 98151:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.support_msg_sent_to_admin&#39;), body: notifiable.body, path_to_open: &quot;&quot; || &quot;/admin/support_chats&quot; }</code>\n 98152            </li>\n 98153          </div>\n .....\n 98171              \n 98172  \n 98173:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.tv_preinscription_sent&#39;, community: notifiable.communaute.name), path_to_open: &quot;&quot; || &quot;/#{notifiable.communaute.slug}&quot; }</code>\n 98174            </li>\n 98175          </div>\n .....\n 98193              \n 98194  \n 98195:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.tv_recover_password&#39;) }</code>\n 98196            </li>\n 98197          </div>\n .....\n 98215              \n 98216  \n 98217:             <code class=\"ruby\">        { title_without_name: I18n.t(&#39;notification.user_communaute_is_now_administrator&#39;, community: notifiable.communaute.name), path_to_open: &quot;/administration/communautes/#{notifiable.communaute.slug}&quot; }</code>\n 98218            </li>\n 98219          </div>\n .....\n 98237              \n 98238  \n 98239:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.user_communaute_mentored_by_you&#39;), path_to_open: &quot;/profile/#{notifiable.user_id}&quot; }</code>\n 98240            </li>\n 98241          </div>\n .....\n 98259              \n 98260  \n 98261:             <code class=\"ruby\">        { user: notifiable.user, title_without_name: I18n.t(&#39;notification.user_communaute_mentored_you&#39;, community: notifiable.communaute.name, user: notifiable.user.try(:name)), path_to_open: &quot;/profile/#{notifiable.user.id}&quot; }</code>\n 98262            </li>\n 98263          </div>\n .....\n 99282              \n 99283  \n 99284:             <code class=\"ruby\">    path += &quot;notification_id=#{id}&quot;</code>\n 99285            </li>\n 99286          </div>\n .....\n 99403              \n 99404  \n 99405:             <code class=\"ruby\">    # À voir si / quand on migrera les notifications admin, support, messagerie sur d&#39;autres outils.</code>\n 99406            </li>\n 99407          </div>\n .....\n 99513              \n 99514  \n 99515:             <code class=\"ruby\">        (is_visible_in_main? and (targetable.last_visit_on_notifications and targetable.last_visit_on_notifications &gt; created_at)) ||</code>\n 99516            </li>\n 99517          </div>\n .....\n 99623              \n 99624  \n 99625:             <code class=\"ruby\">      V2::SendUrgentNotificationJob.perform_now(id)</code>\n 99626            </li>\n 99627          </div>\n .....\n 99645              \n 99646  \n 99647:             <code class=\"ruby\">      V2::SendUrgentNotificationJob.perform_later(id)</code>\n 99648            </li>\n 99649          </div>\n .....\n 99667              \n 99668  \n 99669:             <code class=\"ruby\">      V2::SendNotificationJob.perform_later(id)</code>\n 99670            </li>\n 99671          </div>\n .....\n 99821              \n 99822  \n 99823:             <code class=\"ruby\">      targetable.available_soft_pushers.each { |pusher| pusher.new(self).push_this_notification }</code>\n 99824            </li>\n 99825          </div>\n .....\n 99887              \n 99888  \n 99889:             <code class=\"ruby\">      pusher.new(self).push_this_notification</code>\n 99890            </li>\n 99891          </div>\n .....\n 100415              \n 100416  \n 100417:             <code class=\"ruby\">              if NotificationTypes.is_email_pushable?(verb.to_sym)</code>\n 100418            </li>\n 100419          </div>\n .....\n 100426              \n 100427  \n 100428:             <code class=\"ruby\">                pusher.new(self).push_this_notification</code>\n 100429            </li>\n 100430          </div>\n .....\n 100448              \n 100449  \n 100450:             <code class=\"ruby\">                V2::EmailUnseenNotificationsJob.perform_later(targetable_id)</code>\n 100451            </li>\n 100452          </div>\n .....\n 100481              \n 100482  \n 100483:             <code class=\"ruby\">              pusher.new(self).push_this_notification</code>\n 100484            </li>\n 100485          </div>\n .....\n 101031              \n 101032  \n 101033:             <code class=\"ruby\">    Rails.application.routes.url_helpers.notification_url(self, host: DomainService.hostname)</code>\n 101034            </li>\n 101035          </div>\n .....\n 101328              \n 101329  \n 101330:             <code class=\"ruby\">  def compare_for_display(other_notification)</code>\n 101331            </li>\n 101332          </div>\n .....\n 101339              \n 101340  \n 101341:             <code class=\"ruby\">    seen ? ((updated_at &gt; other_notification.updated_at) ? -1 : 1) : -1</code>\n 101342            </li>\n 101343          </div>\n .....\n 101383              \n 101384  \n 101385:             <code class=\"ruby\">  # For the next methods, I don&#39;t know maybe we should delete them and use the NotificationTypes everywhere instead</code>\n 101386            </li>\n 101387          </div>\n .....\n 101493              \n 101494  \n 101495:             <code class=\"ruby\">    NotificationTypes.is_visible_in_main?(verb.to_sym)</code>\n 101496            </li>\n 101497          </div>\n .....\n 101526              \n 101527  \n 101528:             <code class=\"ruby\">    NotificationTypes.is_visible_in_admin?(verb.to_sym)</code>\n 101529            </li>\n 101530          </div>\n .....\n 101559              \n 101560  \n 101561:             <code class=\"ruby\">    NotificationTypes.is_visible_in_messagerie?(verb.to_sym)</code>\n 101562            </li>\n 101563          </div>\n .....\n 101592              \n 101593  \n 101594:             <code class=\"ruby\">    NotificationTypes.is_visible_in_support?(verb.to_sym)</code>\n 101595            </li>\n 101596          </div>\n .....\n 101625              \n 101626  \n 101627:             <code class=\"ruby\">    NotificationTypes.is_not_visible_but_pushable?(verb.to_sym)</code>\n 101628            </li>\n 101629          </div>\n .....\n 101658              \n 101659  \n 101660:             <code class=\"ruby\">    NotificationTypes.no_sound?(verb.to_sym)</code>\n 101661            </li>\n 101662          </div>\n .....\n 101702              \n 101703  \n 101704:             <code class=\"ruby\">    NotificationTypes.is_important?(verb.to_sym)</code>\n 101705            </li>\n 101706          </div>\n .....\n 101746              \n 101747  \n 101748:             <code class=\"ruby\">    NotificationTypes.is_very_important?(verb.to_sym)</code>\n 101749            </li>\n 101750          </div>\n .....\n 101953              \n 101954  \n 101955:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 101956            </li>\n 101957          </div>\n .....\n 103234              \n 103235  \n 103236:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 103237            </li>\n 103238          </div>\n .....\n 103967              \n 103968  \n 103969:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 103970            </li>\n 103971          </div>\n .....\n 104790          <div class=\"source_table\" id=\"fd2cdcc9a9a7f22c4ef63e189dd29ea629866435\">\n 104791    <div class=\"header\">\n 104792:     <h3>app/models/same_grouped_notifications.rb</h3>\n 104793      <h4>\n 104794        <span class=\"red\">\n .....\n 104832              \n 104833  \n 104834:             <code class=\"ruby\">class SameGroupedNotifications &lt; ApplicationRecord</code>\n 104835            </li>\n 104836          </div>\n .....\n 104843              \n 104844  \n 104845:             <code class=\"ruby\">  has_many :notifications</code>\n 104846            </li>\n 104847          </div>\n .....\n 104854              \n 104855  \n 104856:             <code class=\"ruby\">  has_many :notifiables, through: :notifications</code>\n 104857            </li>\n 104858          </div>\n .....\n 104887              \n 104888  \n 104889:             <code class=\"ruby\">  # has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 104890            </li>\n 104891          </div>\n .....\n 104920              \n 104921  \n 104922:             <code class=\"ruby\">    case notifications.first.try(:verb)</code>\n 104923            </li>\n 104924          </div>\n .....\n 104942              \n 104943  \n 104944:             <code class=\"ruby\">      user_ids = notifiables.order(&#39;notifications.created_at DESC&#39;).pluck(:user_id).uniq</code>\n 104945            </li>\n 104946          </div>\n .....\n 107143              \n 107144  \n 107145:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 107146            </li>\n 107147          </div>\n .....\n 111139              \n 111140  \n 111141:             <code class=\"ruby\">  has_many :batch_of_unseen_notifications, class_name: &quot;BatchOfUnseenNotifications&quot;, dependent: :destroy</code>\n 111142            </li>\n 111143          </div>\n .....\n 111865              \n 111866  \n 111867:             <code class=\"ruby\">  has_many :notifications, as: :targetable</code>\n 111868            </li>\n 111869          </div>\n .....\n 113691              \n 113692  \n 113693:             <code class=\"ruby\">  # we received a spam notification by yahoo for example</code>\n 113694            </li>\n 113695          </div>\n .....\n 113713              \n 113714  \n 113715:             <code class=\"ruby\">    setting_preference.update( notification_recap: 0 )</code>\n 113716            </li>\n 113717          </div>\n .....\n 119026              \n 119027  \n 119028:             <code class=\"ruby\">    unseen_admin_notifications.size</code>\n 119029            </li>\n 119030          </div>\n .....\n 119059              \n 119060  \n 119061:             <code class=\"ruby\">  def unseen_admin_notifications</code>\n 119062            </li>\n 119063          </div>\n .....\n 119103              \n 119104  \n 119105:             <code class=\"ruby\">      notifications.where(seen: false).visible_admin.where(&#39;created_at &gt; ?&#39;, last_visit_on_admin)</code>\n 119106            </li>\n 119107          </div>\n .....\n 119125              \n 119126  \n 119127:             <code class=\"ruby\">      notifications.where(seen: false).visible_admin</code>\n 119128            </li>\n 119129          </div>\n .....\n 119169              \n 119170  \n 119171:             <code class=\"ruby\">  def unseen_notifications</code>\n 119172            </li>\n 119173          </div>\n .....\n 119180              \n 119181  \n 119182:             <code class=\"ruby\">    if last_visit_on_notifications</code>\n 119183            </li>\n 119184          </div>\n .....\n 119191              \n 119192  \n 119193:             <code class=\"ruby\">      notifications.where(seen:false).visible_in_main.where(&#39;created_at &gt; ?&#39;, last_visit_on_notifications)</code>\n 119194            </li>\n 119195          </div>\n .....\n 119213              \n 119214  \n 119215:             <code class=\"ruby\">      notifications.where(seen:false).visible_in_main</code>\n 119216            </li>\n 119217          </div>\n .....\n 120199              \n 120200  \n 120201:             <code class=\"ruby\">  has_many :notifications, as: :notifiable, dependent: :destroy</code>\n 120202            </li>\n 120203          </div>\n .....\n 121904              \n 121905  \n 121906:             <code class=\"ruby\">        NotificationCreatorService.create(parrain.user, &#39;user_communaute_mentored_by_you&#39;, self)</code>\n 121907            </li>\n 121908          </div>\n .....\n 121915              \n 121916  \n 121917:             <code class=\"ruby\">        NotificationCreatorService.create(user, &#39;user_communaute_mentored_you&#39;, parrain)</code>\n 121918            </li>\n 121919          </div>\n .....\n 122036              \n 122037  \n 122038:             <code class=\"ruby\">        NotificationCreatorService.create(parrain.user, &#39;user_communaute_mentored_by_you&#39;, self)</code>\n 122039            </li>\n 122040          </div>\n .....\n 122047              \n 122048  \n 122049:             <code class=\"ruby\">        NotificationCreatorService.create(user, &#39;user_communaute_mentored_you&#39;, parrain)</code>\n 122050            </li>\n 122051          </div>\n .....\n 122124              \n 122125  \n 122126:             <code class=\"ruby\">      NotificationCreatorService.create(user, &#39;user_communaute_mentored_by_you&#39;, filleul)</code>\n 122127            </li>\n 122128          </div>\n .....\n 122135              \n 122136  \n 122137:             <code class=\"ruby\">      NotificationCreatorService.create(filleul.user, &#39;user_communaute_mentored_you&#39;, self)</code>\n 122138            </li>\n 122139          </div>\n .....\n 140196          <div class=\"source_table\" id=\"dc84501024a1a4336e16927ab7e916aaa06e2e45\">\n 140197    <div class=\"header\">\n 140198:     <h3>app/services/notification_creator_service.rb</h3>\n 140199      <h4>\n 140200        <span class=\"red\">\n .....\n 140227              \n 140228  \n 140229:             <code class=\"ruby\"># On devrait réserver la table Notification uniquement à ce qui est visible sur la page /notifications</code>\n 140230            </li>\n 140231          </div>\n .....\n 140260              \n 140261  \n 140262:             <code class=\"ruby\">module NotificationCreatorService</code>\n 140263            </li>\n 140264          </div>\n .....\n 140282              \n 140283  \n 140284:             <code class=\"ruby\">    Notification.create(notifiable: notifiable, targetable: targetable, verb: verb, data: data)</code>\n 140285            </li>\n 140286          </div>\n .....\n 140326              \n 140327  \n 140328:             <code class=\"ruby\">      notifiable.notifications.create(targetable_id: user_id, targetable_type: &#39;User&#39;, verb: verb)</code>\n 140329            </li>\n 140330          </div>\n .....\n 140381              \n 140382  \n 140383:             <code class=\"ruby\">      Notification.create(</code>\n 140384            </li>\n 140385          </div>\n .....\n 140491              \n 140492  \n 140493:             <code class=\"ruby\">      NotificationTypes.destroy_if_wcw?(verb) and</code>\n 140494            </li>\n 140495          </div>\n .....\n 140535              \n 140536  \n 140537:             <code class=\"ruby\">      NotificationTypes.destroy_if_wcw?(verb) and</code>\n 140538            </li>\n 140539          </div>\n .....\n 140590          <div class=\"source_table\" id=\"e55f7182ef5c49b77afe376ed29c21c94857531f\">\n 140591    <div class=\"header\">\n 140592:     <h3>app/services/notification_types.rb</h3>\n 140593      <h4>\n 140594        <span class=\"red\">\n .....\n 140687              \n 140688  \n 140689:             <code class=\"ruby\">module NotificationTypes</code>\n 140690            </li>\n 140691          </div>\n .....\n 140951              \n 140952  \n 140953:             <code class=\"ruby\">  # annonce_in_one_communaute for example, not visible in /notifications but we send an email</code>\n 140954            </li>\n 140955          </div>\n .....\n 141006              \n 141007  \n 141008:             <code class=\"ruby\">  # notification can be sent by soft push</code>\n 141009            </li>\n 141010          </div>\n .....\n 141116              \n 141117  \n 141118:             <code class=\"ruby\">  # notification can be sent by email</code>\n 141119            </li>\n 141120          </div>\n .....\n 141281              \n 141282  \n 141283:             <code class=\"ruby\">  # Notification will go to &#39;important&#39; queue in Sidekiq. If the default queue is full (during the sending of the daily recaps for example) it will go to a different queue.</code>\n 141284            </li>\n 141285          </div>\n .....\n 141358              \n 141359  \n 141360:             <code class=\"ruby\">  # 2 - The description will appear in BOLD on the page /notifications</code>\n 141361            </li>\n 141362          </div>\n .....\n 141710              \n 141711  \n 141712:             <code class=\"ruby\">    #   - main : visible sur la page /notifications</code>\n 141713            </li>\n 141714          </div>\n .....\n 141919              \n 141920  \n 141921:             <code class=\"ruby\">      batch_of_unseen_notifications_pushed: {</code>\n 141922            </li>\n 141923          </div>\n .....\n 141930              \n 141931  \n 141932:             <code class=\"ruby\">        description: &quot;(à vérifier) 2 nouvelles notifications&quot;,</code>\n 141933            </li>\n 141934          </div>\n .....\n 144097              \n 144098  \n 144099:             <code class=\"ruby\">      same_grouped_notifications_grouped: {</code>\n 144100            </li>\n 144101          </div>\n .....\n 144383              \n 144384  \n 144385:             <code class=\"ruby\">        description: &quot;Retrouvez votre mot de passe que vous avez demandé depuis la tv. (bypass le notification center bizarre)&quot;,</code>\n 144386            </li>\n 144387          </div>\n .....\n 144702              \n 144703  \n 144704:             <code class=\"ruby\">  # a la fin on pourra meme faire same_grouped_notifications en mode email_pushable: false etc...</code>\n 144705            </li>\n 144706          </div>\n .....\n 144746              \n 144747  \n 144748:             <code class=\"ruby\">  # on déclenche un batchofnotifs si : une notifs parmi les unseen_notifications avec not_email_pushed, et</code>\n 144749            </li>\n 144750          </div>\n .....\n 163541              \n 163542  \n 163543:             <code class=\"ruby\"># 5 - à mettre à true : config.send_email_changed_notification = true</code>\n 163544            </li>\n 163545          </div>\n .....\n 163552              \n 163553  \n 163554:             <code class=\"ruby\"># 6 - à mettre à true : config.send_password_change_notification = true</code>\n 163555            </li>\n 163556          </div>\n .....\n 163783              \n 163784  \n 163785:             <code class=\"ruby\">  config.mailer_sender = &quot;notification@steeple.fr&quot;</code>\n 163786            </li>\n 163787          </div>\n .....\n 164872              \n 164873  \n 164874:             <code class=\"ruby\">  # Send a notification to the original email when the user&#39;s email is changed.</code>\n 164875            </li>\n 164876          </div>\n .....\n 164883              \n 164884  \n 164885:             <code class=\"ruby\">  # config.send_email_changed_notification = true</code>\n 164886            </li>\n 164887          </div>\n .....\n 164905              \n 164906  \n 164907:             <code class=\"ruby\">  # Send a notification email when the user&#39;s password is changed.</code>\n 164908            </li>\n 164909          </div>\n .....\n 164916              \n 164917  \n 164918:             <code class=\"ruby\">  # config.send_password_change_notification = true</code>\n 164919            </li>\n 164920          </div>\n .....\n 167777              \n 167778  \n 167779:             <code class=\"ruby\">                             stylesheets assets javascripts images blog users notifications communautes setting_preferences</code>\n 167780            </li>\n 167781          </div>\n .....\n 167993              \n 167994  \n 167995:             <code class=\"ruby\">#     #   &#39;NotificationsController#load&#39;,</code>\n 167996            </li>\n 167997          </div>\n .....\n 173310              \n 173311  \n 173312:             <code class=\"ruby\">    resources :batch_of_unseen_notifications, only: :show</code>\n 173313            </li>\n 173314          </div>\n .....\n 173728              \n 173729  \n 173730:             <code class=\"ruby\">    resources :notifications, only: :index do</code>\n 173731            </li>\n 173732          </div>\n .....\n 174938              \n 174939  \n 174940:             <code class=\"ruby\">      get &#39;notifications&#39;, on: :member</code>\n 174941            </li>\n 174942          </div>\n .....\n 178722              \n 178723  \n 178724:             <code class=\"ruby\">  resources :notifications, only: [:show, :index] do</code>\n 178725            </li>\n 178726          </div>\n .....\n 179591              \n 179592  \n 179593:             <code class=\"ruby\">    resources :notifications</code>\n 179594            </li>\n 179595          </div>\n .....\n 181538              \n 181539  \n 181540:             <code class=\"ruby\">      resources :notifications, only: [:index] do</code>\n 181541            </li>\n 181542          </div>\n .....\n 211499              \n 211500  \n 211501:             <code class=\"ruby\">          expect(NotificationCreatorService).not_to receive(:create)</code>\n 211502            </li>\n 211503          </div>\n .....\n 211675              \n 211676  \n 211677:             <code class=\"ruby\">          expect(NotificationCreatorService).not_to receive(:create)</code>\n 211678            </li>\n 211679          </div>\n .....\n 211851              \n 211852  \n 211853:             <code class=\"ruby\">          expect(NotificationCreatorService).to receive(:create).with(</code>\n 211854            </li>\n 211855          </div>\n .....\n 230271              \n 230272  \n 230273:             <code class=\"ruby\">          expect(NotificationCreatorService).to receive(:create).with(</code>\n 230274            </li>\n 230275          </div>\n .....\n 230678              \n 230679  \n 230680:             <code class=\"ruby\">        expect(NotificationCreatorService).not_to receive(:create)</code>\n 230681            </li>\n 230682          </div>\n\n/home/guhurak/Documents/back-end/db/schema.rb:\n  200    end\n  201  \n  202:   create_table \"batch_of_unseen_notifications\", id: :serial, force: :cascade do |t|\n  203      t.datetime \"created_at\", null: false\n  204      t.datetime \"updated_at\", null: false\n  205:     t.integer \"notifications_count\", default: 0, null: false\n  206      t.bigint \"user_id\"\n  207:     t.index [\"user_id\"], name: \"index_batch_of_unseen_notifications_on_user_id\"\n  208    end\n  209  \n  ...\n  756      t.bigint \"modulable_id\"\n  757      t.boolean \"receive_suggestions\", default: true, null: false\n  758:     t.boolean \"receive_suggestion_notifications\", default: true, null: false\n  759      t.index [\"communaute_id\"], name: \"index_custom_modules_on_communaute_id\"\n  760      t.index [\"modul_id\"], name: \"index_custom_modules_on_modul_id\"\n  ...\n 1194      t.datetime \"created_at\", null: false\n 1195      t.datetime \"updated_at\", null: false\n 1196:     t.integer \"notification_id\"\n 1197      t.bigint \"android_device_id\"\n 1198      t.string \"push_status\"\n ....\n 1200      t.index [\"android_device_id\"], name: \"index_log_android_pushes_on_android_device_id\"\n 1201      t.index [\"created_at\"], name: \"index_log_android_pushes_on_created_at\"\n 1202:     t.index [\"notification_id\"], name: \"index_log_android_pushes_on_notification_id\"\n 1203    end\n 1204  \n ....\n 1227      t.datetime \"first_sent_at\"\n 1228      t.boolean \"staled\", default: false, null: false\n 1229:     t.integer \"notification_id\"\n 1230      t.string \"objet\"\n 1231      t.index [\"created_at\"], name: \"index_log_emails_on_created_at\"\n 1232      t.index [\"log_campaign_email_id\"], name: \"index_log_emails_on_log_campaign_email_id\"\n 1233      t.index [\"mailable_type\", \"mailable_id\"], name: \"index_log_emails_on_mailable_type_and_mailable_id\"\n 1234:     t.index [\"notification_id\"], name: \"index_log_emails_on_notification_id\"\n 1235      t.index [\"recipient_user_id\"], name: \"index_log_emails_on_recipient_user_id\"\n 1236      t.index [\"sender_user_id\"], name: \"index_log_emails_on_sender_user_id\"\n ....\n 1240      t.datetime \"created_at\", null: false\n 1241      t.datetime \"updated_at\", null: false\n 1242:     t.integer \"notification_id\"\n 1243      t.bigint \"ios_device_id\"\n 1244      t.string \"push_status\"\n ....\n 1246      t.index [\"created_at\"], name: \"index_log_ios_pushes_on_created_at\"\n 1247      t.index [\"ios_device_id\"], name: \"index_log_ios_pushes_on_ios_device_id\"\n 1248:     t.index [\"notification_id\"], name: \"index_log_ios_pushes_on_notification_id\"\n 1249    end\n 1250  \n ....\n 1253      t.integer \"user_id\"\n 1254      t.integer \"auto_login_token_id\"\n 1255:     t.string \"notifications_ids\", default: [], array: true\n 1256      t.string \"conv_users_ids\", default: [], array: true\n 1257      t.string \"annonces_ids\", default: [], array: true\n ....\n 1280      t.boolean \"is_sent\", default: false, null: false\n 1281      t.integer \"number_of_days_ago\", default: 0, null: false\n 1282:     t.integer \"notification_recaps\", default: [], null: false, array: true\n 1283      t.index [\"created_at\"], name: \"index_log_recaps_on_created_at\"\n 1284    end\n ....\n 1287      t.datetime \"created_at\", null: false\n 1288      t.datetime \"updated_at\", null: false\n 1289:     t.integer \"notification_id\"\n 1290      t.datetime \"clicked_at\"\n 1291:     t.index [\"notification_id\"], name: \"index_log_socket_pushes_on_notification_id\"\n 1292    end\n 1293  \n ....\n 1461    end\n 1462  \n 1463:   create_table \"notifications\", id: :serial, force: :cascade do |t|\n 1464      t.boolean \"seen\", default: false, null: false\n 1465      t.integer \"notifiable_id\"\n ....\n 1474      t.integer \"log_android_pushes_count\", default: 0, null: false\n 1475      t.integer \"log_socket_pushes_count\", default: 0, null: false\n 1476:     t.integer \"batch_of_unseen_notifications_id\"\n 1477:     t.integer \"same_grouped_notifications_id\"\n 1478      t.bigint \"log_recap_user_id\"\n 1479      t.json \"data\", default: {}, null: false\n 1480:     t.index [\"batch_of_unseen_notifications_id\"], name: \"index_notifications_on_batch_of_unseen_notifications_id\"\n 1481:     t.index [\"created_at\"], name: \"index_notifications_on_created_at\"\n 1482:     t.index [\"log_recap_user_id\"], name: \"index_notifications_on_log_recap_user_id\"\n 1483:     t.index [\"notifiable_id\", \"notifiable_type\"], name: \"index_notifications_on_notifiable_id_and_notifiable_type\"\n 1484:     t.index [\"same_grouped_notifications_id\"], name: \"index_notifications_on_same_grouped_notifications_id\"\n 1485:     t.index [\"targetable_type\", \"targetable_id\"], name: \"index_notifications_on_targetable_type_and_targetable_id\"\n 1486:     t.index [\"verb\"], name: \"index_notifications_on_verb\"\n 1487    end\n 1488  \n ....\n 1541      t.datetime \"start_at\"\n 1542      t.datetime \"end_at\"\n 1543:     t.boolean \"send_notification\"\n 1544      t.boolean \"only_administrators_can_see\"\n 1545      t.boolean \"store_link\", default: false, null: false\n ....\n 1566      t.string \"title\"\n 1567      t.string \"body\"\n 1568:     t.boolean \"notification_sent\", default: false, null: false\n 1569      t.string \"url_for_image\"\n 1570      t.bigint \"target_community_id\"\n ....\n 1730    end\n 1731  \n 1732:   create_table \"same_grouped_notifications\", id: :serial, force: :cascade do |t|\n 1733      t.datetime \"created_at\", null: false\n 1734      t.datetime \"updated_at\", null: false\n 1735:     t.integer \"notifications_count\", default: 0, null: false\n 1736    end\n 1737  \n ....\n 1796      t.datetime \"created_at\"\n 1797      t.datetime \"updated_at\"\n 1798:     t.integer \"notification_recap\", default: 2, null: false\n 1799      t.boolean \"communaute_access_request_sent_to_administrator\", default: true, null: false\n 1800      t.boolean \"mobile_conv_user_received\", default: true\n ....\n 1815      t.boolean \"like_idea_given_on_your_idea\", default: false, null: false\n 1816      t.integer \"mobile_snoozed_boards_ids\", default: [], array: true\n 1817:     t.index [\"notification_recap\"], name: \"index_setting_preferences_on_notification_recap\"\n 1818      t.index [\"user_id\"], name: \"index_setting_preferences_on_user_id\"\n 1819    end\n ....\n 2107      t.integer \"conv_users_count\", default: 0, null: false\n 2108      t.integer \"user_id\"\n 2109:     t.integer \"notification_recap\", default: 2, null: false\n 2110      t.integer \"annonces_count\", default: 0, null: false\n 2111      t.string \"notif_permission\"\n ....\n 2118      t.integer \"session_stats_count\", default: 0, null: false\n 2119      t.datetime \"bootstrap_tour_done_at\"\n 2120:     t.datetime \"last_visit_on_notifications\"\n 2121      t.datetime \"last_visit_on_messagerie\"\n 2122      t.datetime \"last_visit_on_admin\"\n ....\n 2128      t.datetime \"last_session_created_at\"\n 2129      t.integer \"cached_nb_steeple_notifs\", default: 0\n 2130:     t.datetime \"last_soft_summary_notifications\"\n 2131:     t.datetime \"last_email_summary_notifications\"\n 2132      t.datetime \"last_full_log_recap_summary\"\n 2133      t.bigint \"language_id\"\n ....\n 2300    add_foreign_key \"batch_of_invites\", \"restrictions\"\n 2301    add_foreign_key \"batch_of_invites\", \"users\"\n 2302:   add_foreign_key \"batch_of_unseen_notifications\", \"users\"\n 2303    add_foreign_key \"bets\", \"matches\"\n 2304    add_foreign_key \"bets\", \"users\"\n ....\n 2354    add_foreign_key \"moduls\", \"custom_modules_default_categories\"\n 2355    add_foreign_key \"month_list_stats\", \"communautes\"\n 2356:   add_foreign_key \"notifications\", \"same_grouped_notifications\", column: \"same_grouped_notifications_id\"\n 2357    add_foreign_key \"organic_invites\", \"communaute_accesses\"\n 2358    add_foreign_key \"organic_invites\", \"user_communautes\"\n\n/home/guhurak/Documents/back-end/db/migrate/20191223153840_init_schema.rb:\n  163        t.index [\"user_id\"], name: \"index_batch_of_invites_on_user_id\"\n  164      end\n  165:     create_table \"batch_of_unseen_notifications\", id: :serial do |t|\n  166        t.datetime \"created_at\", null: false\n  167        t.datetime \"updated_at\", null: false\n  168:       t.integer \"notifications_count\", default: 0, null: false\n  169        t.bigint \"user_id\"\n  170:       t.index [\"user_id\"], name: \"index_batch_of_unseen_notifications_on_user_id\"\n  171      end\n  172      create_table \"bets\" do |t|\n  ...\n  611        t.bigint \"modulable_id\"\n  612        t.boolean \"receive_suggestions\", default: true, null: false\n  613:       t.boolean \"receive_suggestion_notifications\", default: true, null: false\n  614        t.index [\"communaute_id\"], name: \"index_custom_modules_on_communaute_id\"\n  615        t.index [\"modul_id\"], name: \"index_custom_modules_on_modul_id\"\n  ...\n  957        t.datetime \"created_at\", null: false\n  958        t.datetime \"updated_at\", null: false\n  959:       t.integer \"notification_id\"\n  960        t.bigint \"android_device_id\"\n  961        t.string \"push_status\"\n  ...\n  963        t.index [\"android_device_id\"], name: \"index_log_android_pushes_on_android_device_id\"\n  964        t.index [\"created_at\"], name: \"index_log_android_pushes_on_created_at\"\n  965:       t.index [\"notification_id\"], name: \"index_log_android_pushes_on_notification_id\"\n  966      end\n  967      create_table \"log_emails\", id: :serial do |t|\n  ...\n  989        t.datetime \"first_sent_at\"\n  990        t.boolean \"staled\", default: false, null: false\n  991:       t.integer \"notification_id\"\n  992        t.string \"objet\"\n  993        t.index [\"created_at\"], name: \"index_log_emails_on_created_at\"\n  994        t.index [\"log_campaign_email_id\"], name: \"index_log_emails_on_log_campaign_email_id\"\n  995        t.index [\"mailable_type\", \"mailable_id\"], name: \"index_log_emails_on_mailable_type_and_mailable_id\"\n  996:       t.index [\"notification_id\"], name: \"index_log_emails_on_notification_id\"\n  997        t.index [\"recipient_user_id\"], name: \"index_log_emails_on_recipient_user_id\"\n  998        t.index [\"sender_user_id\"], name: \"index_log_emails_on_sender_user_id\"\n  ...\n 1001        t.datetime \"created_at\", null: false\n 1002        t.datetime \"updated_at\", null: false\n 1003:       t.integer \"notification_id\"\n 1004        t.bigint \"ios_device_id\"\n 1005        t.string \"push_status\"\n ....\n 1007        t.index [\"created_at\"], name: \"index_log_ios_pushes_on_created_at\"\n 1008        t.index [\"ios_device_id\"], name: \"index_log_ios_pushes_on_ios_device_id\"\n 1009:       t.index [\"notification_id\"], name: \"index_log_ios_pushes_on_notification_id\"\n 1010      end\n 1011      create_table \"log_recap_users\", id: :serial do |t|\n ....\n 1013        t.integer \"user_id\"\n 1014        t.integer \"auto_login_token_id\"\n 1015:       t.string \"notifications_ids\", default: [], array: true\n 1016        t.string \"conv_users_ids\", default: [], array: true\n 1017        t.string \"annonces_ids\", default: [], array: true\n ....\n 1039        t.boolean \"is_sent\", default: false, null: false\n 1040        t.integer \"number_of_days_ago\", default: 0, null: false\n 1041:       t.integer \"notification_recaps\", default: [], null: false, array: true\n 1042        t.index [\"created_at\"], name: \"index_log_recaps_on_created_at\"\n 1043      end\n ....\n 1045        t.datetime \"created_at\", null: false\n 1046        t.datetime \"updated_at\", null: false\n 1047:       t.integer \"notification_id\"\n 1048        t.datetime \"clicked_at\"\n 1049:       t.index [\"notification_id\"], name: \"index_log_socket_pushes_on_notification_id\"\n 1050      end\n 1051      create_table \"loyalty_cards\" do |t|\n ....\n 1201        t.index [\"taggable_type\", \"taggable_id\"], name: \"index_no_taggings_on_taggable_type_and_taggable_id\"\n 1202      end\n 1203:     create_table \"notifications\", id: :serial do |t|\n 1204        t.boolean \"seen\", default: false, null: false\n 1205        t.integer \"notifiable_id\"\n ....\n 1214        t.integer \"log_android_pushes_count\", default: 0, null: false\n 1215        t.integer \"log_socket_pushes_count\", default: 0, null: false\n 1216:       t.integer \"batch_of_unseen_notifications_id\"\n 1217:       t.integer \"same_grouped_notifications_id\"\n 1218        t.bigint \"log_recap_user_id\"\n 1219        t.json \"data\", default: {}, null: false\n 1220:       t.index [\"batch_of_unseen_notifications_id\"], name: \"index_notifications_on_batch_of_unseen_notifications_id\"\n 1221:       t.index [\"created_at\"], name: \"index_notifications_on_created_at\"\n 1222:       t.index [\"log_recap_user_id\"], name: \"index_notifications_on_log_recap_user_id\"\n 1223:       t.index [\"notifiable_id\", \"notifiable_type\"], name: \"index_notifications_on_notifiable_id_and_notifiable_type\"\n 1224:       t.index [\"same_grouped_notifications_id\"], name: \"index_notifications_on_same_grouped_notifications_id\"\n 1225:       t.index [\"targetable_type\", \"targetable_id\"], name: \"index_notifications_on_targetable_type_and_targetable_id\"\n 1226:       t.index [\"verb\"], name: \"index_notifications_on_verb\"\n 1227      end\n 1228      create_table \"organic_invites\", id: :serial do |t|\n ....\n 1275        t.datetime \"start_at\"\n 1276        t.datetime \"end_at\"\n 1277:       t.boolean \"send_notification\"\n 1278        t.boolean \"only_administrators_can_see\"\n 1279        t.boolean \"store_link\", default: false, null: false\n ....\n 1309        t.string \"external_link\"\n 1310        t.boolean \"annonce_clonable\", default: false, null: false\n 1311:       t.boolean \"send_notification\", default: false, null: false\n 1312        t.boolean \"cleaned_after_end_at\", default: false, null: false\n 1313        t.boolean \"store_link\", default: false, null: false\n ....\n 1325        t.string \"title\"\n 1326        t.string \"body\"\n 1327:       t.boolean \"notification_sent\", default: false, null: false\n 1328        t.string \"url_for_image\"\n 1329        t.bigint \"target_community_id\"\n ....\n 1454        t.index [\"user_id\"], name: \"index_rugby_scores_on_user_id\"\n 1455      end\n 1456:     create_table \"same_grouped_notifications\", id: :serial do |t|\n 1457        t.datetime \"created_at\", null: false\n 1458        t.datetime \"updated_at\", null: false\n 1459:       t.integer \"notifications_count\", default: 0, null: false\n 1460      end\n 1461      create_table \"search_redirect_buttons\" do |t|\n ....\n 1508        t.datetime \"created_at\", null: false\n 1509        t.datetime \"updated_at\", null: false\n 1510:       t.integer \"notification_recap\", default: 2, null: false\n 1511        t.boolean \"communaute_access_request_sent_to_administrator\", default: true, null: false\n 1512        t.boolean \"mobile_conv_user_received\", default: true\n ....\n 1517        t.boolean \"mobile_annonce_in_one_of_your_communaute\", default: true\n 1518        t.integer \"snoozed_boards_ids\", default: [], null: false, array: true\n 1519:       t.index [\"notification_recap\"], name: \"index_setting_preferences_on_notification_recap\"\n 1520        t.index [\"user_id\"], name: \"index_setting_preferences_on_user_id\"\n 1521      end\n ....\n 1802        t.integer \"conv_users_count\", default: 0, null: false\n 1803        t.integer \"user_id\"\n 1804:       t.integer \"notification_recap\", default: 2, null: false\n 1805        t.integer \"annonces_count\", default: 0, null: false\n 1806        t.string \"notif_permission\"\n ....\n 1813        t.integer \"session_stats_count\", default: 0, null: false\n 1814        t.datetime \"bootstrap_tour_done_at\"\n 1815:       t.datetime \"last_visit_on_notifications\"\n 1816        t.datetime \"last_visit_on_messagerie\"\n 1817        t.datetime \"last_visit_on_admin\"\n ....\n 1823        t.datetime \"last_session_created_at\"\n 1824        t.integer \"cached_nb_steeple_notifs\", default: 0\n 1825:       t.datetime \"last_soft_summary_notifications\"\n 1826:       t.datetime \"last_email_summary_notifications\"\n 1827        t.datetime \"last_full_log_recap_summary\"\n 1828        t.bigint \"language_id\"\n ....\n 1961      add_foreign_key \"batch_of_invites\", \"restrictions\"\n 1962      add_foreign_key \"batch_of_invites\", \"users\"\n 1963:     add_foreign_key \"batch_of_unseen_notifications\", \"users\"\n 1964      add_foreign_key \"bets\", \"matches\"\n 1965      add_foreign_key \"bets\", \"users\"\n ....\n 2006      add_foreign_key \"meteos\", \"communautes\"\n 2007      add_foreign_key \"moduls\", \"albums\"\n 2008:     add_foreign_key \"notifications\", \"same_grouped_notifications\", column: \"same_grouped_notifications_id\"\n 2009      add_foreign_key \"organic_invites\", \"communaute_accesses\"\n 2010      add_foreign_key \"organic_invites\", \"user_communautes\"\n\n/home/guhurak/Documents/back-end/docs/mobile.md:\n   45  ### notif-values:4:5:1509445907\n   46  \n   47: Envoie au device de nouvelles valeurs pour les badges notification, le premier = main, deuxième = messagerie, troisième est le timestamp (si jamais on a une autre valeur, on regarde si elle est bien après le dernier timestamp utilisé)\n   48  \n   49  ### get-push-token\n\n/home/guhurak/Documents/back-end/docs/module.md:\n   12  ## Suggestions\n   13  \n   14: - Il peut y avoir des suggestions liées au modules, et dans ce cas les administrateurs peuvent configurer \"Recevoir des suggestions d'annonces\" et \"Recevoir les notifications de suggestions\"\n   15  \n   16  ## Configuration (champs dans la table moduls)\n\n/home/guhurak/Documents/back-end/docs/pigeon_loft.md:\n   29    + Dans `def content` ajouter un `when \"<name>\"` et y mettre un appel de méthode `content_<name>(communaute)`\n   30  \n   31:   + A la suite des méthode content et trigger des autres types de pigeons ajouter la méthode `def content_<name>(communaute)` qui devra renvoyer un hash contenant { start_at: DateTime à laquelle le pigeon doit être affiché, end_at: DateTime où le pigeon ne sera plus affiché, url_for_image: Url pour l'image qui sera utilisé dans la notification, path_to_open: Lien qui sera ouvert quand on clique sur la notification, laisser \"self\" si on veut juste voir le pigeon, custom_annonce_body: voir point suivant }\n   32  \n   33    + Pour custom_annonce_body il peut être set à `nil` si on veut que la publication qui sera affichée ne voit pas son contenu modifié, si on met du texte, ce texte remplacera le contenu de l'annonce au moment où l'utilisateur voudra créer la publication à partir du pigeon ( le contenue de la publication peut être accédé via `pigeon_loft.template.description` )\n   ..\n   69    + si besoin de passer par un `.select{}`, rajouter un `when \"<name>\"` dans `select_module`, il devra renvoyer `true` ou `false`\n   70  \n   71:   + Une icone pour la notification peut être spécifiée en rajoutant un `when <name>` dans `content_module` à `url_for_image`. Il faudra avoir ajouté l'image dans le dossier public au préalable\n   72  \n   73    + Noter qu'une modification du corps de l'annonce peut être faite, pour celà voir `pigeon_loft_external_service.rb`. Ce fichier sert aussi à mettre des méthodes externes spécifique à un cas\n\n/home/guhurak/Documents/back-end/docs/procedures.md:\n    1: ## Nouvelle notification\n    2   - Bien choisir le verbe, qui commence par le nom du modèle qui est notifiable\n    3:  - Notification_types.rb (à faire : détailler les paramètres disponibles)\n    4   - `def data_from_verb` (à faire : détailler les paramètres disponibles)\n    5:  - `views/notification_mailer` si email\n    6:  - `has_many :notifications, as: :notifiable` dans l'objet notifiable\n    7:  - Si le targetable n'est pas User, alors bien penser à mettre la locale dans notification_mailer dans after_action\n    8  \n    9  ## Nouveau module\n   ..\n   42  ## resend email\n   43  ```Ruby\n   44: Pusher::Email.new(notification).push_this_notification\n   45  ```\n   46  \n\n/home/guhurak/Documents/back-end/docs/uploads-history.md:\n  143  -> On pourrait générer des urls publiques \"permanentes\", en utilisant ça par exemple https://github.com/rails/rails/issues/31419#issuecomment-372050972 mais j'ai l'impression que c'est pas hyper secure. Les utilisateurs pourraient par exemple utiliser steeple comme cdn pour n'importe quel fichier etc...\n  144  \n  145: -> C'est pour ça que j'ai bidouillé pour utiliser la méthode des urls signées, mais au lieu de générer des nouvelles clés / signatures à chaque fois qu'on a besoin d'une image, la mettre en cache dans une nouvelle colonne cached_data de active_storage_blobs, et mettre à jour les urls au bout de 14 jours. Le problème c'est aussi pour les images exportées vers l'extérieur, exemple : email et notification. Au bout de 14 jours, les images dans les emails ne seront plus lisibles.\n  146  \n  147  Avantages :\n\n/home/guhurak/Documents/back-end/lib/tasks/consistency.rake:\n    1  namespace :db do\n    2:   # cette méthode peut prendre une quinzaine de minute, surtout la suppression des notifications.\n    3    task lighten_db: :environment do\n    4      fail 'e' unless (Rails.env == 'development' || ENV['HEROKU_APP_NAME'] == 'steeple-staging')\n    .\n   12      p 'deleting DeviceCheck...'\n   13      DeviceCheck.delete_all\n   14:     backuped_at = Notification.last.created_at\n   15      p 'deleting LogIosPush...'\n   16      LogIosPush.delete_all\n   ..\n   50      Video.delete_all\n   51  \n   52:     p 'deleting old notification...'\n   53:     total = Notification.where('created_at < ?', 40.days.ago).size\n   54      t = 0\n   55:     while Notification.where('created_at < ?', 40.days.ago).any?\n   56        p \"#{t} / #{total}\"\n   57:       Notification.where('created_at < ?', 40.days.ago).limit(50000).delete_all\n   58        t += 50000\n   59      end\n   60  \n   61      p 'deleting annonce_in_one_of_your_communaute...'\n   62:     total = Notification.where(verb: 'annonce_in_one_of_your_communaute').size\n   63      t = 0\n   64:     while Notification.where(verb: 'annonce_in_one_of_your_communaute').any?\n   65        p \"#{t} / #{total}\"\n   66:       Notification.where(verb: 'annonce_in_one_of_your_communaute').limit(50000).delete_all\n   67        t += 50000\n   68      end\n   ..\n   71      SessionStat.where('created_at < ?', 2.month.ago).delete_all\n   72  \n   73:     # notification_to_destroy = Notification.where('created_at < ?', (backuped_at - 20.days))\n   74:     # total = notification_to_destroy.size\n   75:     # notification_to_destroy.find_in_batches do |notification|\n   76:     #   notification.\n   77      # end\n   78      #   destroy_all\n\n/home/guhurak/Documents/back-end/log/test.log:\n    <binary>\n\n/home/guhurak/Documents/back-end/spec/mailers/previews/log_recap_mailer_preview.rb:\n    7  \n    8    # You can use this one for test :\n    9:   # You can generate one log_recap_user, and modify its annonces_ids or notifications_ids, conv_users_ids, annonces_ids, group_event_ids and it should display on the preview.\n   10    # maybe you must update communautes_for_annonces_ids,communautes_for_group_event_ids, i don't know\n   11    def last_send_recap\n\n/home/guhurak/Documents/back-end/spec/mailers/previews/notification_mailer_preview.rb:\n    1: class NotificationMailerPreview < ActionMailer::Preview\n    2  \n    3    def a_message_received_in_landing\n    4:     notification = Notification.where(verb:'a_message_received_in_landing').last\n    5:     Pusher::Email.new(notification).prepare_email\n    6    end\n    7  \n    8    def annonce_in_one_of_your_communaute\n    9:     notification = Notification.where(verb: 'annonce_in_one_of_your_communaute').last\n   10:     Pusher::Email.new(notification).prepare_email\n   11    end\n   12  \n   13:   def batch_of_unseen_notifications_pushed\n   14:     notification = Notification.where(verb:'batch_of_unseen_notifications_pushed').last\n   15:     # notification = Notification.where(verb:'batch_of_unseen_notifications_pushed', notifiable_id:BatchOfUnseenNotifications.where(notifications_count:3).pluck(:id)).last\n   16:     Pusher::Email.new(notification).prepare_email\n   17    end\n   18  \n   19:   def batch_of_one_notification_pushed\n   20:     notification = Notification.where(verb:'batch_of_unseen_notifications_pushed', notifiable_id:BatchOfUnseenNotifications.where(notifications_count:1).pluck(:id)).last\n   21:     Pusher::Email.new(notification).prepare_email\n   22    end\n   23  \n   24    def comment_also_posted_on_this_post\n   25:     notification = Notification.where(verb: 'comment_also_posted_on_this_post').last\n   26:     Pusher::Email.new(notification).prepare_email\n   27    end\n   28  \n   29    def comment_posted_on_your_post\n   30:     notification = Notification.where(verb: 'comment_posted_on_your_post').last\n   31:     Pusher::Email.new(notification).prepare_email\n   32    end\n   33  \n   34    def comment_idea_posted_on_your_idea\n   35:     notification = Notification.where(verb: 'comment_idea_posted_on_your_idea').last\n   36:     Pusher::Email.new(notification).prepare_email\n   37    end\n   38  \n   39    def communaute_access_mailed_to_you\n   40:     notification = Notification.where(verb:'communaute_access_mailed_to_you').last\n   41:     Pusher::Email.new(notification).prepare_email\n   42    end\n   43  \n   44    def communaute_access_request_granted\n   45:     notification = Notification.where(verb:'communaute_access_request_granted').last\n   46:     Pusher::Email.new(notification).prepare_email\n   47    end\n   48  \n   49    def communaute_access_request_sent_from_tv\n   50:     notification = Notification.where(verb:'communaute_access_request_sent_from_tv').last\n   51:     Pusher::Email.new(notification).prepare_email\n   52    end\n   53  \n   54    def communaute_access_request_sent_to_administrator\n   55:     notification = Notification.where(verb:'communaute_access_request_sent_to_administrator').last\n   56:     Pusher::Email.new(notification).prepare_email\n   57    end\n   58  \n   59    def communaute_reminder_one_week_without_posts\n   60:     notification = Notification.where(verb: 'communaute_reminder_one_week_without_posts').last\n   61:     Pusher::Email.new(notification).prepare_email\n   62    end\n   63  \n   64    def communaute_reminder_two_weeks_without_posts\n   65:     notification = Notification.where(verb: 'communaute_reminder_two_weeks_without_posts').last\n   66:     Pusher::Email.new(notification).prepare_email\n   67    end\n   68  \n   69    def like_given_on_your_comment\n   70:     notification = Notification.where(verb: 'like_given_on_your_comment').last\n   71:     Pusher::Email.new(notification).prepare_email\n   72    end\n   73  \n   74    def like_given_on_your_post\n   75:     notification = Notification.where(verb: 'like_given_on_your_post').last\n   76:     Pusher::Email.new(notification).prepare_email\n   77    end\n   78  \n   79    def like_idea_given_on_your_idea\n   80:     notification = Notification.where(verb: 'like_idea_given_on_your_idea').last\n   81:     Pusher::Email.new(notification).prepare_email\n   82    end\n   83  \n   84    def loyalty_card_access\n   85:     notification = Notification.where(verb:'loyalty_card_access').last\n   86:     Pusher::Email.new(notification).prepare_email\n   87    end\n   88  \n   89    def mention_in_annonce_description\n   90:     notification = Notification.where(verb: 'mention_in_annonce_description').last\n   91:     Pusher::Email.new(notification).prepare_email\n   92    end\n   93  \n   94    def mention_in_comment\n   95:     notification = Notification.where(verb: 'mention_in_comment').last\n   96:     Pusher::Email.new(notification).prepare_email\n   97    end\n   98  \n   99    def meteo_sent_to_you\n  100:     notification = Notification.where(verb:'meteo_sent_to_you').last\n  101:     Pusher::Email.new(notification).prepare_email\n  102    end\n  103  \n  104    def msg_received\n  105:     notification = Notification.where(verb:'msg_received').last\n  106:     Pusher::Email.new(notification).prepare_email\n  107    end\n  108  \n  109    def conv_user_received\n  110:     notification = Notification.where(verb:'conv_user_received').last\n  111:     Pusher::Email.new(notification).prepare_email\n  112    end\n  113  \n  114    def organic_invite_signup\n  115:     notification = Notification.where(verb:'organic_invite_signup').last\n  116:     Pusher::Email.new(notification).prepare_email\n  117    end\n  118  \n  119    def restriction_try_sent\n  120:     notification = Notification.where(verb:'restriction_try_sent').last\n  121:     Pusher::Email.new(notification).prepare_email\n  122    end\n  123  \n  124    def single_invite_sent_without_restriction\n  125:     notification = BatchOfInvites.where(restriction_id: nil).last.single_invites.last.notifications.last\n  126:     Pusher::Email.new(notification).prepare_email\n  127    end\n  128  \n  129    def single_invite_sent_with_restriction\n  130:     notification = BatchOfInvites.where.not(restriction_id: nil).last.single_invites.last.notifications.last\n  131:     Pusher::Email.new(notification).prepare_email\n  132    end\n  133  \n  134    def ringing_sent\n  135:     notification = Notification.where(verb:'ringing_sent').last\n  136:     Pusher::Email.new(notification).prepare_email\n  137    end\n  138  \n  139    def support_msg_sent_to_user\n  140:     notification = Notification.where(verb:'support_msg_sent_to_user').last\n  141:     Pusher::Email.new(notification).prepare_email\n  142    end\n  143  \n  144    def support_msg_sent_to_admin\n  145:     notification = Notification.where(verb:'support_msg_sent_to_admin').last\n  146:     Pusher::Email.new(notification).prepare_email\n  147    end\n  148  \n  149  \n  150    def tv_preinscription_sent\n  151:     notification = Notification.where(verb:'tv_preinscription_sent').last\n  152:     Pusher::Email.new(notification).prepare_email\n  153    end\n  154  \n  ...\n  157      # @auto_login_token = @user.auto_login_tokens.create(email:@user.email, mail_object:\"Votre mot de passe Steeple\", objects_type:'RecoverPassword', objects_ids:[@user.id])\n  158      #   mail to:@user.email, subject:\"Votre mot de passe Steeple\"\n  159:     NotificationMailer.tv_recover_password(142)\n  160    end\n  161  \n  162    def user_communaute_is_now_administrator\n  163:     notification = Notification.where(verb:'user_communaute_is_now_administrator').last\n  164:     Pusher::Email.new(notification).prepare_email\n  165    end\n  166  \n  167    def user_ultimatum\n  168:     notification = Notification.where(verb: 'user_ultimatum').last\n  169:     Pusher::Email.new(notification).prepare_email\n  170    end\n  171  \n\n/home/guhurak/Documents/back-end/spec/requests/api/v1/administration/communautes/-communaute_id/members/post_spec.rb:\n  424  \n  425          it \"doesn't send one\" do\n  426:           expect(NotificationCreatorService).not_to receive(:create)\n  427            create_member\n  428            expect_api_success(status: :created, data: be_present)\n  ...\n  440  \n  441          it \"doesn't send one\" do\n  442:           expect(NotificationCreatorService).not_to receive(:create)\n  443            create_member\n  444            expect_api_success(status: :created, data: be_present)\n  ...\n  456  \n  457          it \"sends one\" do\n  458:           expect(NotificationCreatorService).to receive(:create).with(\n  459              (a_kind_of(Email) & have_attributes(email: member[:email])),\n  460              \"communaute_access_mailed_to_you\",\n\n/home/guhurak/Documents/back-end/spec/requests/api/v1/administration/members/-member_id/invitations/post_spec.rb:\n   31  \n   32        it \"sends the invitation\" do\n   33:         expect(NotificationCreatorService).to receive(:create).with(\n   34            (a_kind_of(Email) & have_attributes(email: member.email)),\n   35            \"communaute_access_mailed_to_you\",\n   ..\n   54  \n   55      it \"is impossible\" do\n   56:       expect(NotificationCreatorService).not_to receive(:create)\n   57        post_member_invitation\n   58        expect_api_failure(\n\n/home/guhurak/Documents/back-end/test/controllers/ideas_controller_test.rb:\n    8    end\n    9  \n   10:   test \"should not notify new idea when notifications are disabled\" do\n   11      sign_in_as(@user)\n   12  \n   ..\n   23    end\n   24  \n   25:   test \"should notify new idea when notifications are enabled\" do\n   26      sign_in_as(@user)\n   27  \n   ..\n   40      assert_response :success\n   41  \n   42:     assert_difference 'Notification.count', @custom_module.communaute.users.size - 1 do\n   43        NotifyEverybodyInCommunauteJob.perform_now('Idea', Idea.last)\n   44      end\n\n/home/guhurak/Documents/back-end/test/controllers/admin/pigeon_lofts_controller_test.rb:\n   17  \n   18    test \"should create a manual pigeon_loft\" do\n   19:     post admin_pigeon_lofts_path(pigeon_loft: { title: \"bonjour\", body: \"c'est moi\", pigeon_type: \"manual\", annonce_clonable: false, all_communities: false, all_client: false, all_opened: true, start_at: DateTime.now + 1.hour, end_at: DateTime.now + 5.hour, send_notification: true, only_administrators_can_see: true, store_link: false, external_link: nil }, template_id: nil)\n   20      if Pigeon.find_by(title: \"bonjour\")\n   21        assert_response :succes\n   ..\n   29  \n   30    test \"should update start_date and title of pigeon_loft\" do\n   31:     patch admin_pigeon_loft_path(id: PigeonLoft.first.id, pigeon_loft: { title: \"bonsoir\", body: \"c'est moi\", pigeon_type: \"manual\", annonce_clonable: false, all_communities: false, all_client: false, all_opened: true, start_at: DateTime.now + 2.hour, end_at: DateTime.now + 5.hour, send_notification: true, only_administrators_can_see: true, store_link: false, external_link: nil }, template_id: nil)\n   32      if Pigeon.find_by(title: \"bonsoir\")\n   33        assert_response :succes\n   ..\n   36  \n   37    test \"should destroy a pigeon_loft\" do\n   38:     post admin_pigeon_lofts_path(pigeon_loft: { title: \"pigeon à détruire\", body: \"c'est lui\", pigeon_type: \"manual\", annonce_clonable: false, all_communities: false, all_client: false, all_opened: true, start_at: DateTime.now + 1.hour, end_at: DateTime.now + 5.hour, send_notification: true, only_administrators_can_see: true, store_link: false, external_link: nil }, template_id: nil)\n   39      pigeon_loft = PigeonLoft.last\n   40      delete admin_pigeon_loft_path(id: pigeon_loft.id)\n\n/home/guhurak/Documents/back-end/test/fixtures/pigeon_lofts.yml:\n   16    start_at: <%= DateTime.now %>\n   17    end_at: <%= DateTime.now + 1.day %>\n   18:   send_notification: true\n   19    only_administrators_can_see: true\n   20    language: fr\n\n/home/guhurak/Documents/back-end/test/fixtures/setting_preferences.yml:\n    1  michael_settings_preference:\n    2    user: michael\n    3:   notification_recap: 1\n    4  \n    5  jb_settings_preference:\n\n/home/guhurak/Documents/back-end/test/jobs/send_user_ultimatum_job_test.rb:\n   12      end\n   13  \n   14:     last_notification = Notification.last\n   15  \n   16:     assert last_notification.verb, 'user_ultimatum'\n   17:     assert last_notification.notifiable, user\n   18:     assert last_notification.data['reason'], reason\n   19    end\n   20  end\n\n/home/guhurak/Documents/back-end/test/models/comment_test.rb:\n   10  \n   11    if ENV['TEST_ELASTICSEARCH']\n   12:     test 'Test send_the_notification' do\n   13        annonce = annonces(:basic_annonce)\n   14        comment = annonce.comments.create!(user: @user, content: \"@#{@first_user_to_mention.name}\")\n   ..\n   16        assert_difference 'Mention.count', 2 do\n   17          assert_difference \"Mention.where(user_id: #{@first_user_to_mention.id}).count\" do\n   18:           comment.send_the_notification\n   19          end\n   20  \n   ..\n   22  \n   23          assert_difference \"Mention.where(user_id: #{@second_user_to_mention.id}).count\" do\n   24:           comment.send_the_notification\n   25          end\n   26        end\n   ..\n   29  \n   30        assert_no_difference \"Mention.count\" do\n   31:         comment.send_the_notification\n   32        end\n   33      end\n\n/home/guhurak/Documents/back-end/test/models/compteur_test.rb:\n    2  \n    3  class CompteurTest < ActiveSupport::TestCase\n    4:   test 'should not send notifications when user manually change the date' do\n    5      compteur = compteurs(:last_record_yesterday)\n    6:     assert_no_difference 'Notification.count' do\n    7        compteur.update(started_at: 100.days.ago)\n    8        compteur.maybe_update_best_record\n    .\n   10    end\n   11  \n   12:   test 'should not send notifications when user manually change the best record' do\n   13      compteur = compteurs(:last_record_yesterday)\n   14:     assert_no_difference 'Notification.count' do\n   15        compteur.update(best_record: 100)\n   16        compteur.maybe_update_best_record\n   ..\n   18    end\n   19  \n   20:   test 'should not send notifications when last record was yesterday' do\n   21      compteur = compteurs(:last_record_yesterday)\n   22:     assert_no_difference 'Notification.count' do\n   23        compteur.update(best_record: 100)\n   24        compteur.maybe_update_best_record(true)\n   ..\n   26    end\n   27  \n   28:   test 'should send notifications if new best record' do\n   29      compteur = compteurs(:new_record)\n   30:     assert_difference 'Notification.count', compteur.custom_module.communaute.users.size do\n   31        compteur.maybe_update_best_record(true)\n   32      end\n\n/home/guhurak/Documents/back-end/test/models/notification_types_test.rb:\n    1  require 'test_helper'\n    2  \n    3: class NotificationTypesTest < ActiveSupport::TestCase\n    4  \n    5:   test 'testing notification verb services' do\n    6:     assert NotificationTypes.is_valid_verb?(:annonce_in_one_of_your_communaute)\n    7:     assert_not NotificationTypes.is_visible?(:annonce_in_one_of_your_communaute)\n    8:     assert_not NotificationTypes.is_visible_in_main?(:annonce_in_one_of_your_communaute)\n    9:     assert_not NotificationTypes.is_visible_in_admin?(:annonce_in_one_of_your_communaute)\n   10:     assert NotificationTypes.is_visible_in_messagerie?(:msg_received)\n   11:     assert_not NotificationTypes.is_visible_in_support?(:support_msg_sent_to_admin)\n   12:     assert NotificationTypes.is_visible_in_support?(:support_msg_sent_to_user)\n   13  \n   14:     assert NotificationTypes.is_not_visible_but_pushable?(:annonce_in_one_of_your_communaute)\n   15:     assert_not NotificationTypes.is_not_visible_but_pushable?(:comment_also_posted_on_this_post)\n   16  \n   17:     assert NotificationTypes.is_soft_pushable?(:annonce_in_one_of_your_communaute)\n   18:     assert NotificationTypes.is_email_pushable?(:annonce_in_one_of_your_communaute)\n   19  \n   20:     assert NotificationTypes.is_soft_push_configurable?(:annonce_in_one_of_your_communaute)\n   21:     assert NotificationTypes.is_email_push_configurable?(:conv_user_received)\n   22  \n   23:     assert_not NotificationTypes.no_sound?(:annonce_in_one_of_your_communaute)\n   24:     assert NotificationTypes.no_sound?(:comment_also_posted_on_this_post)\n   25  \n   26  \n   27:     assert NotificationTypes.is_very_important?(:ringing_sent)\n   28  \n   29:     assert :msg_received.in? NotificationTypes.visible_messagerie_verbs\n   30:     assert :match_day_begins.in? NotificationTypes.visible_main_verbs\n   31:     assert :support_msg_sent_to_admin.in? NotificationTypes.visible_admin_verbs\n   32:     assert :msg_received.in? NotificationTypes.email_pushable_verbs\n   33:     assert :annonce_in_one_of_your_communaute.in? NotificationTypes.email_pushable_verbs\n   34    end\n   35  end\n\n/home/guhurak/Documents/back-end/test/models/poll_test.rb:\n   13    end\n   14  \n   15:   test 'PollCheckVotesAndNotifyJob should send notifications only if new votes' do\n   16      poll = Poll.create!(annonce: @annonce, vote_options: Array.new(2, VoteOption.new(content: 'test')))\n   17  \n   18:     assert_difference 'Notification.count' do\n   19        poll.vote_options.first.votes.create!(user: @user)\n   20        PollCheckVotesAndNotifyJob.perform_now(poll)\n   21      end\n   22:     assert_no_difference 'Notification.count' do\n   23        PollCheckVotesAndNotifyJob.perform_now(poll)\n   24      end\n\n/home/guhurak/Documents/back-end/test/models/modules/countdown_test.rb:\n    6    end\n    7  \n    8:   test 'should not schedule CountdownNotifyJob when notifications are disabled' do\n    9      assert_no_enqueued_jobs do\n   10        communautes(:mon_entreprise).custom_modules.new(modul: Modul.countdown).create_with_parameters({\n   ..\n   14    end\n   15  \n   16:   test 'should schedule CountdownNotifyJob when notifications are enabled' do\n   17      assert_enqueued_jobs 3, only: CountdownNotifyJob do\n   18        communautes(:mon_entreprise).custom_modules.new(modul: Modul.countdown).create_with_parameters({\n\n3577 matches across 269 files\n\n\nSearching 4175 files for \"manual\"\n\n/home/guhurak/Documents/back-end/.git/index:\n    <binary>\n\n/home/guhurak/Documents/back-end/.git/objects/pack/pack-086f8e819b8f97733f32941665ddd8f61ff82420.pack:\n    File too large, skipping\n\n/home/guhurak/Documents/back-end/app/controllers/tvs_controller.rb:\n  112    end\n  113  \n  114:   def manual_signup_form\n  115    end\n  116  \n\n/home/guhurak/Documents/back-end/app/controllers/admin/football_matches_controller.rb:\n   24    def create\n   25      match = FootballMatch.new(match_params)\n   26:     match.manual_mode = true\n   27      match.data['league_id'] = 213\n   28      match.data['event_date'] = Time.zone.local_to_utc(match.data['event_date'].to_datetime)\n   ..\n   36      match = FootballMatch.find(params[:id])\n   37      match.update!({\n   38:       manual_mode: match_params[:manual_mode],\n   39        data: match.data.deep_merge(match_params[:data])\n   40      })\n   ..\n   52  \n   53      def match_params\n   54:       params.require(:football_match).permit(:manual_mode, data: [:event_date, :round, :statusShort, :goalsHomeTeam, :goalsAwayTeam, score: [:penalty], homeTeam: [:team_id], awayTeam: [:team_id]])\n   55      end\n   56  end\n\n/home/guhurak/Documents/back-end/app/controllers/admin/match_days_controller.rb:\n   15    end\n   16  \n   17:   def manual_refresh\n   18      @match_day = MatchDay.find(params[:id])\n   19      @match_day.update_matches\n\n/home/guhurak/Documents/back-end/app/controllers/admin/pigeon_lofts_controller.rb:\n   11      range = (@date.beginning_of_month - 7.day)..(@date.end_of_month + 14.day)\n   12  \n   13:     @pigeon_lofts_manual = (PigeonLoft.where(pigeon_type: 'manual', start_at: range).or(PigeonLoft.where(pigeon_type: 'manual', end_at: range)).includes(:template, :pigeons, :communautes, annonces: :boards).order(created_at: :desc)).uniq.map(&:to_data_for_calendar)\n   14  \n   15      @pigeon_lofts_start_date = PigeonLoft.where(pigeon_type: 'start_date')\n   ..\n  135  \n  136      def check_pigeon_loft(pigeon_loft)\n  137:       Admin::CreateOrUpdatePigeonLoftJob.perform_later(pigeon_loft.id, false) if pigeon_loft.pigeon_type == \"manual\" && pigeon_loft.start_at <= DateTime.now + 1.day\n  138      end\n  139  \n  140      def descendant_update(pigeon_loft)\n  141:       Admin::CreateOrUpdatePigeonLoftJob.perform_later(pigeon_loft.id, true) if pigeon_loft.pigeon_type == \"manual\" && (pigeon_loft.pigeons.any? || pigeon_loft.start_at <= DateTime.now + 1.day)\n  142      end\n  143  \n  ...\n  174          store_link: base_params[:store_link] || false,\n  175          language_id: params[:language_id],\n  176:         modul_id: params[:for_a_modul] == \"true\" && (base_params[:pigeon_type] || @pigeon_loft.pigeon_type) == \"manual\" ? base_params[:modul_id] : nil\n  177        }\n  178      end\n  ...\n  250        @pigeon_loft.pigeon_type ||= params[:pigeon_type]\n  251  \n  252:       @manual_start_at = @pigeon_loft.start_at || params[:start_at]&.to_datetime || DateTime.now.change(hour: 8, min: 0, sec: 0)\n  253:       @manual_end_at = @pigeon_loft.end_at || params[:end_at]&.to_datetime || DateTime.now.change(hour: 22, min: 0, sec: 0) + 1.day\n  254  \n  255        @start_date_days_after_opening = @pigeon_loft.pigeon_type == \"start_date\" && config[\"days_after_opening\"] ? config[\"days_after_opening\"] : 1\n\n/home/guhurak/Documents/back-end/app/controllers/administration/communaute_accesses_controller.rb:\n   13  \n   14    # instead of modifying everywhere the urls, we keep /communautes_accesses\n   15:   # and show the default manual_invites or automated_invites, except if one is specifically in param\n   16    def index\n   17      if params[:identity_provider_id]\n   18        @identity_provider = @communaute.identity_providers.find(params[:identity_provider_id])\n   19:     elsif @communaute.identity_providers.any? and params[:manual_invites].nil?\n   20        @identity_provider = @communaute.identity_providers.first\n   21      end\n   ..\n  239      def redirect_to_good_invite_tab\n  240        identity_provider_id = @identity_provider&.id || @communaute_access&.identity_provider_id || @communaute.identity_providers.find_by(id: params[:identity_provider_id])&.id\n  241:       h = identity_provider_id ? { identity_provider_id: identity_provider_id } : { manual_invites: true }\n  242        redirect_to [:administration, @communaute, :communaute_accesses, h]\n  243      end\n\n/home/guhurak/Documents/back-end/app/javascript/global/each_load.js:\n  352        searchTag: '#' + $(this).attr('id'),\n  353        contentTag: $(this).data('content-tag'),\n  354:       manualContentHandling (tag) {\n  355          return tag.getAttribute('data-content')\n  356        }\n\n/home/guhurak/Documents/back-end/app/javascript/global/media_popup.js:\n    1  import i18next from 'i18next'\n    2  \n    3: const openMediaPopup = (items, index = 0, manualClose = true) => {\n    4    // Settings\n    5    const totalItems = items.length\n    .\n   13    // Template Media Popup\n   14    const mpContainer = document.createElement('div')\n   15:   mpContainer.className = manualClose ? 'media-popup-container closable' : 'media-popup-container'\n   16  \n   17    const mpWrapper = document.createElement('div')\n   ..\n   19  \n   20    let mpClose\n   21:   if (manualClose) {\n   22      mpClose = document.createElement('button')\n   23      mpClose.className = 'media-popup-close'\n   ..\n  156    setTimeout(() => mpContainer.classList.add('visible'), 100)\n  157  \n  158:   if (manualClose) {\n  159      // Hide Media Popup if click on him\n  160      const hideMediaPopup = () => {\n\n/home/guhurak/Documents/back-end/app/javascript/web/admin/pigeon_loft_calendar.js:\n   24            start_at: new Date(start.getFullYear(), start.getMonth(), start.getDate(), 8),\n   25            end_at: new Date(end.getFullYear(), end.getMonth(), end.getDate() - 1, 22),\n   26:           pigeon_type: 'manual'\n   27          }))\n   28        },\n\n/home/guhurak/Documents/back-end/app/models/football_match.rb:\n   21    # Pour les demi-finales :\n   22    # (angleterre-etatsunis) :\n   23:   # FootballMatch.manual_create(nil, \"2019-07-02T19:00:00+00:00\", \"Demi-Finals\", 1721, 1718)\n   24    # (angleterre suede)\n   25:   # FootballMatch.manual_create(nil, \"2019-07-03T19:00:00+00:00\", \"Demi-Finals\", 1733, 1739)\n   26    # finale:\n   27:   # FootballMatch.manual_create(nil, \"2019-07-07T15:00:00+00:00\", \"Finale\", 1718, 1739)\n   28    # petite finale:\n   29:   # FootballMatch.manual_create(nil, \"2019-07-06T15:00:00+00:00\", \"Demi-Finals\", 1733, 1733)\n   30  \n   31  \n   32:   def self.manual_create(fixture_id, event_date, round, home_team_id, away_team_id)\n   33      home_team = FootballTeam.find_by!(\"data->>'team_id' = ?\", home_team_id.to_s).data\n   34      away_team = FootballTeam.find_by!(\"data->>'team_id' = ?\", away_team_id.to_s).data\n\n/home/guhurak/Documents/back-end/app/models/pigeon_loft.rb:\n  147  \n  148        communautes_ids = []\n  149:       if title == pigeon_loft.title && body == pigeon_loft.body && pigeon_loft.pigeon_type == \"manual\"\n  150          communautes = pigeon_loft.communautes_targetables.pluck(:id)\n  151          communautes_ids = user.communaute_ids.map{|id| id if id.in? communautes}.compact\n  ...\n  184      # Add here the differents types of pigeon_loft with a '+' to have them all in one array\n  185      # it make more call to the data base but we play with less data\n  186:     PigeonLoft.where(pigeon_type: 'manual').where('end_at > ?', DateTime.now).where(start_at: DateTime.now..(DateTime.now + 1)) +\n  187      PigeonLoft.where(pigeon_type: ['start_date', 'module', 'stats'])\n  188    end\n  ...\n  192      # Add here the conditions to have a different content for the notification for additional types\n  193        case pigeon_type\n  194:       when 'manual'\n  195:         content_manual(communaute)\n  196        when 'start_date'\n  197          content_start_date(communaute)\n  ...\n  226      # Add here the trigger method for each pigeon_type\n  227      request = case pigeon_type\n  228:     when \"manual\"\n  229:       trigger_manual\n  230      when \"start_date\"\n  231        trigger_start_date\n  ...\n  263  \n  264    # |------------------------------------------------------------------------------------------------------|\n  265:   # |----------------------------------------- pigeon_type Manual -----------------------------------------|\n  266    # |------------------------------------------------------------------------------------------------------|\n  267:   def content_manual(communaute)\n  268      {\n  269        start_at: start_at,\n  ...\n  276    end\n  277  \n  278:   def trigger_manual\n  279      request = \"#{(\"communautes.id IN (\" + modul.custom_modules.pluck(:communaute_id).join(', ') + \")\") if modul_id}\"\n  280  \n\n/home/guhurak/Documents/back-end/app/services/communaute_access_validator.rb:\n    8    # return true if no error\n    9    def perform_create\n   10:     # not sure about that, should we be able to update them manually or not?\n   11      clean_provider_identifier\n   12      clean_email\n\n/home/guhurak/Documents/back-end/app/transactions/transactions/members/adapters/communaute_access.rb:\n   36  \n   37          def id=(*)\n   38:           # noop: never change an id manually\n   39          end\n   40  \n\n/home/guhurak/Documents/back-end/app/transactions/transactions/members/adapters/user_communaute.rb:\n   23  \n   24          def id=(*)\n   25:           # noop: never change an id manually\n   26          end\n   27  \n\n/home/guhurak/Documents/back-end/app/views/admin/ligue1_ligue2.html.erb:\n   47        <h3>Journée <%= match_day.match_day_ref %></h3>\n   48        <span>MatchDay.find(<%= match_day.id %>)</span>\n   49:       <%= form_with model: [:manual_refresh, :admin, match_day], method: :post do |f| %>\n   50          <%= f.submit \"Rafraîchir les résultats\" %>\n   51        <% end %>\n\n/home/guhurak/Documents/back-end/app/views/admin/football_matches/_form.html.erb:\n    1  <%= form_with model: [:admin, match], class: 'd-flex' do |f| %>\n    2:   <% match.manual_mode = true %>\n    3    <table>\n    4      <tbody>\n    .\n   22          </td>\n   23          <td>\n   24:           <%= f.label :manual_mode, class: 'checkbox-steeple', style: 'display: none;' do %>\n   25:             <%= f.check_box :manual_mode %>\n   26            <% end %>\n   27          </td>\n\n/home/guhurak/Documents/back-end/app/views/admin/moduls/pronostics.html.erb:\n   10          <% last_two_match_days = (prev_match_day ? [prev_match_day] : []) + [next_match_day] %>\n   11          <% last_two_match_days.each do |match_day| %>\n   12:           <%= form_with model: [:manual_refresh, :admin, match_day], method: :post do |f| %>\n   13              <%= f.submit \"Rafraîchir résultats de la Journée #{match_day.match_day_ref}\", class: 'mt-3 btn-steeple', data: { disable_with: \"Rafraîchissement en cours...\" } %>\n   14            <% end %>\n\n/home/guhurak/Documents/back-end/app/views/admin/pigeon_lofts/_form.html.erb:\n   28          <div class=\"input-container\">\n   29            <%= f.label :pigeon_type, \"Type\" %>\n   30:           <%= f.select :pigeon_type, [['Manuels', 'manual'], ['Date de lancement', 'start_date'], ['Module', 'module'], ['Statistique', 'stats']], { include_blank: false }, { class: \"show-selector-on-change input-steeple\", data: {selector: 'type-'}, disabled: @pigeon_loft.persisted? } %>\n   31          </div>\n   32  \n   33:         <div class='type-manual' style=\"<%= \"display: none\" unless @pigeon_loft.pigeon_type == \"manual\" || @pigeon_loft.pigeon_type == nil %>\">\n   34            <div class='row mx-auto' style='max-width: 500px;'>\n   35              <div class='input-container col m6 pl-0'>\n   36                <%= f.label :start_at, 'Début affichage' %>\n   37:               <%= f.hidden_field :start_at, value: @manual_start_at, id: 'pigeon_voyageur_start_at', class: 'input-steeple to-flatpickr', data: { default_date: @manual_start_at, minute_increment: 15, allow_past: true }, disabled: disable_fields_if_past %>\n   38              </div>\n   39              <div class='input-container col m6 pr-0'>\n   40                <%= f.label :end_at, 'Fin affichage' %>\n   41:               <%= f.hidden_field :end_at, value: @manual_end_at, id:'pigeon_voyageur_end_at', class: 'input-steeple to-flatpickr', data: { default_date: @manual_end_at, minute_increment: 15, allow_past: true } %>\n   42              </div>\n   43            </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/pigeon_lofts/create.js.erb:\n    1  <% config = JSON.parse(@pigeon_loft.config)\n    2  case @pigeon_loft.pigeon_type\n    3: when 'manual' %>\n    4    var event = JSON.parse(\"<%= j raw @pigeon_loft.to_data_for_calendar.to_json %>\")\n    5    pigeonLoftCalendar.addEvent(event)\n\n/home/guhurak/Documents/back-end/app/views/admin/pigeon_lofts/destroy.js.erb:\n    1  <% case @pigeon_loft.pigeon_type\n    2:   when 'manual' %>\n    3      pigeonLoftCalendar.getEventById(<%= @pigeon_loft.id %>).remove()\n    4    <% when 'start_date', 'module', 'stats' %>\n\n/home/guhurak/Documents/back-end/app/views/admin/pigeon_lofts/index.html.erb:\n   12          <div class='steeple-tab init-steeple-tab' data-tab-content='#steeple-tab-content-id'>\n   13            <div>\n   14:             <button data-tab-content-show=\".manual\" class=\"active\">Pigeons manuels</button>\n   15              <button data-tab-content-show=\".start_date\">Pigeons suivant la date de lancement</button>\n   16              <button data-tab-content-show=\".module\">Pigeons des modules</button>\n   ..\n   21           \n   22          <div id='steeple-tab-content-id' class='tab-content-column'>\n   23:           <div class='steeple-tab-content show manual mt-2'>\n   24              <div class=\"justify-content-between\">\n   25                <div class=\"d-flex\">\n   ..\n   37              </div>\n   38              <div class='overflow-auto'>\n   39:               <div id=\"pigeon-lofts-calendar\" class=\"calendar-to-load\" style='min-width:600px' data-events=\"<%= @pigeon_lofts_manual.to_json %>\" data-default-date=\"<%= @date %>\"></div>\n   40              </div>\n   41            </div>\n\n/home/guhurak/Documents/back-end/app/views/admin/pigeon_lofts/update.js.erb:\n    1  <% case @pigeon_loft.pigeon_type\n    2:   when 'manual' %>\n    3      var event = JSON.parse(\"<%= j raw @pigeon_loft.to_data_for_calendar.to_json %>\")\n    4  \n\n/home/guhurak/Documents/back-end/app/views/administration/access_methods/_access_method.html.erb:\n   86      <ul>\n   87        <li><%= I18n.t('users_enters_loyalty_card') %></li>\n   88:       <li><%= I18n.t('administrators_can_import_manually') %></li>\n   89      </ul>\n   90      <%= access_method_command_button(communaute, I18n.t('delete_all_config'),\"remove-loyalty\", admin: true) %>\n   ..\n   98        <li><%= I18n.t('users_can_create_restriction_tries') %></li>\n   99        <li><%= I18n.t('users_can_create_access_requests') %></li>\n  100:       <li><%= I18n.t('administrators_can_import_manually') %></li>\n  101      </ul>\n  102      <% case communaute.restrictions.size %>\n  ...\n  146      <ul>\n  147        <li><%= I18n.t(\"users_can_create_access_requests\") %></li>\n  148:       <li><%= I18n.t(\"administrators_can_import_manually\") %></li>\n  149      </ul>\n  150  \n\n/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/_form.html.erb:\n   30          <% if !@communaute_access.persisted? || @communaute_access.provider_identifier.present? %>\n   31            <div class='input-container mx-auto'>\n   32:             <%= f.label :provider_identifier, I18n.t('communaute_accesses.provider_identifier_except_if_manual') %>\n   33              <%= f.text_field :provider_identifier, class: 'input-steeple', placeholder: @communaute_access.identity_provider.provider_identifier_text, disabled: @communaute_access.persisted? %>\n   34            </div>\n\n/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/index.html.erb:\n    1: <%# maybe we will need to completely disable classic invites. For the moment we always show a second \"manual invitations\" tab %>\n    2: <% show_manual_invites_tab = true %>\n    3  \n    4  <% cas = if @identity_provider\n    .\n   29      <% end %>\n   30  \n   31:     <% if @communaute.identity_provider_ids.any? and show_manual_invites_tab %>\n   32        <h1>\n   33          <% if @identity_provider %>\n   34:           <%= link_to I18n.t('communautes.manual_invites'), [:administration, @communaute, :communaute_accesses, { manual_invites: true }], style:'font-size: 14px;' %> |\n   35          <% else %>\n   36:           <%= I18n.t('communautes.manual_invites') %> |\n   37          <% end %>\n   38  \n   ..\n   73        <%= link_to @identity_provider.delete_list_text, new_members_export_path(communaute_id: @communaute.id, identity_provider_id: @identity_provider.id, operation_type: 'delete-only'), class: 'btn-steeple' %>\n   74  \n   75:     <% elsif show_manual_invites_tab %>\n   76        <%= link_to I18n.t('communaute_accesses.new_one'), new_administration_communaute_communaute_access_path, class:'btn-steeple' %>\n   77        <% if @communaute.identity_provider_ids.empty? and !@communaute.operating_mother_community %>\n\n/home/guhurak/Documents/back-end/app/views/administration/user_communautes/_user_communaute.html.erb:\n    4  <% if one_provider %>\n    5    <% provider_identifier = user_communaute.communaute_access&.provider_identifier %>\n    6:   <% (classes += (provider_identifier ? ' sync' : ' manual')) if one_provider %>\n    7  <% end %>\n    8  \n\n/home/guhurak/Documents/back-end/app/views/administration_content/_user_communautes.html.erb:\n   35            <% idp = @communaute.identity_providers.first %>\n   36            <% if idp && idp.sso_type == 'birthday-identifier' %>\n   37:             <button class=\"btn-light\" data-filter=\"manual\">\n   38                <%= I18n.t('filter_without_matricule') %>\n   39              </button>\n\n/home/guhurak/Documents/back-end/app/views/tvs/_qui_etes_vous.html.erb:\n   39              <% elsif u[:communaute_access_id] %>\n   40                <%= \" c/#{'-' if u[:email].blank?}e\" if Rails.env == 'development' %>\n   41:               <%= link_to u[:name], tv_manual_signup_form_path(@tv, communaute_access_id:u[:communaute_access_id]), remote:true, class:'btn-light', style:'width:200px;' %>\n   42              <% end %>\n   43            </div>\n   ..\n   47          <hr>\n   48          <div style='text-align:center;'>\n   49:           <%= link_to I18n.t('tvs.qui_etes_vous.n3'), tv_manual_signup_form_path(@tv), remote:true, style:'color:inherit;text-decoration:inherit;' %>\n   50          </div>\n   51        <% end %>\n\n/home/guhurak/Documents/back-end/app/views/tvs/manual_signup.js.erb:\n    1  <% if @user.persisted? %>\n    2:   $(\"#tv-new-signup\").html(\"<span style='font-weight:bold;color:green;'><%= I18n.t('tvs.manual_signup.n1') %></span>\");\n    3  <% else %>\n    4:   $(\"#tv-new-signup-error\").html(\"<span style='color:red;'><%= I18n.t('tvs.manual_signup.n2') %></span>\");\n    5  <% end %>\n    6  \n\n/home/guhurak/Documents/back-end/app/views/vignettes/_tv_navbar.html.erb:\n   78              <%= link_to I18n.t('vignettes.tv_navbar.n3'), edit_tv_path(@tv), class: 'btn-steeple' %>\n   79            <% elsif @tv.communaute.loyalty_mode %>\n   80:             <%= link_to I18n.t('vignettes.tv_navbar.n4'), tv_manual_signup_form_path(@tv),\n   81                remote:true,\n   82                class:\"btn-steeple maybe-change-color-button\",\n   ..\n   85  \n   86            <% if current_user.tv_id and @tv.show_signup_button? %>\n   87:             <%= link_to I18n.t('vignettes.tv_navbar.n5'), tv_manual_signup_form_path(@tv), remote:true, style:'padding:5px 40px;color:inherit;text-decoration:inherit;' %>\n   88            <% end %>\n   89          </div>\n\n/home/guhurak/Documents/back-end/config/routes.rb:\n  261      get 'emails2'\n  262      resources :match_days, only: [:index, :show] do\n  263:       post 'manual_refresh', on: :member\n  264      end\n  265      resources :bets\n  ...\n  725      post :toggle_debug, on: :member\n  726  \n  727:     get 'manual_signup_form'\n  728    end\n  729  \n\n/home/guhurak/Documents/back-end/config/initializers/devise.rb:\n  297    #\n  298    # When using OmniAuth, Devise cannot automatically set OmniAuth path,\n  299:   # so you need to do it manually. For the users scope, it would be:\n  300    # config.omniauth_path_prefix = '/my_engine/users/auth'\n  301  \n\n/home/guhurak/Documents/back-end/config/locales/identity_providers.en.yml:\n   29    click_then_on: \"click then on\"\n   30    below_once_filled: \"below once fields filled\"\n   31:   saml_third_method_url: \"3 - Third method : enter manually metadata\"\n   32    access_method_loyalty: \"Access method: by Leclerc loyalty card\"\n   33    users_enters_loyalty_card: \"Users access by entering a loyalty card number\"\n   34:   administrators_can_import_manually: \"Administrators can invite a member by email in the 'Invitations' tab, one by one or by importing a member file\"\n   35    access_method_restriction: \"Access method: by domain name (example: @entreprise.com)\"\n   36    users_can_create_access_requests: \"Users can create an access request, which can be accepted by an administrator\"\n   ..\n   85    you_sure_delete_this_member: \"Are you sure you want to delete this member?\"\n   86    steeple_profile: \"Steeple profile\"\n   87:   manually_edit: \"Manually edit\"\n   88    regenerate_scim_token: \"Expirer et regénérer le token\"\n   89    access_methods:\n\n/home/guhurak/Documents/back-end/config/locales/identity_providers.es.yml:\n   29    click_then_on: \"a continuación haz clic en\"\n   30    below_once_filled: \"a continuación una vez completados los campos\"\n   31:   saml_third_method_url: \"3 - Tercer método: introduce manualmente los datos\"\n   32    access_method_loyalty: \"Método de acceso: con tarjeta de fidelidad Leclerc\"\n   33    users_enters_loyalty_card: \"Los usuarios acceden introduciendo un número de tarjeta de fidelidad\"\n   34:   administrators_can_import_manually: \"Los administradores pueden invitar a un miembro por correo electrónico en la pestaña «Invitaciones», uno por uno o importando un archivo de miembros\"\n   35    access_method_restriction: \"Método de acceso: por nombre de dominio (ejemplo: @empresa.com)\"\n   36    users_can_create_access_requests: \"Los usuarios pueden crear una solicitud de acceso, que podrá ser aceptada por un administrador\"\n   ..\n   82    you_sure_delete_this_member: \"¿Seguro que quieres eliminar este miembro?\"\n   83    steeple_profile: \"Perfil Steeple\"\n   84:   manually_edit: \"Modificar manualmente\"\n   85    regenerate_scim_token: \"Invalidar y regenerar el token\"\n   86    access_methods:\n\n/home/guhurak/Documents/back-end/config/locales/identity_providers.fr.yml:\n   32    access_method_loyalty: \"Méthode d'accès : par carte de fidélité Leclerc\"\n   33    users_enters_loyalty_card: \"Les utilisateurs accèdent en entrant un numéro de carte de fidélité\"\n   34:   administrators_can_import_manually: \"Les administrateurs peuvent inviter un membre par email dans l'onglet 'Invitations', un par un ou en important un fichier de membre\"\n   35    access_method_restriction: \"Méthode d'accès : par nom de domaine (exemple : @entreprise.com)\"\n   36    users_can_create_access_requests: \"Les utilisateurs peuvent créer une demande d'accès, qui pourra être acceptée par un administrateur\"\n   ..\n   85    you_sure_delete_this_member: \"Êtes-vous certain(e) de vouloir supprimer ce membre?\"\n   86    steeple_profile: \"Profil Steeple\"\n   87:   manually_edit: \"Modifier manuellement\"\n   88    regenerate_scim_token: \"Expirer et regénérer le token\"\n   89    access_methods:\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/boards/administration_boards.en.yml:\n   24            other: Warning, the <b>\"%{category}\"</b> category contains the publications %{count} that will be deleted\n   25          n15:\n   26:           one: If you want to keep this publication, please manually remove the subcategory so that the publication can be moved\n   27:           other: If you want to keep these publications, please manually remove the subcategory so that the publications can be moved\n   28          n16: Cancel\n   29          n17: Delete category\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/boards/administration_boards.es.yml:\n   29            other: \"Atención, la categoría <b>«%{category}»</b> contiene %{count} publicaciones que se eliminarán\"\n   30          n15:\n   31:           one: \"Si deseas conservar esta publicación, elimina manualmente la subcategoría para que la puedas mover\"\n   32:           other: \"Si deseas conservar estas publicaciones, elimina manualmente la subcategoría para que las puedas mover\"\n   33          n16: \"Cancelar\"\n   34          n17: \"Eliminar la categoría\"\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/communaute_accesses/administration_communaute_accesses.en.yml:\n   20      import_excel: \"Import an Excel File\"\n   21      identity_provider: \"Identity Provider\"\n   22:     provider_identifier_except_if_manual: \"Member identifir (except if manual)\"\n   23    administration:\n   24      communaute_accesses:\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/communaute_accesses/administration_communaute_accesses.es.yml:\n   20      import_excel: \"Importar un archivo de Excel\"\n   21      identity_provider: \"Proveedor de identidad\"\n   22:     provider_identifier_except_if_manual: \"Número de identificación (salvo si se selecciona manualmente)\"\n   23    administration:\n   24      communaute_accesses:\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/communaute_accesses/administration_communaute_accesses.fr.yml:\n   20      import_excel: \"Importer un fichier Excel\"\n   21      identity_provider: \"Fournisseur d'identité\"\n   22:     provider_identifier_except_if_manual: \"Matricule (sauf si sélection manuelle)\"\n   23    administration:\n   24      communaute_accesses:\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/communautes/administration_communautes.en.yml:\n   47          n17: via the \"5 email fields\" panel\n   48          n2: View other invitation types\n   49:         n3: \"%{size} manual invitations between members (via email)\"\n   50          n4: date\n   51          n5: inviter\n\n/home/guhurak/Documents/back-end/config/locales/views/administration/communautes/administration_communautes.es.yml:\n   72          n1: \"Invitaciones del grupo\"\n   73          n2: \"Ver otros tipos de invitación\"\n   74:         n3: \"%{size} invitaciones manuales entre miembros (por e-mail)\"\n   75          n4: \"fecha\"\n   76          n5: \"invitador\"\n\n/home/guhurak/Documents/back-end/config/locales/views/communautes/communautes.en.yml:\n    1  en:\n    2    communautes:\n    3:     manual_invites: \"Manual invites\"\n    4      anniversaires:\n    5        n1: Happy Birthday\n\n/home/guhurak/Documents/back-end/config/locales/views/communautes/communautes.es.yml:\n    1  es:\n    2    communautes:\n    3:     manual_invites: \"Invitaciones manuales\"\n    4      in_annonces:\n    5        n1: \"Miembros\"\n\n/home/guhurak/Documents/back-end/config/locales/views/communautes/communautes.fr.yml:\n    1  fr:\n    2    communautes:\n    3:     manual_invites: \"Invitations manuelles\"\n    4      in_annonces:\n    5        n1: \"Membres\"\n\n/home/guhurak/Documents/back-end/config/locales/views/tvs/tvs.en.yml:\n    6        n3: Password\n    7        n4: Login\n    8:     manual_signup:\n    9        n1: Your access request is pending confirmation by administrators\n   10        n2: An error occurred. Please check your password and email address\n\n/home/guhurak/Documents/back-end/config/locales/views/tvs/tvs.es.yml:\n   27        n3: \"Contraseña\"\n   28        n4: \"Conexión\"\n   29:     manual_signup:\n   30        n1: \"Tu solicitud de acceso está pendiente de la validación de los administradores\"\n   31        n2: \"Se ha producido un error: comprueba tu contraseña y tu correo electrónico\"\n\n/home/guhurak/Documents/back-end/config/locales/views/tvs/tvs.fr.yml:\n   27        n3: \"Mot de passe\"\n   28        n4: \"Connexion\"\n   29:     manual_signup:\n   30        n1: \"Votre demande d'accès est en attente de validation par les administrateurs\"\n   31        n2: \"Une erreur s'est produite, veuillez vérifier votre mot de passe et votre email\"\n\n/home/guhurak/Documents/back-end/coverage/index.html:\n 146544              \n 146545  \n 146546:             <code class=\"ruby\">          # noop: never change an id manually</code>\n 146547            </li>\n 146548          </div>\n .....\n 148357              \n 148358  \n 148359:             <code class=\"ruby\">          # noop: never change an id manually</code>\n 148360            </li>\n 148361          </div>\n .....\n 166720              \n 166721  \n 166722:             <code class=\"ruby\">  # so you need to do it manually. For the users scope, it would be:</code>\n 166723            </li>\n 166724          </div>\n .....\n 173189              \n 173190  \n 173191:             <code class=\"ruby\">      post &#39;manual_refresh&#39;, on: :member</code>\n 173192            </li>\n 173193          </div>\n .....\n 178249              \n 178250  \n 178251:             <code class=\"ruby\">    get &#39;manual_signup_form&#39;</code>\n 178252            </li>\n 178253          </div>\n\n/home/guhurak/Documents/back-end/coverage/assets/0.12.2/application.js:\n    2  ;return t&&t.slice(1)===e.id},root:function(e){return e===R},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:o(!1),disabled:o(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!D.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=D.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[v]=r(v);for(v in{submit:!0,reset:!0})D.pseudos[v]=i(v);return c.prototype=D.filters=D.pseudos,D.setFilters=new c,_=w.tokenize=function(e,t){var n,r,a,i,o,s,l,u=z[e+\" \"];if(u)return t?0:u.slice(0);for(o=e,s=[],l=D.preFilter;o;){for(i in n&&!(r=ue.exec(o))||(r&&(o=o.slice(r[0].length)||o),s.push(a=[])),n=!1,(r=ce.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(le,\" \")}),o=o.slice(n.length)),D.filter)!(r=pe[i].exec(o))||l[i]&&!(r=l[i](r))||(n=r.shift(),a.push({value:n,type:i,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?w.error(e):z(e,s).slice(0)},A=w.compile=function(e,t){var n,r=[],a=[],i=X[e+\" \"];if(!i){for(t||(t=_(e)),n=t.length;n--;)(i=h(t[n]))[q]?r.push(i):a.push(i);(i=X(e,m(a,r))).selector=e}return i},N=w.select=function(e,t,n,r){var a,i,o,s,l,u=\"function\"==typeof e&&e,c=!r&&_(e=u.selector||e);if(n=n||[],1===c.length){if(2<(i=c[0]=c[0].slice(0)).length&&\"ID\"===(o=i[0]).type&&9===t.nodeType&&F&&D.relative[i[1].type]){if(!(t=(D.find.ID(o.matches[0].replace(xe,Se),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(a=pe.needsContext.test(e)?0:i.length;a--&&(o=i[a],!D.relative[s=o.type]);)if((l=D.find[s])&&(r=l(o.matches[0].replace(xe,Se),we.test(i[0].type)&&p(t.parentNode)||t))){if(i.splice(a,1),!(e=r.length&&g(i)))return Q.apply(n,r),n;break}}return(u||A(e,c))(r,t,!F,n,!t||we.test(e)&&p(t.parentNode)||t),n},S.sortStable=q.split(\"\").sort(G).join(\"\")===q,S.detectDuplicates=!!j,L(),S.sortDetached=a(function(e){return 1&e.compareDocumentPosition(E.createElement(\"fieldset\"))}),a(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||t(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),S.attributes&&a(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||t(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute(\"disabled\")})||t(ne,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),w}(T);Te.find=_e,Te.expr=_e.selectors,Te.expr[\":\"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=_e.uniqueSort,Te.text=_e.getText,Te.isXMLDoc=_e.isXML,Te.contains=_e.contains,Te.escapeSelector=_e.escape;var Ae=function(e,t,n){for(var r=[],a=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&Te(e).is(n))break;r.push(e)}return r},Ne=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ke=Te.expr.match.needsContext,Ie=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;Te.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?Te.find.matchesSelector(r,e)?[r]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,n,r=this.length,a=this;if(\"string\"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<r;t++)if(Te.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Te.find(e,a[t],n);return 1<r?Te.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,\"string\"==typeof e&&ke.test(e)?Te(e):e||[],!1).length}});var je,Le=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(Te.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||je,\"string\"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):we(e)?n.ready!==undefined?n.ready(e):e(Te):Te.makeArray(e,this);if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&3<=e.length?[null,e,null]:Le.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:le,!0)),Ie.test(r[1])&&Te.isPlainObject(t))for(r in t)we(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=le.getElementById(r[2]))&&(this[0]=a,this.length=1),this}).prototype=Te.fn,je=Te(le);var Ee=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,a=this.length,i=[],o=\"string\"!=typeof e&&Te(e);if(!ke.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&Te.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?Te.uniqueSort(i):i)},index:function(e){return e?\"string\"==typeof e?he.call(Te(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ae(e,\"parentNode\")},parentsUntil:function(e,t,n){return Ae(e,\"parentNode\",n)},next:function(e){return n(e,\"nextSibling\")},prev:function(e){return n(e,\"previousSibling\")},nextAll:function(e){return Ae(e,\"nextSibling\")},prevAll:function(e){return Ae(e,\"previousSibling\")},nextUntil:function(e,t,n){return Ae(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return Ae(e,\"previousSibling\",n)},siblings:function(e){return Ne((e.parentNode||{}).firstChild,e)},children:function(e){return Ne(e.firstChild)},contents:function(e){return\"undefined\"!=typeof e.contentDocument?e.contentDocument:(u(e,\"template\")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(r,a){Te.fn[r]=function(e,t){var n=Te.map(this,a,e);return\"Until\"!==r.slice(-5)&&(t=e),t&&\"string\"==typeof t&&(n=Te.filter(t,n)),1<this.length&&(Re[r]||Te.uniqueSort(n),Ee.test(r)&&n.reverse()),this.pushStack(n)}});var Fe=/[^\\x20\\t\\r\\n\\f]+/g;Te.Callbacks=function(r){r=\"string\"==typeof r?c(r):Te.extend({},r);var a,e,t,n,i=[],o=[],s=-1,l=function(){for(n=n||r.once,t=a=!0;o.length;s=-1)for(e=o.shift();++s<i.length;)!1===i[s].apply(e[0],e[1])&&r.stopOnFalse&&(s=i.length,e=!1);r.memory||(e=!1),a=!1,n&&(i=e?[]:\"\")},u={add:function(){return i&&(e&&!a&&(s=i.length-1,o.push(e)),function n(e){Te.each(e,function(e,t){we(t)?r.unique&&u.has(t)||i.push(t):t&&t.length&&\"string\"!==m(t)&&n(t)})}(arguments),e&&!a&&l()),this},remove:function(){return Te.each(arguments,function(e,t){for(var n;-1<(n=Te.inArray(t,i,n));)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<Te.inArray(e,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return n=o=[],i=e=\"\",this},disabled:function(){return!i},lock:function(){return n=o=[],e||a||(i=e=\"\"),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],o.push(t),a||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},Te.extend({Deferred:function(e){var i=[[\"notify\",\"progress\",Te.Callbacks(\"memory\"),Te.Callbacks(\"memory\"),2],[\"resolve\",\"done\",Te.Callbacks(\"once memory\"),Te.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",Te.Callbacks(\"once memory\"),Te.Callbacks(\"once memory\"),1,\"rejected\"]],a=\"pending\",o={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},\"catch\":function(e){return o.then(null,e)},pipe:function(){var a=arguments;return Te.Deferred(function(r){Te.each(i,function(e,t){var n=we(a[t[4]])&&a[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&we(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+\"With\"](this,n?[e]:arguments)})}),a=null}).promise()},then:function(t,n,r){function u(i,o,s,l){return function(){var n=this,r=arguments,t=function(){var e,t;if(!(i<c)){if((e=s.apply(n,r))===o.promise())throw new TypeError(\"Thenable self-resolution\");t=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,we(t)?l?t.call(e,u(c,o,f,l),u(c,o,d,l)):(c++,t.call(e,u(c,o,f,l),u(c,o,d,l),u(c,o,f,o.notifyWith))):(s!==f&&(n=undefined,r=[e]),(l||o.resolveWith)(n,r))}},a=l?t:function(){try{t()}catch(e){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(e,a.stackTrace),c<=i+1&&(s!==d&&(n=undefined,r=[e]),o.rejectWith(n,r))}};i?a():(Te.Deferred.getStackHook&&(a.stackTrace=Te.Deferred.getStackHook()),T.setTimeout(a))}}var c=0;return Te.Deferred(function(e){i[0][3].add(u(0,e,we(r)?r:f,e.notifyWith)),i[1][3].add(u(0,e,we(t)?t:f)),i[2][3].add(u(0,e,we(n)?n:d))}).promise()},promise:function(e){return null!=e?Te.extend(e,o):o}},s={};return Te.each(i,function(e,t){var n=t[2],r=t[5];o[t[1]]=n.add,r&&n.add(function(){a=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+\"With\"](this===s?undefined:this,arguments),this},s[t[0]+\"With\"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),a=ce.call(arguments),i=Te.Deferred(),o=function(t){return function(e){r[t]=this,a[t]=1<arguments.length?ce.call(arguments):e,--n||i.resolveWith(r,a)}};if(n<=1&&(l(e,i.done(o(t)).resolve,i.reject,!n),\"pending\"===i.state()||we(a[t]&&a[t].then)))return i.then();for(;t--;)l(a[t],o(t),i.reject);return i.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&Pe.test(e.name)&&T.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},Te.readyException=function(e){T.setTimeout(function(){throw e})};var He=Te.Deferred();Te.fn.ready=function(e){return He.then(e)[\"catch\"](function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Te.readyWait:Te.isReady)||(Te.isReady=!0)!==e&&0<--Te.readyWait||He.resolveWith(le,[Te])}}),Te.ready.then=He.then,\"complete\"===le.readyState||\"loading\"!==le.readyState&&!le.documentElement.doScroll?T.setTimeout(Te.ready):(le.addEventListener(\"DOMContentLoaded\",r),T.addEventListener(\"load\",r));var Me=function(e,t,n,r,a,i,o){var s=0,l=e.length,u=null==n;if(\"object\"===m(n))for(s in a=!0,n)Me(e,t,s,n[s],!0,i,o);else if(r!==undefined&&(a=!0,we(r)||(o=!0),u&&(o?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Te(e),n)})),t))for(;s<l;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return a?e:u?t.call(e):l?t(e[0],n):i},Oe=/^-ms-/,qe=/-([a-z])/g,We=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};i.uid=1,i.prototype={cache:function(e){var t=e[this.expando];return t||(t={},We(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if(\"string\"==typeof t)a[h(t)]=n;else for(r in t)a[h(r)]=t[r];return a},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return t===undefined||t&&\"string\"==typeof t&&n===undefined?this.get(e,t):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r=e[this.expando];if(r!==undefined){if(t!==undefined){n=(t=Array.isArray(t)?t.map(h):(t=h(t))in r?[t]:t.match(Fe)||[]).length;for(;n--;)delete r[t[n]]}(t===undefined||Te.isEmptyObject(r))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!Te.isEmptyObject(t)}};var Be=new i,$e=new i,Ue=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,ze=/[A-Z]/g;Te.extend({hasData:function(e){return $e.hasData(e)||Be.hasData(e)},data:function(e,t,n){return $e.access(e,t,n)},removeData:function(e,t){$e.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),Te.fn.extend({data:function(n,e){var t,r,a,i=this[0],o=i&&i.attributes;if(n!==undefined)return\"object\"==typeof n?this.each(function(){$e.set(this,n)}):Me(this,function(e){var t;if(i&&e===undefined)return(t=$e.get(i,n))!==undefined?t:(t=p(i,n))!==undefined?t:void 0;this.each(function(){$e.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(a=$e.get(i),1===i.nodeType&&!Be.get(i,\"hasDataAttrs\"))){for(t=o.length;t--;)o[t]&&0===(r=o[t].name).indexOf(\"data-\")&&(r=h(r.slice(5)),p(i,r,a[r]));Be.set(i,\"hasDataAttrs\",!0)}return a},removeData:function(e){return this.each(function(){$e.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,Te.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=Te.queue(e,t),r=n.length,a=n.shift(),i=Te._queueHooks(e,t),o=function(){Te.dequeue(e,t)};\"inprogress\"===a&&(a=n.shift(),r--),a&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete i.stop,a.call(e,o,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return Be.get(e,n)||Be.access(e,n,{empty:Te.Callbacks(\"once memory\").add(function(){Be.remove(e,[t+\"queue\",n])})})}}),Te.fn.extend({queue:function(t,n){var e=2;return\"string\"!=typeof t&&(n=t,t=\"fx\",e--),arguments.length<e?Te.queue(this[0],t):n===undefined?this:this.each(function(){var e=Te.queue(this,t,n);Te._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==e[0]&&Te.dequeue(this,t)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,a=Te.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for(\"string\"!=typeof e&&(t=e,e=undefined),e=e||\"fx\";o--;)(n=Be.get(i[o],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}});var Xe=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,Ve=new RegExp(\"^(?:([+-])=|)(\"+Xe+\")([a-z%]*)$\",\"i\"),Ge=[\"Top\",\"Right\",\"Bottom\",\"Left\"],Je=le.documentElement,Ye=function(e){return Te.contains(e.ownerDocument,e)},Ze={composed:!0};Je.getRootNode&&(Ye=function(e){return Te.contains(e.ownerDocument,e)||e.getRootNode(Ze)===e.ownerDocument});var Ke=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&Ye(e)&&\"none\"===Te.css(e,\"display\")},Qe=function(e,t,n,r){var a,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in a=n.apply(e,r||[]),t)e.style[i]=o[i];return a},et={};Te.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){Ke(this)?Te(this).show():Te(this).hide()})}});var tt=/^(?:checkbox|radio)$/i,nt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,rt=/^$|^module$|\\/(?:java|ecma)script/i,at={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td;var it,ot,st=/<|&#?\\w+;/;it=le.createDocumentFragment().appendChild(le.createElement(\"div\")),(ot=le.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ot.setAttribute(\"checked\",\"checked\"),ot.setAttribute(\"name\",\"t\"),it.appendChild(ot),be.checkClone=it.cloneNode(!0).cloneNode(!0).lastChild.checked,it.innerHTML=\"<textarea>x</textarea>\",be.noCloneChecked=!!it.cloneNode(!0).lastChild.defaultValue;var lt=/^key/,ut=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ct=/^([^.]*)(?:\\.(.+)|)/;Te.event={global:{},add:function(t,e,n,r,a){var i,o,s,l,u,c,f,d,h,p,g,m=Be.get(t);if(m)for(n.handler&&(n=(i=n).handler,a=i.selector),a&&Te.find.matchesSelector(Je,a),n.guid||(n.guid=Te.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==Te&&Te.event.triggered!==e.type?Te.event.dispatch.apply(t,arguments):undefined}),u=(e=(e||\"\").match(Fe)||[\"\"]).length;u--;)h=g=(s=ct.exec(e[u])||[])[1],p=(s[2]||\"\").split(\".\").sort(),h&&(f=Te.event.special[h]||{},h=(a?f.delegateType:f.bindType)||h,f=Te.event.special[h]||{},c=Te.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&Te.expr.match.needsContext.test(a),namespace:p.join(\".\")},i),(d=l[h])||((d=l[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,o)||t.addEventListener&&t.addEventListener(h,o)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),a?d.splice(d.delegateCount++,0,c):d.push(c),Te.event.global[h]=!0)},remove:function(e,t,n,r,a){var i,o,s,l,u,c,f,d,h,p,g,m=Be.hasData(e)&&Be.get(e);if(m&&(l=m.events)){for(u=(t=(t||\"\").match(Fe)||[\"\"]).length;u--;)if(h=g=(s=ct.exec(t[u])||[])[1],p=(s[2]||\"\").split(\".\").sort(),h){for(f=Te.event.special[h]||{},d=l[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),o=i=d.length;i--;)c=d[i],!a&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));o&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,m.handle)||Te.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)Te.event.remove(e,h+t[u],n,r,!0);Te.isEmptyObject(l)&&Be.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,a,i,o,s=Te.event.fix(e),l=new Array(arguments.length),u=(Be.get(this,\"events\")||{})[s.type]||[],c=Te.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(o=Te.event.handlers.call(this,s,u),t=0;(a=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,(r=((Te.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l))!==undefined&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,a,i,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!(\"click\"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(\"click\"!==e.type||!0!==u.disabled)){for(i=[],o={},n=0;n<l;n++)o[a=(r=t[n]).selector+\" \"]===undefined&&(o[a]=r.needsContext?-1<Te(a,this).index(u):Te.find(a,this,null,[u]).length),o[a]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(Te.Event.prototype,t,{enumerable:!0,configurable:!0,get:we(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return tt.test(t.type)&&t.click&&u(t,\"input\")&&k(t,\"click\",D),!1},trigger:function(e){var t=this||e;return tt.test(t.type)&&t.click&&u(t,\"input\")&&k(t,\"click\"),!0},_default:function(e){var t=e.target;return tt.test(t.type)&&t.click&&u(t,\"input\")&&Be.get(t,\"click\")||u(t,\"a\")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){if(!(this instanceof Te.Event))return new Te.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?D:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Te.expando]=!0},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=D,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=D,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=D,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&lt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&t!==undefined&&ut.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){Te.event.special[e]={setup:function(){return k(this,e,_),!1},trigger:function(){return k(this,e),!0},delegateType:t}}),Te.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,i){Te.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===n||Te.contains(n,r))||(e.type=a.origType,t=a.handler.apply(this,arguments),e.type=i),t}}}),Te.fn.extend({on:function(e,t,n,r){return N(this,e,t,n,r)},one:function(e,t,n,r){return N(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Te(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"!=typeof e)return!1!==t&&\"function\"!=typeof t||(n=t,t=undefined),!1===n&&(n=C),this.each(function(){Te.event.remove(this,e,n,t)});for(a in e)this.off(a,t,e[a]);return this}});var ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,dt=/<script|<style|<link/i,ht=/checked\\s*(?:[^=]|=\\s*.checked.)/i,pt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(ft,\"<$1></$2>\")},clone:function(e,t,n){var r,a,i,o,s=e.cloneNode(!0),l=Ye(e);if(!(be.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(o=w(s),r=0,a=(i=w(e)).length;r<a;r++)R(i[r],o[r]);if(t)if(n)for(i=i||w(e),o=o||w(s),r=0,a=i.length;r<a;r++)E(i[r],o[r]);else E(e,s);return 0<(o=w(s,\"script\")).length&&x(o,!l&&w(e,\"script\")),s},cleanData:function(e){for(var t,n,r,a=Te.event.special,i=0;(n=e[i])!==undefined;i++)if(We(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)a[r]?Te.event.remove(n,r):Te.removeEvent(n,r,t.handle);n[Be.expando]=undefined}n[$e.expando]&&(n[$e.expando]=undefined)}}}),Te.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Me(this,function(e){return e===undefined?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return F(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,e).appendChild(e)})},prepend:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=I(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(w(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!dt.test(e)&&!at[(nt.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(Te.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return F(this,arguments,function(e){var t=this.parentNode;Te.inArray(this,n)<0&&(Te.cleanData(w(this)),t&&t.replaceChild(e,this))},n)}}),Te.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,o){Te.fn[e]=function(e){for(var t,n=[],r=Te(e),a=r.length-1,i=0;i<=a;i++)t=i===a?this:this.clone(!0),Te(r[i])[o](t),de.apply(n,t.get());return this.pushStack(n)}});var gt=new RegExp(\"^(\"+Xe+\")(?!px)[a-z%]+$\",\"i\"),mt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=T),t.getComputedStyle(e)},vt=new RegExp(Ge.join(\"|\"),\"i\");!function(){function e(){if(l){s.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",l.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",Je.appendChild(s).appendChild(l);var e=T.getComputedStyle(l);n=\"1%\"!==e.top,o=12===t(e.marginLeft),l.style.right=\"60%\",i=36===t(e.right),r=36===t(e.width),l.style.position=\"absolute\",a=12===t(l.offsetWidth/3),Je.removeChild(s),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,a,i,o,s=le.createElement(\"div\"),l=le.createElement(\"div\");l.style&&(l.style.backgroundClip=\"content-box\",l.cloneNode(!0).style.backgroundClip=\"\",be.clearCloneStyle=\"content-box\"===l.style.backgroundClip,Te.extend(be,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),a}}))}();var yt=[\"Webkit\",\"Moz\",\"ms\"],bt=le.createElement(\"div\").style,wt={},xt=/^(none|table(?!-c[ea]).+)/,St=/^--/,Dt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Tt={letterSpacing:\"0\",fontWeight:\"400\"};Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=H(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,s=h(t),l=St.test(t),u=e.style;if(l||(t=q(s)),o=Te.cssHooks[t]||Te.cssHooks[s],n===undefined)return o&&\"get\"in o&&(a=o.get(e,!1,r))!==undefined?a:u[t];\"string\"===(i=typeof n)&&(a=Ve.exec(n))&&a[1]&&(n=v(e,t,a),i=\"number\"),null!=n&&n==n&&(\"number\"!==i||l||(n+=a&&a[3]||(Te.cssNumber[s]?\"\":\"px\")),be.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(u[t]=\"inherit\"),o&&\"set\"in o&&(n=o.set(e,n,r))===undefined||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var a,i,o,s=h(t);return St.test(t)||(t=q(s)),(o=Te.cssHooks[t]||Te.cssHooks[s])&&\"get\"in o&&(a=o.get(e,!0,n)),a===undefined&&(a=H(e,t,r)),\"normal\"===a&&t in Tt&&(a=Tt[t]),\"\"===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),Te.each([\"height\",\"width\"],function(e,l){Te.cssHooks[l]={get:function(e,t,n){if(t)return!xt.test(Te.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?$(e,l,n):Qe(e,Dt,function(){return $(e,l,n)})},set:function(e,t,n){var r,a=mt(e),i=!be.scrollboxSize()&&\"absolute\"===a.position,o=(i||n)&&\"border-box\"===Te.css(e,\"boxSizing\",!1,a),s=n?B(e,l,n,o,a):0;return o&&i&&(s-=Math.ceil(e[\"offset\"+l[0].toUpperCase()+l.slice(1)]-parseFloat(a[l])-B(e,l,\"border\",!1,a)-.5)),s&&(r=Ve.exec(t))&&\"px\"!==(r[3]||\"px\")&&(e.style[l]=t,t=Te.css(e,l)),W(e,t,s)}}}),Te.cssHooks.marginLeft=M(be.reliableMarginLeft,function(e,t){if(t)return(parseFloat(H(e,\"marginLeft\"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),Te.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,i){Te.cssHooks[a+i]={expand:function(e){for(var t=0,n={},r=\"string\"==typeof e?e.split(\" \"):[e];t<4;t++)n[a+Ge[t]+i]=r[t]||r[t-2]||r[0];return n}},\"margin\"!==a&&(Te.cssHooks[a+i].set=W)}),Te.fn.extend({css:function(e,t){return Me(this,function(e,t,n){var r,a,i={},o=0;if(Array.isArray(t)){for(r=mt(e),a=t.length;o<a;o++)i[t[o]]=Te.css(e,t[o],!1,r);return i}return n!==undefined?Te.style(e,t,n):Te.css(e,t)},e,t,1<arguments.length)}}),(Te.Tween=U).prototype={constructor:U,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Te.cssNumber[n]?\"\":\"px\")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||!Te.cssHooks[e.prop]&&null==e.elem.style[q(e.prop)]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},Te.fx=U.prototype.init,Te.fx.step={};var Ct,_t,At,Nt,kt=/^(?:toggle|show|hide)$/,It=/queueHooks$/;Te.Animation=Te.extend(Z,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,Ve.exec(t),n),n}]},tweener:function(e,t){we(e)?(t=e,e=[\"*\"]):e=e.match(Fe);for(var n,r=0,a=e.length;r<a;r++)n=e[r],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(t)},prefilters:[J],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),Te.speed=function(e,t,n){var r=e&&\"object\"==typeof e?Te.extend({},e):{complete:n||!n&&t||we(e)&&e,duration:e,easing:n&&t||t&&!we(t)&&t};return Te.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in Te.fx.speeds?r.duration=Te.fx.speeds[r.duration]:r.duration=Te.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){we(r.old)&&r.old.call(this),r.queue&&Te.dequeue(this,r.queue)},r},Te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ke).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var a=Te.isEmptyObject(t),i=Te.speed(e,n,r),o=function(){var e=Z(this,Te.extend({},t),i);(a||Be.get(this,\"finish\"))&&e.stop(!0)};return o.finish=o,a||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(a,e,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return\"string\"!=typeof a&&(i=e,e=a,a=undefined),e&&!1!==a&&this.queue(a||\"fx\",[]),this.each(function(){var e=!0,t=null!=a&&a+\"queueHooks\",n=Te.timers,r=Be.get(this);if(t)r[t]&&r[t].stop&&o(r[t]);else for(t in r)r[t]&&r[t].stop&&It.test(t)&&o(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=a&&n[t].queue!==a||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||Te.dequeue(this,a)})},finish:function(o){return!1!==o&&(o=o||\"fx\"),this.each(function(){var e,t=Be.get(this),n=t[o+\"queue\"],\n    3  r=t[o+\"queueHooks\"],a=Te.timers,i=n?n.length:0;for(t.finish=!0,Te.queue(this,o,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===o&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),Te.each([\"toggle\",\"show\",\"hide\"],function(e,r){var a=Te.fn[r];Te.fn[r]=function(e,t,n){return null==e||\"boolean\"==typeof e?a.apply(this,arguments):this.animate(V(r,!0),e,t,n)}}),Te.each({slideDown:V(\"show\"),slideUp:V(\"hide\"),slideToggle:V(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,r){Te.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,n=Te.timers;for(Ct=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Te.fx.stop(),Ct=undefined},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){_t||(_t=!0,z())},Te.fx.stop=function(){_t=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(r,e){return r=Te.fx&&Te.fx.speeds[r]||r,e=e||\"fx\",this.queue(e,function(e,t){var n=T.setTimeout(e,r);t.stop=function(){T.clearTimeout(n)}})},At=le.createElement(\"input\"),Nt=le.createElement(\"select\").appendChild(le.createElement(\"option\")),At.type=\"checkbox\",be.checkOn=\"\"!==At.value,be.optSelected=Nt.selected,(At=le.createElement(\"input\")).value=\"t\",At.type=\"radio\",be.radioValue=\"t\"===At.value;var jt,Lt=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Me(this,Te.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return\"undefined\"==typeof e.getAttribute?Te.prop(e,t,n):(1===i&&Te.isXMLDoc(e)||(a=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?jt:undefined)),n!==undefined?null===n?void Te.removeAttr(e,t):a&&\"set\"in a&&(r=a.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+\"\"),n):a&&\"get\"in a&&null!==(r=a.get(e,t))?r:null==(r=Te.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!be.radioValue&&\"radio\"===t&&u(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(Fe);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),jt={set:function(e,t,n){return!1===t?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\\w+/g),function(e,t){var o=Lt[t]||Te.find.attr;Lt[t]=function(e,t,n){var r,a,i=t.toLowerCase();return n||(a=Lt[i],Lt[i]=r,r=null!=o(e,t,n)?i:null,Lt[i]=a),r}});var Et=/^(?:input|select|textarea|button)$/i,Rt=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Me(this,Te.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,a=Te.propHooks[t]),n!==undefined?a&&\"set\"in a&&(r=a.set(e,n,t))!==undefined?r:e[t]=n:a&&\"get\"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,\"tabindex\");return t?parseInt(t,10):Et.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),be.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(t){var e,n,r,a,i,o,s,l=0;if(we(t))return this.each(function(e){Te(this).addClass(t.call(this,e,Q(this)))});if((e=ee(t)).length)for(;n=this[l++];)if(a=Q(n),r=1===n.nodeType&&\" \"+K(a)+\" \"){for(o=0;i=e[o++];)r.indexOf(\" \"+i+\" \")<0&&(r+=i+\" \");a!==(s=K(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(t){var e,n,r,a,i,o,s,l=0;if(we(t))return this.each(function(e){Te(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((e=ee(t)).length)for(;n=this[l++];)if(a=Q(n),r=1===n.nodeType&&\" \"+K(a)+\" \"){for(o=0;i=e[o++];)for(;-1<r.indexOf(\" \"+i+\" \");)r=r.replace(\" \"+i+\" \",\" \");a!==(s=K(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(a,t){var i=typeof a,o=\"string\"===i||Array.isArray(a);return\"boolean\"==typeof t&&o?t?this.addClass(a):this.removeClass(a):we(a)?this.each(function(e){Te(this).toggleClass(a.call(this,e,Q(this),t),t)}):this.each(function(){var e,t,n,r;if(o)for(t=0,n=Te(this),r=ee(a);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else a!==undefined&&\"boolean\"!==i||((e=Q(this))&&Be.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===a?\"\":Be.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;for(t=\" \"+e+\" \";n=this[r++];)if(1===n.nodeType&&-1<(\" \"+K(Q(n))+\" \").indexOf(t))return!0;return!1}});var Ft=/\\r/g;Te.fn.extend({val:function(n){var r,e,a,t=this[0];return arguments.length?(a=we(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=a?n.call(this,e,Te(this).val()):n)?t=\"\":\"number\"==typeof t?t+=\"\":Array.isArray(t)&&(t=Te.map(t,function(e){return null==e?\"\":e+\"\"})),(r=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()])&&\"set\"in r&&r.set(this,t,\"value\")!==undefined||(this.value=t))})):t?(r=Te.valHooks[t.type]||Te.valHooks[t.nodeName.toLowerCase()])&&\"get\"in r&&(e=r.get(t,\"value\"))!==undefined?e:\"string\"==typeof(e=t.value)?e.replace(Ft,\"\"):null==e?\"\":e:void 0}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,\"value\");return null!=t?t:K(Te.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,o=\"select-one\"===e.type,s=o?null:[],l=o?i+1:a.length;for(r=i<0?l:o?i:0;r<l;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,\"optgroup\"))){if(t=Te(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,a=e.options,i=Te.makeArray(t),o=a.length;o--;)((r=a[o]).selected=-1<Te.inArray(Te.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Te.each([\"radio\",\"checkbox\"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<Te.inArray(Te(e).val(),t)}},be.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),be.focusin=\"onfocusin\"in T;var Pt=/^(?:focusinfocus|focusoutblur)$/,Ht=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(e,t,n,r){var a,i,o,s,l,u,c,f,d=[n||le],h=me.call(e,\"type\")?e.type:e,p=me.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(i=f=o=n=n||le,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(h+Te.event.triggered)&&(-1<h.indexOf(\".\")&&(h=(p=h.split(\".\")).shift(),p.sort()),l=h.indexOf(\":\")<0&&\"on\"+h,(e=e[Te.expando]?e:new Te.Event(h,\"object\"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:Te.makeArray(t,[e]),c=Te.event.special[h]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!xe(n)){for(s=c.delegateType||h,Pt.test(s+h)||(i=i.parentNode);i;i=i.parentNode)d.push(i),o=i;o===(n.ownerDocument||le)&&d.push(o.defaultView||o.parentWindow||T)}for(a=0;(i=d[a++])&&!e.isPropagationStopped();)f=i,e.type=1<a?s:c.bindType||h,(u=(Be.get(i,\"events\")||{})[e.type]&&Be.get(i,\"handle\"))&&u.apply(i,t),(u=l&&i[l])&&u.apply&&We(i)&&(e.result=u.apply(i,t),!1===e.result&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!We(n)||l&&we(n[h])&&!xe(n)&&((o=n[l])&&(n[l]=null),Te.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,Ht),n[h](),e.isPropagationStopped()&&f.removeEventListener(h,Ht),Te.event.triggered=undefined,o&&(n[l]=o)),e.result}},simulate:function(e,t,n){var r=Te.extend(new Te.Event,n,{type:e,isSimulated:!0});Te.event.trigger(r,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),be.focusin||Te.each({focus:\"focusin\",blur:\"focusout\"},function(n,r){var a=function(e){Te.event.simulate(r,e.target,Te.event.fix(e))};Te.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Be.access(e,r);t||e.addEventListener(n,a,!0),Be.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Be.access(e,r)-1;t?Be.access(e,r,t):(e.removeEventListener(n,a,!0),Be.remove(e,r))}}});var Mt=T.location,Ot=Date.now(),qt=/\\?/;Te.parseXML=function(e){var t;if(!e||\"string\"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,\"text/xml\")}catch(n){t=undefined}return t&&!t.getElementsByTagName(\"parsererror\").length||Te.error(\"Invalid XML: \"+e),t};var Wt=/\\[\\]$/,Bt=/\\r?\\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Ut=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n,r=[],a=function(e,t){var n=we(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){a(this.name,this.value)});else for(n in e)te(n,e[n],t,a);return r.join(\"&\")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,\"elements\");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(\":disabled\")&&Ut.test(this.nodeName)&&!$t.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(Bt,\"\\r\\n\")}}):{name:t.name,value:n.replace(Bt,\"\\r\\n\")}}).get()}});var zt=/%20/g,Xt=/#.*$/,Vt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Zt=/^\\/\\//,Kt={},Qt={},en=\"*/\".concat(\"*\"),tn=le.createElement(\"a\");tn.href=Mt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:\"GET\",isLocal:Jt.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":en,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ae(ae(e,Te.ajaxSettings),t):ae(Te.ajaxSettings,e)},ajaxPrefilter:ne(Kt),ajaxTransport:ne(Qt),ajax:function(e,t){function n(e,t,n,r){var a,i,o,s,l,u=t;p||(p=!0,h&&T.clearTimeout(h),c=undefined,d=r||\"\",S.readyState=0<e?4:0,a=200<=e&&e<300||304===e,n&&(s=ie(m,S,n)),s=oe(m,s,S,a),a?(m.ifModified&&((l=S.getResponseHeader(\"Last-Modified\"))&&(Te.lastModified[f]=l),(l=S.getResponseHeader(\"etag\"))&&(Te.etag[f]=l)),204===e||\"HEAD\"===m.type?u=\"nocontent\":304===e?u=\"notmodified\":(u=s.state,i=s.data,a=!(o=s.error))):(o=u,!e&&u||(u=\"error\",e<0&&(e=0))),S.status=e,S.statusText=(t||u)+\"\",a?b.resolveWith(v,[i,u,S]):b.rejectWith(v,[S,u,o]),S.statusCode(x),x=undefined,g&&y.trigger(a?\"ajaxSuccess\":\"ajaxError\",[S,m,a?i:o]),w.fireWith(v,[S,u]),g&&(y.trigger(\"ajaxComplete\",[S,m]),--Te.active||Te.event.trigger(\"ajaxStop\")))}\"object\"==typeof e&&(t=e,e=undefined),t=t||{};var c,f,d,r,h,a,p,g,i,o,m=Te.ajaxSetup({},t),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?Te(v):Te.event,b=Te.Deferred(),w=Te.Callbacks(\"once memory\"),x=m.statusCode||{},s={},l={},u=\"canceled\",S={readyState:0,getResponseHeader:function(e){var t;if(p){if(!r)for(r={};t=Gt.exec(d);)r[t[1].toLowerCase()+\" \"]=(r[t[1].toLowerCase()+\" \"]||[]).concat(t[2]);t=r[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=l[e.toLowerCase()]=l[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==p&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)S.always(e[S.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),n(0,t),this}};if(b.promise(S),m.url=((e||m.url||Mt.href)+\"\").replace(Zt,Mt.protocol+\"//\"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||\"*\").toLowerCase().match(Fe)||[\"\"],null==m.crossDomain){a=le.createElement(\"a\");try{a.href=m.url,a.href=a.href,m.crossDomain=tn.protocol+\"//\"+tn.host!=a.protocol+\"//\"+a.host}catch(D){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=Te.param(m.data,m.traditional)),re(Kt,m,t,S),p)return S;for(i in(g=Te.event&&m.global)&&0==Te.active++&&Te.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!Yt.test(m.type),f=m.url.replace(Xt,\"\"),m.hasContent?m.data&&m.processData&&0===(m.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(m.data=m.data.replace(zt,\"+\")):(o=m.url.slice(f.length),m.data&&(m.processData||\"string\"==typeof m.data)&&(f+=(qt.test(f)?\"&\":\"?\")+m.data,delete m.data),!1===m.cache&&(f=f.replace(Vt,\"$1\"),o=(qt.test(f)?\"&\":\"?\")+\"_=\"+Ot+++o),m.url=f+o),m.ifModified&&(Te.lastModified[f]&&S.setRequestHeader(\"If-Modified-Since\",Te.lastModified[f]),Te.etag[f]&&S.setRequestHeader(\"If-None-Match\",Te.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&S.setRequestHeader(\"Content-Type\",m.contentType),S.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+en+\"; q=0.01\":\"\"):m.accepts[\"*\"]),m.headers)S.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(v,S,m)||p))return S.abort();if(u=\"abort\",w.add(m.complete),S.done(m.success),S.fail(m.error),c=re(Qt,m,t,S)){if(S.readyState=1,g&&y.trigger(\"ajaxSend\",[S,m]),p)return S;m.async&&0<m.timeout&&(h=T.setTimeout(function(){S.abort(\"timeout\")},m.timeout));try{p=!1,c.send(s,n)}catch(D){if(p)throw D;n(-1,D)}}else n(-1,\"No Transport\");return S},getJSON:function(e,t,n){return Te.get(e,t,n,\"json\")},getScript:function(e,t){return Te.get(e,undefined,t,\"script\")}}),Te.each([\"get\",\"post\"],function(e,a){Te[a]=function(e,t,n,r){return we(t)&&(r=r||n,n=t,t=undefined),Te.ajax(Te.extend({url:e,type:a,dataType:r,data:t,success:n},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e,t){return Te.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){Te.globalEval(e,t)}})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(we(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return we(n)?this.each(function(e){Te(this).wrapInner(n.call(this,e))}):this.each(function(){var e=Te(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=we(t);return this.each(function(e){Te(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var nn={0:200,1223:204},rn=Te.ajaxSettings.xhr();be.cors=!!rn&&\"withCredentials\"in rn,be.ajax=rn=!!rn,Te.ajaxTransport(function(i){var o,s;if(be.cors||rn&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?t(0,\"error\"):t(r.status,r.statusText):t(nn[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o(\"error\"),r.onabort!==undefined?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&T.setTimeout(function(){o&&s()})},o=o(\"abort\");try{r.send(i.hasContent&&i.data||null)}catch(a){if(o)throw a}},abort:function(){o&&o()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter(\"script\",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),Te.ajaxTransport(\"script\",function(n){var r,a;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=Te(\"<script>\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\"load error\",a=function(e){r.remove(),a=null,e&&t(\"error\"===e.type?404:200,e.type)}),le.head.appendChild(r[0])},abort:function(){a&&a()}}});var an,on=[],sn=/(=)\\?(?=&|$)|\\?\\?/;Te.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=on.pop()||Te.expando+\"_\"+Ot++;return this[e]=!0,e}}),Te.ajaxPrefilter(\"json jsonp\",function(e,t,n){var r,a,i,o=!1!==e.jsonp&&(sn.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&sn.test(e.data)&&\"data\");if(o||\"jsonp\"===e.dataTypes[0])return r=e.jsonpCallback=we(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(sn,\"$1\"+r):!1!==e.jsonp&&(e.url+=(qt.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+r),e.converters[\"script json\"]=function(){return i||Te.error(r+\" was not called\"),i[0]},e.dataTypes[0]=\"json\",a=T[r],T[r]=function(){i=arguments},n.always(function(){a===undefined?Te(T).removeProp(r):T[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,on.push(r)),i&&we(a)&&a(i[0]),i=a=undefined}),\"script\"}),be.createHTMLDocument=((an=le.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===an.childNodes.length),Te.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(be.createHTMLDocument?((r=(t=le.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=le.location.href,t.head.appendChild(r)):t=le),i=!n&&[],(a=Ie.exec(e))?[t.createElement(a[1])]:(a=S([e],t,i),i&&i.length&&Te(i).remove(),Te.merge([],a.childNodes)));var r,a,i},Te.fn.load=function(e,t,n){var r,a,i,o=this,s=e.indexOf(\" \");return-1<s&&(r=K(e.slice(s)),e=e.slice(0,s)),we(t)?(n=t,t=undefined):t&&\"object\"==typeof t&&(a=\"POST\"),0<o.length&&Te.ajax({url:e,type:a||\"GET\",dataType:\"html\",data:t}).done(function(e){i=arguments,o.html(r?Te(\"<div>\").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},Te.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(t){return Te.grep(Te.timers,function(e){return t===e.elem}).length},Te.offset={setOffset:function(e,t,n){var r,a,i,o,s,l,u=Te.css(e,\"position\"),c=Te(e),f={};\"static\"===u&&(e.style.position=\"relative\"),s=c.offset(),i=Te.css(e,\"top\"),l=Te.css(e,\"left\"),(\"absolute\"===u||\"fixed\"===u)&&-1<(i+l).indexOf(\"auto\")?(o=(r=c.position()).top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(l)||0),we(t)&&(t=t.call(e,n,Te.extend({},s))),null!=t.top&&(f.top=t.top-s.top+o),null!=t.left&&(f.left=t.left-s.left+a),\"using\"in t?t.using.call(e,f):c.css(f)}},Te.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){Te.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if(\"fixed\"===Te.css(r,\"position\"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&\"static\"===Te.css(e,\"position\");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=Te(e).offset()).top+=Te.css(e,\"borderTopWidth\",!0),a.left+=Te.css(e,\"borderLeftWidth\",!0))}return{top:t.top-a.top-Te.css(r,\"marginTop\",!0),left:t.left-a.left-Te.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&\"static\"===Te.css(e,\"position\");)e=e.offsetParent;return e||Je})}}),Te.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(t,a){var i=\"pageYOffset\"===a;Te.fn[t]=function(e){return Me(this,function(e,t,n){var r;if(xe(e)?r=e:9===e.nodeType&&(r=e.defaultView),n===undefined)return r?r[a]:e[t];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),Te.each([\"top\",\"left\"],function(e,n){Te.cssHooks[n]=M(be.pixelPosition,function(e,t){if(t)return t=H(e,n),gt.test(t)?Te(e).position()[n]+\"px\":t})}),Te.each({Height:\"height\",Width:\"width\"},function(o,s){Te.each({padding:\"inner\"+o,content:s,\"\":\"outer\"+o},function(r,i){Te.fn[i]=function(e,t){var n=arguments.length&&(r||\"boolean\"!=typeof e),a=r||(!0===e||!0===t?\"margin\":\"border\");return Me(this,function(e,t,n){var r;return xe(e)?0===i.indexOf(\"outer\")?e[\"inner\"+o]:e.document.documentElement[\"client\"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body[\"scroll\"+o],r[\"scroll\"+o],e.body[\"offset\"+o],r[\"offset\"+o],r[\"client\"+o])):n===undefined?Te.css(e,t,a):Te.style(e,t,n,a)},s,n?e:undefined,n)}})}),Te.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,n){Te.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}}),Te.proxy=function(e,t){var n,r,a;return\"string\"==typeof t&&(n=e[t],t=e,e=n),we(e)?(r=ce.call(arguments,2),(a=function(){return e.apply(t||this,r.concat(ce.call(arguments)))}).guid=e.guid=e.guid||Te.guid++,a):undefined},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=u,Te.isFunction=we,Te.isWindow=xe,Te.camelCase=h,Te.type=m,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return Te});var ln=T.jQuery,un=T.$;return Te.noConflict=function(e){return T.$===Te&&(T.$=un),e&&T.jQuery===Te&&(T.jQuery=ln),Te},e||(T.jQuery=T.$=Te),Te});var hljs=new function(){function x(e){return e.replace(/&/gm,\"&amp;\").replace(/</gm,\"&lt;\")}function S(e,t,n){return RegExp(t,\"m\"+(e.cI?\"i\":\"\")+(n?\"g\":\"\"))}function r(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(\"CODE\"==n.nodeName)return n;if(3!=n.nodeType||!n.nodeValue.match(/\\s+/))break}}function h(e,t){for(var n=\"\",r=0;r<e.childNodes.length;r++)if(3==e.childNodes[r].nodeType){var a=e.childNodes[r].nodeValue;t&&(a=a.replace(/\\n/g,\"\")),n+=a}else\"BR\"==e.childNodes[r].nodeName?n+=\"\\n\":n+=h(e.childNodes[r]);return/MSIE [678]/.test(navigator.userAgent)&&(n=n.replace(/\\r/g,\"\\n\")),n}function p(e){var t=e.className.split(/\\s+/);t=t.concat(e.parentNode.className.split(/\\s+/));for(var n=0;n<t.length;n++){var r=t[n].replace(/^language-/,\"\");if(T[r]||\"no-highlight\"==r)return r}}function g(e){var r=[];return function(e,t){for(var n=0;n<e.childNodes.length;n++)3==e.childNodes[n].nodeType?t+=e.childNodes[n].nodeValue.length:\"BR\"==e.childNodes[n].nodeName?t+=1:(r.push({event:\"start\",offset:t,node:e.childNodes[n]}),t=arguments.callee(e.childNodes[n],t),r.push({event:\"stop\",offset:t,node:e.childNodes[n]}))}(e,0),r}function m(e,t,n){function r(){return e.length&&t.length?e[0].offset!=t[0].offset?e[0].offset<t[0].offset?e:t:\"start\"==t[0].event?e:t:e.length?e:t}function a(e){for(var t=\"<\"+e.nodeName.toLowerCase(),n=0;n<e.attributes.length;n++){var r=e.attributes[n];t+=\" \"+r.nodeName.toLowerCase(),r.nodeValue!=undefined&&(t+='=\"'+x(r.nodeValue)+'\"')}return t+\">\"}for(var i=0,o=\"\",s=[];e.length||t.length;){var l=r().splice(0,1)[0];if(o+=x(n.substr(i,l.offset-i)),i=l.offset,\"start\"==l.event)o+=a(l.node),s.push(l.node);else if(\"stop\"==l.event){var u=s.length;do{var c=s[--u];o+=\"</\"+c.nodeName.toLowerCase()+\">\"}while(c!=l.node);for(s.splice(u,1);u<s.length;)o+=a(s[u]),u++}}return o+=n.substr(i)}function D(e,t){function l(e,t){for(var n=0;n<t.c.length;n++)if(t.c[n].bR.test(e))return t.c[n]}function u(e,t){if(h[e].e&&h[e].eR.test(t))return 1;if(h[e].eW){var n=u(e-1,t);return n?n+1:0}return 0}function c(e,t){return t.iR&&t.iR.test(e)}function a(e,t){for(var n=[],r=0;r<e.c.length;r++)n.push(e.c[r].b);for(var a=h.length-1;h[a].e&&n.push(h[a].e),h[--a+1].eW;);return e.i&&n.push(e.i),S(t,\"(\"+n.join(\"|\")+\")\",!0)}function n(e,t){var n=h[h.length-1];n.t||(n.t=a(n,s)),n.t.lastIndex=t;var r=n.t.exec(e);return r?[e.substr(t,r.index-t),r[0],!1]:[e.substr(t),\"\",!0]}function o(e,t){var n=s.cI?t[0].toLowerCase():t[0];for(var r in e.kG)if(e.kG.hasOwnProperty(r)){var a=e.kG[r].hasOwnProperty(n);if(a)return[r,a]}return!1}function r(e,t){if(!t.k)return x(e);var n=\"\",r=0;t.lR.lastIndex=0;for(var a=t.lR.exec(e);a;){n+=x(e.substr(r,a.index-r));var i=o(t,a);i?(g+=i[1],n+='<span class=\"'+i[0]+'\">'+x(a[0])+\"</span>\"):n+=x(a[0]),r=t.lR.lastIndex,a=t.lR.exec(e)}return n+=x(e.substr(r,e.length-r))}function f(e,t){if(t.sL&&T[t.sL]){var n=D(t.sL,e);return g+=n.keyword_count,n.value}return r(e,t)}function d(e,t){var n=e.cN?'<span class=\"'+e.cN+'\">':\"\";e.rB?(m+=n,e.buffer=\"\"):e.eB?(m+=x(t)+n,e.buffer=\"\"):(m+=n,e.buffer=t),h.push(e),p+=e.r}function i(e,t,n){var r=h[h.length-1];if(n)return m+=f(r.buffer+e,r),!1;var a=l(t,r);if(a)return m+=f(r.buffer+e,r),d(a,t),a.rB;var i=u(h.length-1,t);if(i){var o=r.cN?\"</span>\":\"\";for(r.rE?m+=f(r.buffer+e,r)+o:r.eE?m+=f(r.buffer+e,r)+o+x(t):m+=f(r.buffer+e+t,r)+o;1<i;)o=h[h.length-2].cN?\"</span>\":\"\",m+=o,i--,h.length--;var s=h[h.length-1];return h.length--,h[h.length-1].buffer=\"\",s.starts&&d(s.starts,\"\"),r.rE}if(c(t,r))throw\"Illegal\"}var s=T[e],h=[s.dM],p=0,g=0,m=\"\";try{var v=0;s.dM.buffer=\"\";do{var y=n(t,v),b=i(y[0],y[1],y[2]);v+=y[0].length,b||(v+=y[1].length)}while(!y[2]);if(1<h.length)throw\"Illegal\";return{language:e,r:p,keyword_count:g,value:m}}catch(w){if(\"Illegal\"==w)return{language:null,r:0,keyword_count:0,value:x(t)};throw w}}function e(){function i(e,t,n){if(!e.compiled){for(var r in n||(e.bR=S(t,e.b?e.b:\"\\\\B|\\\\b\"),e.e||e.eW||(e.e=\"\\\\B|\\\\b\"),e.e&&(e.eR=S(t,e.e))),e.i&&(e.iR=S(t,e.i)),e.r==undefined&&(e.r=1),e.k&&(e.lR=S(t,e.l||hljs.IR,!0)),e.k)if(e.k.hasOwnProperty(r)){e.k[r]instanceof Object?e.kG=e.k:e.kG={keyword:e.k};break}e.c||(e.c=[]),e.compiled=!0;for(var a=0;a<e.c.length;a++)i(e.c[a],t,!1);e.starts&&i(e.starts,t,!1)}}for(var e in T)T.hasOwnProperty(e)&&i(T[e].dM,T[e],!0)}function v(){v.called||(v.called=!0,e())}function a(e,n,t){v();var r=h(e,t),a=p(e);if(\"no-highlight\"!=a){if(a)var i=D(a,r);else{var o=i={language:\"\",keyword_count:0,r:0,value:x(r)};for(var s in T)if(T.hasOwnProperty(s)){var l=D(s,r);l.keyword_count+l.r>o.keyword_count+o.r&&(o=l),l.keyword_count+l.r>i.keyword_count+i.r&&(o=i,i=l)}}var u=e.className;u.match(i.language)||(u=u?u+\" \"+i.language:i.language);var c=g(e);if(c.length)(f=document.createElement(\"pre\")).innerHTML=i.value,i.value=m(c,g(f),r);if(n&&(i.value=i.value.replace(/^((<[^>]+>|\\t)+)/gm,function(e,t){return t.replace(/\\t/g,n)})),t&&(i.value=i.value.replace(/\\n/g,\"<br>\")),/MSIE [678]/.test(navigator.userAgent)&&\"CODE\"==e.tagName&&\"PRE\"==e.parentNode.tagName){var f=e.parentNode,d=document.createElement(\"div\");d.innerHTML=\"<pre><code>\"+i.value+\"</code></pre>\",e=d.firstChild.firstChild,d.firstChild.cN=f.cN,f.parentNode.replaceChild(d.firstChild,f)}else e.innerHTML=i.value;e.className=u,e.dataset={},e.dataset.result={language:i.language,kw:i.keyword_count,re:i.r},o&&o.language&&(e.dataset.second_best={language:o.language,kw:o.keyword_count,re:o.r})}}function i(){if(!i.called){i.called=!0,v();for(var e=document.getElementsByTagName(\"pre\"),t=0;t<e.length;t++){var n=r(e[t]);n&&a(n,hljs.tabReplace)}}}function t(){var e=arguments,t=function(){i.apply(null,e)};window.addEventListener?(window.addEventListener(\"DOMContentLoaded\",t,!1),window.addEventListener(\"load\",t,!1)):window.attachEvent?window.attachEvent(\"onload\",t):window.onload=t}var T={};this.LANGUAGES=T,this.initHighlightingOnLoad=t,this.highlightBlock=a,this.initHighlighting=i,this.IR=\"[a-zA-Z][a-zA-Z0-9_]*\",this.UIR=\"[a-zA-Z_][a-zA-Z0-9_]*\",this.NR=\"\\\\b\\\\d+(\\\\.\\\\d+)?\",this.CNR=\"\\\\b(0x[A-Za-z0-9]+|\\\\d+(\\\\.\\\\d+)?)\",this.RSR=\"!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|\\\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~\",this.BE={b:\"\\\\\\\\.\",r:0},this.ASM={cN:\"string\",b:\"'\",e:\"'\",i:\"\\\\n\",c:[this.BE],r:0},this.QSM={cN:\"string\",b:'\"',e:'\"',i:\"\\\\n\",c:[this.BE],r:0},this.CLCM={cN:\"comment\",b:\"//\",e:\"$\"},this.CBLCLM={cN:\"comment\",b:\"/\\\\*\",e:\"\\\\*/\"},this.HCM={cN:\"comment\",b:\"#\",e:\"$\"},this.NM={cN:\"number\",b:this.NR,r:0},this.CNM={cN:\"number\",b:this.CNR,r:0},this.inherit=function(e,t){var n={};for(var r in e)n[r]=e[r];if(t)for(var r in t)n[r]=t[r];return n}};hljs.LANGUAGES.ruby=function(){var e=\"[a-zA-Z_][a-zA-Z0-9_]*(\\\\!|\\\\?)?\",t=\"[a-zA-Z_]\\\\w*[!?=]?|[-+~]\\\\@|<<|>>|=~|===?|<=>|[<>]=?|\\\\*\\\\*|[-/+%^&*~`|]|\\\\[\\\\]=?\",n={keyword:{and:1,\"false\":1,then:1,defined:1,module:1,\"in\":1,\"return\":1,redo:1,\"if\":1,BEGIN:1,retry:1,end:1,\"for\":1,\"true\":1,self:1,when:1,next:1,until:1,\"do\":1,begin:1,unless:1,END:1,rescue:1,nil:1,\"else\":1,\"break\":1,undef:1,not:1,\"super\":1,\"class\":1,\"case\":1,require:1,\"yield\":1,alias:1,\"while\":1,ensure:1,elsif:1,or:1,def:1},keymethods:{__id__:1,__send__:1,abort:1,abs:1,\"all?\":1,allocate:1,ancestors:1,\"any?\":1,arity:1,assoc:1,at:1,at_exit:1,autoload:1,\"autoload?\":1,\"between?\":1,binding:1,binmode:1,\"block_given?\":1,call:1,callcc:1,caller:1,capitalize:1,\"capitalize!\":1,casecmp:1,\"catch\":1,ceil:1,center:1,chomp:1,\"chomp!\":1,chop:1,\"chop!\":1,chr:1,\"class\":1,class_eval:1,\"class_variable_defined?\":1,class_variables:1,clear:1,clone:1,close:1,close_read:1,close_write:1,\"closed?\":1,coerce:1,collect:1,\"collect!\":1,compact:1,\"compact!\":1,concat:1,\"const_defined?\":1,const_get:1,const_missing:1,const_set:1,constants:1,count:1,crypt:1,\"default\":1,default_proc:1,\"delete\":1,\"delete!\":1,delete_at:1,delete_if:1,detect:1,display:1,div:1,divmod:1,downcase:1,\"downcase!\":1,downto:1,dump:1,dup:1,each:1,each_byte:1,each_index:1,each_key:1,each_line:1,each_pair:1,each_value:1,each_with_index:1,\"empty?\":1,entries:1,eof:1,\"eof?\":1,\"eql?\":1,\"equal?\":1,eval:1,exec:1,exit:1,\"exit!\":1,extend:1,fail:1,fcntl:1,fetch:1,fileno:1,fill:1,find:1,find_all:1,first:1,flatten:1,\"flatten!\":1,floor:1,flush:1,for_fd:1,foreach:1,fork:1,format:1,freeze:1,\"frozen?\":1,fsync:1,getc:1,gets:1,global_variables:1,grep:1,gsub:1,\"gsub!\":1,\"has_key?\":1,\"has_value?\":1,hash:1,hex:1,id:1,include:1,\"include?\":1,included_modules:1,index:1,indexes:1,indices:1,induced_from:1,inject:1,insert:1,inspect:1,instance_eval:1,instance_method:1,instance_methods:1,\"instance_of?\":1,\"instance_variable_defined?\":1,instance_variable_get:1,instance_variable_set:1,instance_variables:1,\"integer?\":1,intern:1,invert:1,ioctl:1,\"is_a?\":1,isatty:1,\"iterator?\":1,join:1,\"key?\":1,keys:1,\"kind_of?\":1,lambda:1,last:1,length:1,lineno:1,ljust:1,load:1,local_variables:1,loop:1,lstrip:1,\"lstrip!\":1,map:1,\"map!\":1,match:1,max:1,\"member?\":1,merge:1,\"merge!\":1,method:1,\"method_defined?\":1,method_missing:1,methods:1,min:1,module_eval:1,modulo:1,name:1,nesting:1,\"new\":1,next:1,\"next!\":1,\"nil?\":1,nitems:1,\"nonzero?\":1,object_id:1,oct:1,open:1,pack:1,partition:1,pid:1,pipe:1,pop:1,popen:1,pos:1,prec:1,prec_f:1,prec_i:1,print:1,printf:1,private_class_method:1,private_instance_methods:1,\"private_method_defined?\":1,private_methods:1,proc:1,protected_instance_methods:1,\n    4: \"protected_method_defined?\":1,protected_methods:1,public_class_method:1,public_instance_methods:1,\"public_method_defined?\":1,public_methods:1,push:1,putc:1,puts:1,quo:1,raise:1,rand:1,rassoc:1,read:1,read_nonblock:1,readchar:1,readline:1,readlines:1,readpartial:1,rehash:1,reject:1,\"reject!\":1,remainder:1,reopen:1,replace:1,require:1,\"respond_to?\":1,reverse:1,\"reverse!\":1,reverse_each:1,rewind:1,rindex:1,rjust:1,round:1,rstrip:1,\"rstrip!\":1,scan:1,seek:1,select:1,send:1,set_trace_func:1,shift:1,singleton_method_added:1,singleton_methods:1,size:1,sleep:1,slice:1,\"slice!\":1,sort:1,\"sort!\":1,sort_by:1,split:1,sprintf:1,squeeze:1,\"squeeze!\":1,srand:1,stat:1,step:1,store:1,strip:1,\"strip!\":1,sub:1,\"sub!\":1,succ:1,\"succ!\":1,sum:1,superclass:1,swapcase:1,\"swapcase!\":1,sync:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,taint:1,\"tainted?\":1,tell:1,test:1,\"throw\":1,times:1,to_a:1,to_ary:1,to_f:1,to_hash:1,to_i:1,to_int:1,to_io:1,to_proc:1,to_s:1,to_str:1,to_sym:1,tr:1,\"tr!\":1,tr_s:1,\"tr_s!\":1,trace_var:1,transpose:1,trap:1,truncate:1,\"tty?\":1,type:1,ungetc:1,uniq:1,\"uniq!\":1,unpack:1,unshift:1,untaint:1,untrace_var:1,upcase:1,\"upcase!\":1,update:1,upto:1,\"value?\":1,values:1,values_at:1,warn:1,write:1,write_nonblock:1,\"zero?\":1,zip:1}},r={cN:\"yardoctag\",b:\"@[A-Za-z]+\"},a={cN:\"comment\",b:\"#\",e:\"$\",c:[r]},i={cN:\"comment\",b:\"^\\\\=begin\",e:\"^\\\\=end\",c:[r],r:10},o={cN:\"comment\",b:\"^__END__\",e:\"\\\\n$\"},s={cN:\"subst\",b:\"#\\\\{\",e:\"}\",l:e,k:n},l=[hljs.BE,s],u={cN:\"string\",b:\"'\",e:\"'\",c:l,r:0},c={cN:\"string\",b:'\"',e:'\"',c:l,r:0},f={cN:\"string\",b:\"%[qw]?\\\\(\",e:\"\\\\)\",c:l,r:10},d={cN:\"string\",b:\"%[qw]?\\\\[\",e:\"\\\\]\",c:l,r:10},h={cN:\"string\",b:\"%[qw]?{\",e:\"}\",c:l,r:10},p={cN:\"string\",b:\"%[qw]?<\",e:\">\",c:l,r:10},g={cN:\"string\",b:\"%[qw]?/\",e:\"/\",c:l,r:10},m={cN:\"string\",b:\"%[qw]?%\",e:\"%\",c:l,r:10},v={cN:\"string\",b:\"%[qw]?-\",e:\"-\",c:l,r:10},y={cN:\"string\",b:\"%[qw]?\\\\|\",e:\"\\\\|\",c:l,r:10},b={cN:\"function\",b:\"\\\\bdef\\\\s+\",e:\" |$|;\",l:e,k:n,c:[{cN:\"title\",b:t,l:e,k:n},{cN:\"params\",b:\"\\\\(\",e:\"\\\\)\",l:e,k:n},a,i,o]},w={cN:\"identifier\",b:e,l:e,k:n,r:0},x=[a,i,o,u,c,f,d,h,p,g,m,v,y,{cN:\"class\",b:\"\\\\b(class|module)\\\\b\",e:\"$|;\",k:{\"class\":1,module:1},c:[{cN:\"title\",b:\"[A-Za-z_]\\\\w*(::\\\\w+)*(\\\\?|\\\\!)?\",r:0},{cN:\"inheritance\",b:\"<\\\\s*\",c:[{cN:\"parent\",b:\"(\"+hljs.IR+\"::)?\"+hljs.IR}]},a,i,o]},b,{cN:\"constant\",b:\"(::)?([A-Z]\\\\w*(::)?)+\",r:0},{cN:\"symbol\",b:\":\",c:[u,c,f,d,h,p,g,m,v,y,w],r:0},{cN:\"number\",b:\"(\\\\b0[0-7_]+)|(\\\\b0x[0-9a-fA-F_]+)|(\\\\b[1-9][0-9_]*(\\\\.[0-9_]+)?)|[0_]\\\\b\",r:0},{cN:\"number\",b:\"\\\\?\\\\w\"},{cN:\"variable\",b:\"(\\\\$\\\\W)|((\\\\$|\\\\@\\\\@?)(\\\\w+))\"},w,{b:\"(\"+hljs.RSR+\")\\\\s*\",c:[a,i,o,{cN:\"regexp\",b:\"/\",e:\"/[a-z]*\",i:\"\\\\n\",c:[hljs.BE]}],r:0}];return s.c=x,{dM:{l:e,k:n,c:b.c[1].c=x}}}(),function(c,s,o){function l(e,t,n){var r=s.createElement(e);return t&&(r.id=te+t),n&&(r.style.cssText=n),c(r)}function f(){return o.innerHeight?o.innerHeight:c(o).height()}function u(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var t;return this.cache[e]===undefined&&((t=c(this.el).attr(\"data-cbox-\"+e))!==undefined?this.cache[e]=t:n[e]!==undefined?this.cache[e]=n[e]:Q[e]!==undefined&&(this.cache[e]=Q[e])),this.cache[e]},this.get=function(e){var t=this.value(e);return c.isFunction(t)?t.call(this.el,this):t}}function i(e){var t=k.length,n=(X+e)%t;return n<0?t+n:n}function d(e,t){return Math.round((/%/.test(e)?(\"x\"===t?I.width():f())/100:1)*parseInt(e,10))}function h(e,t){return e.get(\"photo\")||e.get(\"photoRegex\").test(t)}function p(e,t){return e.get(\"retinaUrl\")&&1<o.devicePixelRatio?t.replace(e.get(\"photoRegex\"),e.get(\"retinaSuffix\")):t}function g(e){\"contains\"in S[0]&&!S[0].contains(e.target)&&e.target!==x[0]&&(e.stopPropagation(),S.focus())}function m(e){m.str!==e&&(S.add(x).removeClass(m.str).addClass(e),m.str=e)}function v(e){X=0,e&&!1!==e&&\"nofollow\"!==e?(k=c(\".\"+ne).filter(function(){return new u(this,c.data(this,ee)).get(\"rel\")===e}),-1===(X=k.index(W.el))&&(k=k.add(W.el),X=k.length-1)):k=c(W.el)}function y(e){c(s).trigger(e),ue.triggerHandler(e)}function r(e){var t;if(!Y){if(t=c(e).data(ee),v((W=new u(e,t)).get(\"rel\")),!G){G=J=!0,m(W.get(\"className\")),S.css({visibility:\"hidden\",display:\"block\",opacity:\"\"}),j=l(ce,\"LoadedContent\",\"width:0; height:0; overflow:hidden; visibility:hidden\"),T.css({width:\"\",height:\"\"}).append(j),B=C.height()+N.height()+T.outerHeight(!0)-T.height(),$=_.width()+A.width()+T.outerWidth(!0)-T.width(),U=j.outerHeight(!0),z=j.outerWidth(!0);var n=d(W.get(\"initialWidth\"),\"x\"),r=d(W.get(\"initialHeight\"),\"y\"),a=W.get(\"maxWidth\"),i=W.get(\"maxHeight\");W.w=Math.max((!1!==a?Math.min(n,d(a,\"x\")):n)-z-$,0),W.h=Math.max((!1!==i?Math.min(r,d(i,\"y\")):r)-U-B,0),j.css({width:\"\",height:W.h}),K.position(),y(re),W.get(\"onOpen\"),q.add(R).hide(),S.focus(),W.get(\"trapFocus\")&&s.addEventListener&&(s.addEventListener(\"focus\",g,!0),ue.one(se,function(){s.removeEventListener(\"focus\",g,!0)})),W.get(\"returnFocus\")&&ue.one(se,function(){c(W.el).focus()})}var o=parseFloat(W.get(\"opacity\"));x.css({opacity:o==o?o:\"\",cursor:W.get(\"overlayClose\")?\"pointer\":\"\",visibility:\"visible\"}).show(),W.get(\"closeButton\")?O.html(W.get(\"close\")).appendTo(T):O.appendTo(\"<div/>\"),w()}}function a(){S||(t=!1,I=c(o),S=l(ce).attr({id:ee,\"class\":!1===c.support.opacity?te+\"IE\":\"\",role:\"dialog\",tabindex:\"-1\"}).hide(),x=l(ce,\"Overlay\").hide(),E=c([l(ce,\"LoadingOverlay\")[0],l(ce,\"LoadingGraphic\")[0]]),D=l(ce,\"Wrapper\"),T=l(ce,\"Content\").append(R=l(ce,\"Title\"),F=l(ce,\"Current\"),M=c('<button type=\"button\"/>').attr({id:te+\"Previous\"}),H=c('<button type=\"button\"/>').attr({id:te+\"Next\"}),P=c('<button type=\"button\"/>').attr({id:te+\"Slideshow\"}),E),O=c('<button type=\"button\"/>').attr({id:te+\"Close\"}),D.append(l(ce).append(l(ce,\"TopLeft\"),C=l(ce,\"TopCenter\"),l(ce,\"TopRight\")),l(ce,!1,\"clear:left\").append(_=l(ce,\"MiddleLeft\"),T,A=l(ce,\"MiddleRight\")),l(ce,!1,\"clear:left\").append(l(ce,\"BottomLeft\"),N=l(ce,\"BottomCenter\"),l(ce,\"BottomRight\"))).find(\"div div\").css({\"float\":\"left\"}),L=l(ce,!1,\"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;\"),q=H.add(M).add(F).add(P)),s.body&&!S.parent().length&&c(s.body).append(x,S.append(D,L))}function b(){function e(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),r(this))}return!!S&&(t||(t=!0,H.click(function(){K.next()}),M.click(function(){K.prev()}),O.click(function(){K.close()}),x.click(function(){W.get(\"overlayClose\")&&K.close()}),c(s).bind(\"keydown.\"+te,function(e){var t=e.keyCode;G&&W.get(\"escKey\")&&27===t&&(e.preventDefault(),K.close()),G&&W.get(\"arrowKey\")&&k[1]&&!e.altKey&&(37===t?(e.preventDefault(),M.click()):39===t&&(e.preventDefault(),H.click()))}),c.isFunction(c.fn.on)?c(s).on(\"click.\"+te,\".\"+ne,e):c(\".\"+ne).live(\"click.\"+te,e)),!0)}function w(){var e,t,n,r=K.prep,a=++fe;if(V=!(J=!0),y(le),y(ae),W.get(\"onLoad\"),W.h=W.get(\"height\")?d(W.get(\"height\"),\"y\")-U-B:W.get(\"innerHeight\")&&d(W.get(\"innerHeight\"),\"y\"),W.w=W.get(\"width\")?d(W.get(\"width\"),\"x\")-z-$:W.get(\"innerWidth\")&&d(W.get(\"innerWidth\"),\"x\"),W.mw=W.w,W.mh=W.h,W.get(\"maxWidth\")&&(W.mw=d(W.get(\"maxWidth\"),\"x\")-z-$,W.mw=W.w&&W.w<W.mw?W.w:W.mw),W.get(\"maxHeight\")&&(W.mh=d(W.get(\"maxHeight\"),\"y\")-U-B,W.mh=W.h&&W.h<W.mh?W.h:W.mh),e=W.get(\"href\"),Z=setTimeout(function(){E.show()},100),W.get(\"inline\")){var i=c(e).eq(0);n=c(\"<div>\").hide().insertBefore(i),ue.one(le,function(){n.replaceWith(i)}),r(i)}else W.get(\"iframe\")?r(\" \"):W.get(\"html\")?r(W.get(\"html\")):h(W,e)?(e=p(W,e),V=W.get(\"createImg\"),c(V).addClass(te+\"Photo\").bind(\"error.\"+te,function(){r(l(ce,\"Error\").html(W.get(\"imgError\")))}).one(\"load\",function(){a===fe&&setTimeout(function(){var e;W.get(\"retinaImage\")&&1<o.devicePixelRatio&&(V.height=V.height/o.devicePixelRatio,V.width=V.width/o.devicePixelRatio),W.get(\"scalePhotos\")&&(t=function(){V.height-=V.height*e,V.width-=V.width*e},W.mw&&V.width>W.mw&&(e=(V.width-W.mw)/V.width,t()),W.mh&&V.height>W.mh&&(e=(V.height-W.mh)/V.height,t())),W.h&&(V.style.marginTop=Math.max(W.mh-V.height,0)/2+\"px\"),k[1]&&(W.get(\"loop\")||k[X+1])&&(V.style.cursor=\"pointer\",c(V).bind(\"click.\"+te,function(){K.next()})),V.style.width=V.width+\"px\",V.style.height=V.height+\"px\",r(V)},1)}),V.src=e):e&&L.load(e,W.get(\"data\"),function(e,t){a===fe&&r(\"error\"===t?l(ce,\"Error\").html(W.get(\"xhrError\")):c(this).contents())})}var x,S,D,T,C,_,A,N,k,I,j,L,E,R,F,P,H,M,O,q,W,B,$,U,z,X,V,G,J,Y,Z,K,t,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:\"elastic\",speed:300,fadeOut:300,width:!1,initialWidth:\"600\",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:\"450\",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:\"start slideshow\",slideshowStop:\"stop slideshow\",photoRegex:/\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:\"@2x.$1\",current:\"image {current} of {total}\",previous:\"previous\",next:\"next\",close:\"close\",xhrError:\"This content failed to load.\",imgError:\"This image failed to load.\",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr(\"href\")},title:function(){return this.title},createImg:function(){var n=new Image,e=c(this).data(\"cbox-img-attrs\");return\"object\"==typeof e&&c.each(e,function(e,t){n[e]=t}),n},createIframe:function(){var n=s.createElement(\"iframe\"),e=c(this).data(\"cbox-iframe-attrs\");return\"object\"==typeof e&&c.each(e,function(e,t){n[e]=t}),\"frameBorder\"in n&&(n.frameBorder=0),\"allowTransparency\"in n&&(n.allowTransparency=\"true\"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},ee=\"colorbox\",te=\"cbox\",ne=te+\"Element\",re=te+\"_open\",ae=te+\"_load\",ie=te+\"_complete\",oe=te+\"_cleanup\",se=te+\"_closed\",le=te+\"_purge\",ue=c(\"<a/>\"),ce=\"div\",fe=0,de={},he=function(){function e(){clearTimeout(o)}function t(){(W.get(\"loop\")||k[X+1])&&(e(),o=setTimeout(K.next,W.get(\"slideshowSpeed\")))}function n(){P.html(W.get(\"slideshowStop\")).unbind(l).one(l,r),ue.bind(ie,t).bind(ae,e),S.removeClass(s+\"off\").addClass(s+\"on\")}function r(){e(),ue.unbind(ie,t).unbind(ae,e),P.html(W.get(\"slideshowStart\")).unbind(l).one(l,function(){K.next(),n()}),S.removeClass(s+\"on\").addClass(s+\"off\")}function a(){i=!1,P.hide(),e(),ue.unbind(ie,t).unbind(ae,e),S.removeClass(s+\"off \"+s+\"on\")}var i,o,s=te+\"Slideshow_\",l=\"click.\"+te;return function(){i?W.get(\"slideshow\")||(ue.unbind(oe,a),a()):W.get(\"slideshow\")&&k[1]&&(i=!0,ue.one(oe,a),W.get(\"slideshowAuto\")?n():r(),P.show())}}();c[ee]||(c(a),(K=c.fn[ee]=c[ee]=function(t,e){var n=this;return t=t||{},c.isFunction(n)&&(n=c(\"<a/>\"),t.open=!0),n[0]&&(a(),b()&&(e&&(t.onComplete=e),n.each(function(){var e=c.data(this,ee)||{};c.data(this,ee,c.extend(e,t))}).addClass(ne),new u(n[0],t).get(\"open\")&&r(n[0]))),n}).position=function(t,e){function n(){C[0].style.width=N[0].style.width=T[0].style.width=parseInt(S[0].style.width,10)-$+\"px\",T[0].style.height=_[0].style.height=A[0].style.height=parseInt(S[0].style.height,10)-B+\"px\"}var r,a,i,o=0,s=0,l=S.offset();if(I.unbind(\"resize.\"+te),S.css({top:-9e4,left:-9e4}),a=I.scrollTop(),i=I.scrollLeft(),W.get(\"fixed\")?(l.top-=a,l.left-=i,S.css({position:\"fixed\"})):(o=a,s=i,S.css({position:\"absolute\"})),!1!==W.get(\"right\")?s+=Math.max(I.width()-W.w-z-$-d(W.get(\"right\"),\"x\"),0):!1!==W.get(\"left\")?s+=d(W.get(\"left\"),\"x\"):s+=Math.round(Math.max(I.width()-W.w-z-$,0)/2),!1!==W.get(\"bottom\")?o+=Math.max(f()-W.h-U-B-d(W.get(\"bottom\"),\"y\"),0):!1!==W.get(\"top\")?o+=d(W.get(\"top\"),\"y\"):o+=Math.round(Math.max(f()-W.h-U-B,0)/2),S.css({top:l.top,left:l.left,visibility:\"visible\"}),D[0].style.width=D[0].style.height=\"9999px\",r={width:W.w+z+$,height:W.h+U+B,top:o,left:s},t){var u=0;c.each(r,function(e){r[e]===de[e]||(u=t)}),t=u}de=r,t||S.css(r),S.dequeue().animate(r,{duration:t||0,complete:function(){n(),J=!1,D[0].style.width=W.w+z+$+\"px\",D[0].style.height=W.h+U+B+\"px\",W.get(\"reposition\")&&setTimeout(function(){I.bind(\"resize.\"+te,K.position)},1),c.isFunction(e)&&e()},step:n})},K.resize=function(e){var t;G&&((e=e||{}).width&&(W.w=d(e.width,\"x\")-z-$),e.innerWidth&&(W.w=d(e.innerWidth,\"x\")),j.css({width:W.w}),e.height&&(W.h=d(e.height,\"y\")-U-B),e.innerHeight&&(W.h=d(e.innerHeight,\"y\")),e.innerHeight||e.height||(t=j.scrollTop(),j.css({height:\"auto\"}),W.h=j.height()),j.css({height:W.h}),t&&j.scrollTop(t),K.position(\"none\"===W.get(\"transition\")?0:W.get(\"speed\")))},K.prep=function(e){function t(){return W.w=W.w||j.width(),W.w=W.mw&&W.mw<W.w?W.mw:W.w,W.w}function n(){return W.h=W.h||j.height(),W.h=W.mh&&W.mh<W.h?W.mh:W.h,W.h}if(G){var r,a=\"none\"===W.get(\"transition\")?0:W.get(\"speed\");j.remove(),(j=l(ce,\"LoadedContent\").append(e)).hide().appendTo(L.show()).css({width:t(),overflow:W.get(\"scrolling\")?\"auto\":\"hidden\"}).css({height:n()}).prependTo(T),L.hide(),c(V).css({\"float\":\"none\"}),m(W.get(\"className\")),r=function(){function e(){!1===c.support.opacity&&S[0].style.removeAttribute(\"filter\")}var t,n,r=k.length;G&&(n=function(){clearTimeout(Z),E.hide(),y(ie),W.get(\"onComplete\")},R.html(W.get(\"title\")).show(),j.show(),1<r?(\"string\"==typeof W.get(\"current\")&&F.html(W.get(\"current\").replace(\"{current}\",X+1).replace(\"{total}\",r)).show(),H[W.get(\"loop\")||X<r-1?\"show\":\"hide\"]().html(W.get(\"next\")),M[W.get(\"loop\")||X?\"show\":\"hide\"]().html(W.get(\"previous\")),he(),W.get(\"preloading\")&&c.each([i(-1),i(1)],function(){var e=k[this],t=new u(e,c.data(e,ee)),n=t.get(\"href\");n&&h(t,n)&&(n=p(t,n),s.createElement(\"img\").src=n)})):q.hide(),W.get(\"iframe\")?(t=W.get(\"createIframe\"),W.get(\"scrolling\")||(t.scrolling=\"no\"),c(t).attr({src:W.get(\"href\"),\"class\":te+\"Iframe\"}).one(\"load\",n).appendTo(j),ue.one(le,function(){t.src=\"//about:blank\"}),W.get(\"fastIframe\")&&c(t).trigger(\"load\")):n(),\"fade\"===W.get(\"transition\")?S.fadeTo(a,1,e):e())},\"fade\"===W.get(\"transition\")?S.fadeTo(a,0,function(){K.position(0,r)}):K.position(a,r)}},K.next=function(){!J&&k[1]&&(W.get(\"loop\")||k[X+1])&&(X=i(1),r(k[X]))},K.prev=function(){!J&&k[1]&&(W.get(\"loop\")||X)&&(X=i(-1),r(k[X]))},K.close=function(){G&&!Y&&(G=!(Y=!0),y(oe),W.get(\"onCleanup\"),I.unbind(\".\"+te),x.fadeTo(W.get(\"fadeOut\")||0,0),S.stop().fadeTo(W.get(\"fadeOut\")||0,0,function(){S.hide(),x.hide(),y(le),j.remove(),setTimeout(function(){Y=!1,y(se),W.get(\"onClosed\")},1)}))},K.remove=function(){S&&(S.stop(),c[ee].close(),S.stop(!1,!0).remove(),x.remove(),Y=!1,S=null,c(\".\"+ne).removeData(ee).removeClass(ne),c(s).unbind(\"click.\"+te).unbind(\"keydown.\"+te))},K.element=function(){return c(W.el)},K.settings=Q)}(jQuery,document,window),function(n){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],function(e){return n(e,window,document)}):\"object\"==typeof exports?module.exports=function(e,t){return e||(e=window),t||(t=\"undefined\"!=typeof window?require(\"jquery\"):require(\"jquery\")(e)),n(t,e,e.document)}:n(jQuery,window,document)}(function(B,N,w,$){\"use strict\";function o(t){var n,r,a=\"a aa ai ao as b fn i m o s \",i={};B.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!==a.indexOf(n[1]+\" \")&&(r=e.replace(n[0],n[2].toLowerCase()),i[r]=e,\"o\"===n[1]&&o(t[e]))}),t._hungarianMap=i}function A(t,n,r){var a;t._hungarianMap||o(t),B.each(n,function(e){(a=t._hungarianMap[e])===$||!r&&n[a]!==$||(\"o\"===a.charAt(0)?(n[a]||(n[a]={}),B.extend(!0,n[a],n[e]),A(t[a],n[a],r)):n[a]=n[e])})}function k(e){var t=Ge.defaults.oLanguage,n=t.sDecimal;if(n&&Be(n),e){var r=e.sZeroRecords;!e.sEmptyTable&&r&&\"No data available in table\"===t.sEmptyTable&&Ee(e,e,\"sZeroRecords\",\"sEmptyTable\"),!e.sLoadingRecords&&r&&\"Loading...\"===t.sLoadingRecords&&Ee(e,e,\"sZeroRecords\",\"sLoadingRecords\"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&n!==a&&Be(a)}}function I(e){pt(e,\"ordering\",\"bSort\"),pt(e,\"orderMulti\",\"bSortMulti\"),pt(e,\"orderClasses\",\"bSortClasses\"),pt(e,\"orderCellsTop\",\"bSortCellsTop\"),pt(e,\"order\",\"aaSorting\"),pt(e,\"orderFixed\",\"aaSortingFixed\"),pt(e,\"paging\",\"bPaginate\"),pt(e,\"pagingType\",\"sPaginationType\"),pt(e,\"pageLength\",\"iDisplayLength\"),pt(e,\"searching\",\"bFilter\"),\"boolean\"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?\"100%\":\"\"),\"boolean\"==typeof e.scrollX&&(e.scrollX=e.scrollX?\"100%\":\"\");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&A(Ge.models.oSearch,t[n])}function j(e){pt(e,\"orderable\",\"bSortable\"),pt(e,\"orderData\",\"aDataSort\"),pt(e,\"orderSequence\",\"asSorting\"),pt(e,\"orderDataType\",\"sortDataType\");var t=e.aDataSort;\"number\"!=typeof t||B.isArray(t)||(e.aDataSort=[t])}function L(e){if(!Ge.__browser){var t={};Ge.__browser=t;var n=B(\"<div/>\").css({position:\"fixed\",top:0,left:-1*B(N).scrollLeft(),height:1,width:1,overflow:\"hidden\"}).append(B(\"<div/>\").css({position:\"absolute\",top:1,left:1,width:100,overflow:\"scroll\"}).append(B(\"<div/>\").css({width:\"100%\",height:10}))).appendTo(\"body\"),r=n.children(),a=r.children();t.barWidth=r[0].offsetWidth-r[0].clientWidth,t.bScrollOversize=100===a[0].offsetWidth&&100!==r[0].clientWidth,t.bScrollbarLeft=1!==Math.round(a.offset().left),t.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}B.extend(e.oBrowser,Ge.__browser),e.oScroll.iBarWidth=Ge.__browser.barWidth}function n(e,t,n,r,a,i){var o,s=r,l=!1;for(n!==$&&(o=n,l=!0);s!==a;)e.hasOwnProperty(s)&&(o=l?t(o,e[s],s,e):e[s],l=!0,s+=i);return o}function E(e,t){var n=Ge.defaults.column,r=e.aoColumns.length,a=B.extend({},Ge.models.oColumn,n,{nTh:t||w.createElement(\"th\"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:\"\",aDataSort:n.aDataSort?n.aDataSort:[r],mData:n.mData?n.mData:r,idx:r});e.aoColumns.push(a);var i=e.aoPreSearchCols;i[r]=B.extend({},Ge.models.oSearch,i[r]),R(e,r,B(t).data())}function R(e,t,n){var r=e.aoColumns[t],a=e.oClasses,i=B(r.nTh);if(!r.sWidthOrig){r.sWidthOrig=i.attr(\"width\")||null;var o=(i.attr(\"style\")||\"\").match(/width:\\s*(\\d+[pxem%]+)/);o&&(r.sWidthOrig=o[1])}n!==$&&null!==n&&(j(n),A(Ge.defaults.column,n,!0),n.mDataProp===$||n.mData||(n.mData=n.mDataProp),n.sType&&(r._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&i.addClass(n.sClass),B.extend(r,n),Ee(r,n,\"sWidth\",\"sWidthOrig\"),n.iDataSort!==$&&(r.aDataSort=[n.iDataSort]),Ee(r,n,\"aDataSort\"));var s=r.mData,l=q(s),u=r.mRender?q(r.mRender):null,c=function(e){return\"string\"==typeof e&&-1!==e.indexOf(\"@\")};r._bAttrSrc=B.isPlainObject(s)&&(c(s.sort)||c(s.type)||c(s.filter)),r._setter=null,r.fnGetData=function(e,t,n){var r=l(e,t,$,n);return u&&t?u(r,t,e,n):r},r.fnSetData=function(e,t,n){return y(s)(e,t,n)},\"number\"!=typeof s&&(e._rowReadObject=!0),e.oFeatures.bSort||(r.bSortable=!1,i.addClass(a.sSortableNone));var f=-1!==B.inArray(\"asc\",r.asSorting),d=-1!==B.inArray(\"desc\",r.asSorting);r.bSortable&&(f||d)?f&&!d?(r.sSortingClass=a.sSortableAsc,r.sSortingClassJUI=a.sSortJUIAscAllowed):!f&&d?(r.sSortingClass=a.sSortableDesc,r.sSortingClassJUI=a.sSortJUIDescAllowed):(r.sSortingClass=a.sSortable,r.sSortingClassJUI=a.sSortJUI):(r.sSortingClass=a.sSortableNone,r.sSortingClassJUI=\"\")}function U(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ve(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var a=e.oScroll;\"\"===a.sY&&\"\"===a.sX||ge(e),He(e,null,\"column-sizing\",[e])}function z(e,t){var n=P(e,\"bVisible\");return\"number\"==typeof n[t]?n[t]:null}function c(e,t){var n=P(e,\"bVisible\"),r=B.inArray(t,n);return-1!==r?r:null}function F(e){var n=0;return B.each(e.aoColumns,function(e,t){t.bVisible&&\"none\"!==B(t.nTh).css(\"display\")&&n++}),n}function P(e,n){var r=[];return B.map(e.aoColumns,function(e,t){e[n]&&r.push(t)}),r}function l(e){var t,n,r,a,i,o,s,l,u,c=e.aoColumns,f=e.aoData,d=Ge.ext.type.detect;for(t=0,n=c.length;t<n;t++)if(u=[],!(s=c[t]).sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(r=0,a=d.length;r<a;r++){for(i=0,o=f.length;i<o&&(u[i]===$&&(u[i]=g(e,i,t,\"type\")),(l=d[r](u[i],e))||r===d.length-1)&&\"html\"!==l;i++);if(l){s.sType=l;break}}s.sType||(s.sType=\"string\")}}function H(e,t,n,r){var a,i,o,s,l,u,c,f=e.aoColumns;if(t)for(a=t.length-1;0<=a;a--){var d=(c=t[a]).targets!==$?c.targets:c.aTargets;for(B.isArray(d)||(d=[d]),o=0,s=d.length;o<s;o++)if(\"number\"==typeof d[o]&&0<=d[o]){for(;f.length<=d[o];)E(e);r(d[o],c)}else if(\"number\"==typeof d[o]&&d[o]<0)r(f.length+d[o],c);else if(\"string\"==typeof d[o])for(l=0,u=f.length;l<u;l++)(\"_all\"==d[o]||B(f[l].nTh).hasClass(d[o]))&&r(l,c)}if(n)for(a=0,i=n.length;a<i;a++)r(a,n[a])}function M(e,t,n,r){var a=e.aoData.length,i=B.extend(!0,{},Ge.models.oRow,{src:n?\"dom\":\"data\",idx:a});i._aData=t,e.aoData.push(i);for(var o=e.aoColumns,s=0,l=o.length;s<l;s++)o[s].sType=null;e.aiDisplayMaster.push(a);var u=e.rowIdFn(t);return u!==$&&(e.aIds[u]=i),!n&&e.oFeatures.bDeferRender||S(e,a,n,r),a}function O(n,e){var r;return e instanceof B||(e=B(e)),e.map(function(e,t){return r=f(n,t),M(n,r.data,t,r.cells)})}function e(e,t){return t._DT_RowIndex!==$?t._DT_RowIndex:null}function t(e,t,n){return B.inArray(n,e.aoData[t].anCells)}function g(e,t,n,r){var a=e.iDraw,i=e.aoColumns[n],o=e.aoData[t]._aData,s=i.sDefaultContent,l=i.fnGetData(o,r,{settings:e,row:t,col:n});if(l===$)return e.iDrawError!=a&&null===s&&(Le(e,0,\"Requested unknown parameter \"+(\"function\"==typeof i.mData?\"{function}\":\"'\"+i.mData+\"'\")+\" for row \"+t+\", column \"+n,4),e.iDrawError=a),s;if(l!==o&&null!==l||null===s||r===$){if(\"function\"==typeof l)return l.call(o)}else l=s;return null===l&&\"display\"==r?\"\":l}function r(e,t,n,r){var a=e.aoColumns[n],i=e.aoData[t]._aData;a.fnSetData(i,r,{settings:e,row:t,col:n})}function m(e){return B.map(e.match(/(\\\\.|[^\\.])+/g)||[\"\"],function(e){return e.replace(/\\\\\\./g,\".\")})}function q(a){if(B.isPlainObject(a)){var i={};return B.each(a,function(e,t){t&&(i[e]=q(t))}),function(e,t,n,r){var a=i[t]||i._;return a!==$?a(e,t,n,r):e}}if(null===a)return function(e){return e};if(\"function\"==typeof a)return function(e,t,n,r){return a(e,t,n,r)};if(\"string\"!=typeof a||-1===a.indexOf(\".\")&&-1===a.indexOf(\"[\")&&-1===a.indexOf(\"(\"))return function(e){return e[a]};var h=function(e,t,n){var r,a,i,o;if(\"\"!==n)for(var s=m(n),l=0,u=s.length;l<u;l++){if(r=s[l].match(gt),a=s[l].match(mt),r){if(s[l]=s[l].replace(gt,\"\"),\"\"!==s[l]&&(e=e[s[l]]),i=[],s.splice(0,l+1),o=s.join(\".\"),B.isArray(e))for(var c=0,f=e.length;c<f;c++)i.push(h(e[c],t,o));var d=r[0].substring(1,r[0].length-1);e=\"\"===d?i:i.join(d);break}if(a)s[l]=s[l].replace(mt,\"\"),e=e[s[l]]();else{if(null===e||e[s[l]]===$)return $;e=e[s[l]]}}return e};return function(e,t){return h(e,t,a)}}function y(r){if(B.isPlainObject(r))return y(r._);if(null===r)return function(){};if(\"function\"==typeof r)return function(e,t,n){r(e,\"set\",t,n)};if(\"string\"!=typeof r||-1===r.indexOf(\".\")&&-1===r.indexOf(\"[\")&&-1===r.indexOf(\"(\"))return function(e,t){e[r]=t};var p=function(e,t,n){for(var r,a,i,o,s,l=m(n),u=l[l.length-1],c=0,f=l.length-1;c<f;c++){if(a=l[c].match(gt),i=l[c].match(mt),a){if(l[c]=l[c].replace(gt,\"\"),e[l[c]]=[],(r=l.slice()).splice(0,c+1),s=r.join(\".\"),B.isArray(t))for(var d=0,h=t.length;d<h;d++)p(o={},t[d],s),e[l[c]].push(o);else e[l[c]]=t;return}i&&(l[c]=l[c].replace(mt,\"\"),e=e[l[c]](t)),null!==e[l[c]]&&e[l[c]]!==$||(e[l[c]]={}),e=e[l[c]]}u.match(mt)?e=e[u.replace(mt,\"\")](t):e[u.replace(gt,\"\")]=t};return function(e,t){return p(e,t,r)}}function x(e){return st(e.aoData,\"_aData\")}function u(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function h(e,t,n){for(var r=-1,a=0,i=e.length;a<i;a++)e[a]==t?r=a:e[a]>t&&e[a]--;-1!=r&&n===$&&e.splice(r,1)}function a(n,r,e,t){var a,i,o=n.aoData[r],s=function(e,t){for(;e.childNodes.length;)e.removeChild(e.firstChild);e.innerHTML=g(n,r,t,\"display\")};if(\"dom\"!==e&&(e&&\"auto\"!==e||\"dom\"!==o.src)){var l=o.anCells;if(l)if(t!==$)s(l[t],t);else for(a=0,i=l.length;a<i;a++)s(l[a],a)}else o._aData=f(n,o,t,t===$?$:o._aData).data;o._aSortData=null,o._aFilterData=null;var u=n.aoColumns;if(t!==$)u[t].sType=null;else{for(a=0,i=u.length;a<i;a++)u[a].sType=null;p(n,o)}}function f(e,t,n,a){var r,i,o,s=[],l=t.firstChild,u=0,c=e.aoColumns,f=e._rowReadObject;a=a!==$?a:f?{}:[];var d=function(e,t){if(\"string\"==typeof e){var n=e.indexOf(\"@\");if(-1!==n){var r=e.substring(n+1);y(e)(a,t.getAttribute(r))}}},h=function(e){n!==$&&n!==u||(i=c[u],o=B.trim(e.innerHTML),i&&i._bAttrSrc?(y(i.mData._)(a,o),d(i.mData.sort,e),d(i.mData.type,e),d(i.mData.filter,e)):f?(i._setter||(i._setter=y(i.mData)),i._setter(a,o)):a[u]=o);u++};if(l)for(;l;)\"TD\"!=(r=l.nodeName.toUpperCase())&&\"TH\"!=r||(h(l),s.push(l)),l=l.nextSibling;else for(var p=0,g=(s=t.anCells).length;p<g;p++)h(s[p]);var m=t.firstChild?t:t.nTr;if(m){var v=m.getAttribute(\"id\");v&&y(e.rowId)(a,v)}return{data:a,cells:s}}function S(e,t,n,r){var a,i,o,s,l,u,c=e.aoData[t],f=c._aData,d=[];if(null===c.nTr){for(a=n||w.createElement(\"tr\"),c.nTr=a,c.anCells=d,a._DT_RowIndex=t,p(e,c),s=0,l=e.aoColumns.length;s<l;s++)o=e.aoColumns[s],(i=(u=!n)?w.createElement(o.sCellType):r[s])._DT_CellIndex={row:t,column:s},d.push(i),!u&&(n&&!o.mRender&&o.mData===s||B.isPlainObject(o.mData)&&o.mData._===s+\".display\")||(i.innerHTML=g(e,t,s,\"display\")),o.sClass&&(i.className+=\" \"+o.sClass),o.bVisible&&!n?a.appendChild(i):!o.bVisible&&n&&i.parentNode.removeChild(i),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,i,g(e,t,s),f,t,s);He(e,\"aoRowCreatedCallback\",null,[a,f,t,d])}c.nTr.setAttribute(\"role\",\"row\")}function p(e,t){var n=t.nTr,r=t._aData;if(n){var a=e.rowIdFn(r);if(a&&(n.id=a),r.DT_RowClass){var i=r.DT_RowClass.split(\" \");t.__rowc=t.__rowc?ht(t.__rowc.concat(i)):i,B(n).removeClass(t.__rowc.join(\" \")).addClass(r.DT_RowClass)}r.DT_RowAttr&&B(n).attr(r.DT_RowAttr),r.DT_RowData&&B(n).data(r.DT_RowData)}}function d(e){var t,n,r,a,i,o=e.nTHead,s=e.nTFoot,l=0===B(\"th, td\",o).length,u=e.oClasses,c=e.aoColumns;for(l&&(a=B(\"<tr/>\").appendTo(o)),t=0,n=c.length;t<n;t++)i=c[t],r=B(i.nTh).addClass(i.sClass),l&&r.appendTo(a),e.oFeatures.bSort&&(r.addClass(i.sSortingClass),!1!==i.bSortable&&(r.attr(\"tabindex\",e.iTabIndex).attr(\"aria-controls\",e.sTableId),_e(e,i.nTh,t))),i.sTitle!=r[0].innerHTML&&r.html(i.sTitle),Oe(e,\"header\")(e,r,i,u);if(l&&W(e.aoHeader,o),B(o).find(\">tr\").attr(\"role\",\"row\"),B(o).find(\">tr>th, >tr>td\").addClass(u.sHeaderTH),B(s).find(\">tr>th, >tr>td\").addClass(u.sFooterTH),null!==s){var f=e.aoFooter[0];for(t=0,n=f.length;t<n;t++)(i=c[t]).nTf=f[t].cell,i.sClass&&B(i.nTf).addClass(i.sClass)}}function v(e,t,n){var r,a,i,o,s,l,u,c,f,d=[],h=[],p=e.aoColumns.length;if(t){for(n===$&&(n=!1),r=0,a=t.length;r<a;r++){for(d[r]=t[r].slice(),d[r].nTr=t[r].nTr,i=p-1;0<=i;i--)e.aoColumns[i].bVisible||n||d[r].splice(i,1);h.push([])}for(r=0,a=d.length;r<a;r++){if(u=d[r].nTr)for(;l=u.firstChild;)u.removeChild(l);for(i=0,o=d[r].length;i<o;i++)if(f=c=1,h[r][i]===$){for(u.appendChild(d[r][i].cell),h[r][i]=1;d[r+c]!==$&&d[r][i].cell==d[r+c][i].cell;)h[r+c][i]=1,c++;for(;d[r][i+f]!==$&&d[r][i].cell==d[r][i+f].cell;){for(s=0;s<c;s++)h[r+s][i+f]=1;f++}B(d[r][i].cell).attr(\"rowspan\",c).attr(\"colspan\",f)}}}}function b(e){var t=He(e,\"aoPreDrawCallback\",\"preDraw\",[e]);if(-1===B.inArray(!1,t)){var n=[],r=0,a=e.asStripeClasses,i=a.length,o=(e.aoOpenRows.length,e.oLanguage),s=e.iInitDisplayStart,l=\"ssp\"==qe(e),u=e.aiDisplay;e.bDrawing=!0,s!==$&&-1!==s&&(e._iDisplayStart=l?s:s>=e.fnRecordsDisplay()?0:s,e.iInitDisplayStart=-1);var c=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,he(e,!1);else if(l){if(!e.bDestroying&&!_(e))return}else e.iDraw++;if(0!==u.length)for(var d=l?0:c,h=l?e.aoData.length:f,p=d;p<h;p++){var g=u[p],m=e.aoData[g];null===m.nTr&&S(e,g);var v=m.nTr;if(0!==i){var y=a[r%i];m._sRowStripe!=y&&(B(v).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}He(e,\"aoRowCallback\",null,[v,m._aData,r,p,g]),n.push(v),r++}else{var b=o.sZeroRecords;1==e.iDraw&&\"ajax\"==qe(e)?b=o.sLoadingRecords:o.sEmptyTable&&0===e.fnRecordsTotal()&&(b=o.sEmptyTable),n[0]=B(\"<tr/>\",{\"class\":i?a[0]:\"\"}).append(B(\"<td />\",{valign:\"top\",colSpan:F(e),\"class\":e.oClasses.sRowEmpty}).html(b))[0]}He(e,\"aoHeaderCallback\",\"header\",[B(e.nTHead).children(\"tr\")[0],x(e),c,f,u]),He(e,\"aoFooterCallback\",\"footer\",[B(e.nTFoot).children(\"tr\")[0],x(e),c,f,u]);var w=B(e.nTBody);w.children().detach(),w.append(B(n)),He(e,\"aoDrawCallback\",\"draw\",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else he(e,!1)}function D(e,t){var n=e.oFeatures,r=n.bSort,a=n.bFilter;r&&De(e),a?J(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,b(e),e._drawHold=!1}function T(e){var t=e.oClasses,n=B(e.nTable),r=B(\"<div/>\").insertBefore(n),a=e.oFeatures,i=B(\"<div/>\",{id:e.sTableId+\"_wrapper\",\"class\":t.sWrapper+(e.nTFoot?\"\":\" \"+t.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=i[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o,s,l,u,c,f,d=e.sDom.split(\"\"),h=0;h<d.length;h++){if(o=null,\"<\"==(s=d[h])){if(l=B(\"<div/>\")[0],\"'\"==(u=d[h+1])||'\"'==u){for(c=\"\",f=2;d[h+f]!=u;)c+=d[h+f],f++;if(\"H\"==c?c=t.sJUIHeader:\"F\"==c&&(c=t.sJUIFooter),-1!=c.indexOf(\".\")){var p=c.split(\".\");l.id=p[0].substr(1,p[0].length-1),l.className=p[1]}else\"#\"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c;h+=f}i.append(l),i=B(l)}else if(\">\"==s)i=i.parent();else if(\"l\"==s&&a.bPaginate&&a.bLengthChange)o=ue(e);else if(\"f\"==s&&a.bFilter)o=G(e);else if(\"r\"==s&&a.bProcessing)o=de(e);else if(\"t\"==s)o=pe(e);else if(\"i\"==s&&a.bInfo)o=re(e);else if(\"p\"==s&&a.bPaginate)o=ce(e);else if(0!==Ge.ext.feature.length)for(var g=Ge.ext.feature,m=0,v=g.length;m<v;m++)if(s==g[m].cFeature){o=g[m].fnInit(e);break}if(o){var y=e.aanFeatures;y[s]||(y[s]=[]),y[s].push(o),i.append(o)}}r.replaceWith(i),e.nHolding=null}function W(e,t){var n,r,a,i,o,s,l,u,c,f,d,h=B(t).children(\"tr\"),p=function(e,t,n){for(var r=e[t];r[n];)n++;return n};for(e.splice(0,e.length),a=0,s=h.length;a<s;a++)e.push([]);for(a=0,s=h.length;a<s;a++)for(u=0,r=(n=h[a]).firstChild;r;){if(\"TD\"==r.nodeName.toUpperCase()||\"TH\"==r.nodeName.toUpperCase())for(c=(c=1*r.getAttribute(\"colspan\"))&&0!==c&&1!==c?c:1,f=(f=1*r.getAttribute(\"rowspan\"))&&0!==f&&1!==f?f:1,l=p(e,a,u),d=1===c,o=0;o<c;o++)for(i=0;i<f;i++)e[a+i][l+o]={cell:r,unique:d},e[a+i].nTr=n;r=r.nextSibling}}function X(e,t,n){var r=[];n||(n=e.aoHeader,t&&W(n=[],t));for(var a=0,i=n.length;a<i;a++)for(var o=0,s=n[a].length;o<s;o++)!n[a][o].unique||r[o]&&e.bSortCellsTop||(r[o]=n[a][o].cell);return r}function C(r,e,t){if(He(r,\"aoServerParams\",\"serverParams\",[e]),e&&B.isArray(e)){var a={},i=/(.*?)\\[\\]$/;B.each(e,function(e,t){var n=t.name.match(i);if(n){var r=n[0];a[r]||(a[r]=[]),a[r].push(t.value)}else a[t.name]=t.value}),e=a}var n,o=r.ajax,s=r.oInstance,l=function(e){He(r,null,\"xhr\",[r,e,r.jqXHR]),t(e)};if(B.isPlainObject(o)&&o.data){var u=\"function\"==typeof(n=o.data)?n(e,r):n;e=\"function\"==typeof n&&u?u:B.extend(!0,e,u),delete o.data}var c={data:e,success:function(e){var t=e.error||e.sError;t&&Le(r,0,t),r.json=e,l(e)},dataType:\"json\",cache:!1,type:r.sServerMethod,error:function(e,t){var n=He(r,null,\"xhr\",[r,null,r.jqXHR]);-1===B.inArray(!0,n)&&(\"parsererror\"==t?Le(r,0,\"Invalid JSON response\",1):4===e.readyState&&Le(r,0,\"Ajax error\",7)),he(r,!1)}};r.oAjaxData=e,He(r,null,\"preXhr\",[r,e]),r.fnServerData?r.fnServerData.call(s,r.sAjaxSource,B.map(e,function(e,t){return{name:t,value:e}}),l,r):r.sAjaxSource||\"string\"==typeof o?r.jqXHR=B.ajax(B.extend(c,{url:o||r.sAjaxSource})):\"function\"==typeof o?r.jqXHR=o.call(s,e,l,r):(r.jqXHR=B.ajax(B.extend(c,o)),o.data=n)}function _(t){return!t.bAjaxDataGet||(t.iDraw++,he(t,!0),C(t,i(t),function(e){s(t,e)}),!1)}function i(e){var t,n,r,a,i=e.aoColumns,o=i.length,s=e.oFeatures,l=e.oPreviousSearch,u=e.aoPreSearchCols,c=[],f=Se(e),d=e._iDisplayStart,h=!1!==s.bPaginate?e._iDisplayLength:-1,p=function(e,t){c.push({name:e,value:t})};p(\"sEcho\",e.iDraw),p(\"iColumns\",o),p(\"sColumns\",st(i,\"sName\").join(\",\")),p(\"iDisplayStart\",d),p(\"iDisplayLength\",h);var g={draw:e.iDraw,columns:[],order:[],start:d,length:h,search:{value:l.sSearch,regex:l.bRegex}};for(t=0;t<o;t++)r=i[t],a=u[t],n=\"function\"==typeof r.mData?\"function\":r.mData,g.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),p(\"mDataProp_\"+t,n),s.bFilter&&(p(\"sSearch_\"+t,a.sSearch),p(\"bRegex_\"+t,a.bRegex),p(\"bSearchable_\"+t,r.bSearchable)),s.bSort&&p(\"bSortable_\"+t,r.bSortable);s.bFilter&&(p(\"sSearch\",l.sSearch),p(\"bRegex\",l.bRegex)),s.bSort&&(B.each(f,function(e,t){g.order.push({column:t.col,dir:t.dir}),p(\"iSortCol_\"+e,t.col),p(\"sSortDir_\"+e,t.dir)}),p(\"iSortingCols\",f.length));var m=Ge.ext.legacy.ajax;return null===m?e.sAjaxSource?c:g:m?c:g}function s(e,n){var t=function(e,t){return n[e]!==$?n[e]:n[t]},r=V(e,n),a=t(\"sEcho\",\"draw\"),i=t(\"iTotalRecords\",\"recordsTotal\"),o=t(\"iTotalDisplayRecords\",\"recordsFiltered\");if(a){if(1*a<e.iDraw)return;e.iDraw=1*a}u(e),e._iRecordsTotal=parseInt(i,10),e._iRecordsDisplay=parseInt(o,10);for(var s=0,l=r.length;s<l;s++)M(e,r[s])\n    5  ;e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,b(e),e._bInitComplete||se(e,n),e.bAjaxDataGet=!0,he(e,!1)}function V(e,t){var n=B.isPlainObject(e.ajax)&&e.ajax.dataSrc!==$?e.ajax.dataSrc:e.sAjaxDataProp;return\"data\"===n?t.aaData||t[n]:\"\"!==n?q(n)(t):t}function G(r){var e=r.oClasses,t=r.sTableId,n=r.oLanguage,a=r.oPreviousSearch,i=r.aanFeatures,o='<input type=\"search\" class=\"'+e.sFilterInput+'\"/>',s=n.sSearch;s=s.match(/_INPUT_/)?s.replace(\"_INPUT_\",o):s+o;var l=B(\"<div/>\",{id:i.f?null:t+\"_filter\",\"class\":e.sFilter}).append(B(\"<label/>\").append(s)),u=function(){i.f;var e=this.value?this.value:\"\";e!=a.sSearch&&(J(r,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),r._iDisplayStart=0,b(r))},c=null!==r.searchDelay?r.searchDelay:\"ssp\"===qe(r)?400:0,f=B(\"input\",l).val(a.sSearch).attr(\"placeholder\",n.sSearchPlaceholder).on(\"keyup.DT search.DT input.DT paste.DT cut.DT\",c?xt(u,c):u).on(\"keypress.DT\",function(e){if(13==e.keyCode)return!1}).attr(\"aria-controls\",t);return B(r.nTable).on(\"search.dt.DT\",function(e,t){if(r===t)try{f[0]!==w.activeElement&&f.val(a.sSearch)}catch(n){}}),l[0]}function J(e,t,n){var r=e.oPreviousSearch,a=e.aoPreSearchCols,i=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},o=function(e){return e.bEscapeRegex!==$?!e.bEscapeRegex:e.bRegex};if(l(e),\"ssp\"!=qe(e)){K(e,t.sSearch,n,o(t),t.bSmart,t.bCaseInsensitive),i(t);for(var s=0;s<a.length;s++)Z(e,a[s].sSearch,s,o(a[s]),a[s].bSmart,a[s].bCaseInsensitive);Y(e)}else i(t);e.bFiltered=!0,He(e,null,\"search\",[e])}function Y(e){for(var t,n,r=Ge.ext.search,a=e.aiDisplay,i=0,o=r.length;i<o;i++){for(var s=[],l=0,u=a.length;l<u;l++)n=a[l],t=e.aoData[n],r[i](e,t._aFilterData,n,t._aData,l)&&s.push(n);a.length=0,B.merge(a,s)}}function Z(e,t,n,r,a,i){if(\"\"!==t){for(var o,s=[],l=e.aiDisplay,u=Q(t,r,a,i),c=0;c<l.length;c++)o=e.aoData[l[c]]._aFilterData[n],u.test(o)&&s.push(l[c]);e.aiDisplay=s}}function K(e,t,n,r,a,i){var o,s,l,u=Q(t,r,a,i),c=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster,d=[];if(0!==Ge.ext.search.length&&(n=!0),s=ee(e),t.length<=0)e.aiDisplay=f.slice();else{for((s||n||r||c.length>t.length||0!==t.indexOf(c)||e.bSorted)&&(e.aiDisplay=f.slice()),o=e.aiDisplay,l=0;l<o.length;l++)u.test(e.aoData[o[l]]._sFilterRow)&&d.push(o[l]);e.aiDisplay=d}}function Q(e,t,n,r){(e=t?e:vt(e),n)&&(e=\"^(?=.*?\"+B.map(e.match(/\"[^\"]+\"|[^ ]+/g)||[\"\"],function(e){if('\"'===e.charAt(0)){var t=e.match(/^\"(.*)\"$/);e=t?t[1]:e}return e.replace('\"',\"\")}).join(\")(?=.*?\")+\").*$\");return new RegExp(e,r?\"i\":\"\")}function ee(e){var t,n,r,a,i,o,s,l,u=e.aoColumns,c=Ge.ext.type.search,f=!1;for(n=0,a=e.aoData.length;n<a;n++)if(!(l=e.aoData[n])._aFilterData){for(o=[],r=0,i=u.length;r<i;r++)(t=u[r]).bSearchable?(s=g(e,n,r,\"filter\"),c[t.sType]&&(s=c[t.sType](s)),null===s&&(s=\"\"),\"string\"!=typeof s&&s.toString&&(s=s.toString())):s=\"\",s.indexOf&&-1!==s.indexOf(\"&\")&&(yt.innerHTML=s,s=bt?yt.textContent:yt.innerText),s.replace&&(s=s.replace(/[\\r\\n\\u2028]/g,\"\")),o.push(s);l._aFilterData=o,l._sFilterRow=o.join(\"  \"),f=!0}return f}function te(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function re(e){var t=e.sTableId,n=e.aanFeatures.i,r=B(\"<div/>\",{\"class\":e.oClasses.sInfo,id:n?null:t+\"_info\"});return n||(e.aoDrawCallback.push({fn:ae,sName:\"information\"}),r.attr(\"role\",\"status\").attr(\"aria-live\",\"polite\"),B(e.nTable).attr(\"aria-describedby\",t+\"_info\")),r[0]}function ae(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,r=e._iDisplayStart+1,a=e.fnDisplayEnd(),i=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),s=o?n.sInfo:n.sInfoEmpty;o!==i&&(s+=\" \"+n.sInfoFiltered),s=ie(e,s+=n.sInfoPostFix);var l=n.fnInfoCallback;null!==l&&(s=l.call(e.oInstance,e,r,a,i,o,s)),B(t).html(s)}}function ie(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,a=e._iDisplayLength,i=e.fnRecordsDisplay(),o=-1===a;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,i)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(r/a))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(i/a)))}function oe(n){var r,e,t,a=n.iInitDisplayStart,i=n.aoColumns,o=n.oFeatures,s=n.bDeferLoading;if(n.bInitialised){for(T(n),d(n),v(n,n.aoHeader),v(n,n.aoFooter),he(n,!0),o.bAutoWidth&&ve(n),r=0,e=i.length;r<e;r++)(t=i[r]).sWidth&&(t.nTh.style.width=xe(t.sWidth));He(n,null,\"preInit\",[n]),D(n);var l=qe(n);(\"ssp\"!=l||s)&&(\"ajax\"==l?C(n,[],function(e){var t=V(n,e);for(r=0;r<t.length;r++)M(n,t[r]);n.iInitDisplayStart=a,D(n),he(n,!1),se(n,e)},n):(he(n,!1),se(n)))}else setTimeout(function(){oe(n)},200)}function se(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&U(e),He(e,null,\"plugin-init\",[e,t]),He(e,\"aoInitComplete\",\"init\",[e,t])}function le(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Me(e),He(e,null,\"length\",[e,n])}function ue(r){for(var e=r.oClasses,t=r.sTableId,n=r.aLengthMenu,a=B.isArray(n[0]),i=a?n[0]:n,o=a?n[1]:n,s=B(\"<select/>\",{name:t+\"_length\",\"aria-controls\":t,\"class\":e.sLengthSelect}),l=0,u=i.length;l<u;l++)s[0][l]=new Option(\"number\"==typeof o[l]?r.fnFormatNumber(o[l]):o[l],i[l]);var c=B(\"<div><label/></div>\").addClass(e.sLength);return r.aanFeatures.l||(c[0].id=t+\"_length\"),c.children().append(r.oLanguage.sLengthMenu.replace(\"_MENU_\",s[0].outerHTML)),B(\"select\",c).val(r._iDisplayLength).on(\"change.DT\",function(){le(r,B(this).val()),b(r)}),B(r.nTable).on(\"length.dt.DT\",function(e,t,n){r===t&&B(\"select\",c).val(n)}),c[0]}function ce(e){var t=e.sPaginationType,c=Ge.ext.pager[t],f=\"function\"==typeof c,d=function(e){b(e)},n=B(\"<div/>\").addClass(e.oClasses.sPaging+t)[0],h=e.aanFeatures;return f||c.fnInit(e,n,d),h.p||(n.id=e.sTableId+\"_paginate\",e.aoDrawCallback.push({fn:function(e){if(f){var t,n,r=e._iDisplayStart,a=e._iDisplayLength,i=e.fnRecordsDisplay(),o=-1===a,s=o?0:Math.ceil(r/a),l=o?1:Math.ceil(i/a),u=c(s,l);for(t=0,n=h.p.length;t<n;t++)Oe(e,\"pageButton\")(e,h.p[t],t,u,s,l)}else c.fnUpdate(e,d)},sName:\"pagination\"})),n}function fe(e,t,n){var r=e._iDisplayStart,a=e._iDisplayLength,i=e.fnRecordsDisplay();0===i||-1===a?r=0:\"number\"==typeof t?i<(r=t*a)&&(r=0):\"first\"==t?r=0:\"previous\"==t?(r=0<=a?r-a:0)<0&&(r=0):\"next\"==t?r+a<i&&(r+=a):\"last\"==t?r=Math.floor((i-1)/a)*a:Le(e,0,\"Unknown paging action: \"+t,5);var o=e._iDisplayStart!==r;return e._iDisplayStart=r,o&&(He(e,null,\"page\",[e]),n&&b(e)),o}function de(e){return B(\"<div/>\",{id:e.aanFeatures.r?null:e.sTableId+\"_processing\",\"class\":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function he(e,t){e.oFeatures.bProcessing&&B(e.aanFeatures.r).css(\"display\",t?\"block\":\"none\"),He(e,null,\"processing\",[e,t])}function pe(e){var t=B(e.nTable);t.attr(\"role\",\"grid\");var n=e.oScroll;if(\"\"===n.sX&&\"\"===n.sY)return e.nTable;var r=n.sX,a=n.sY,i=e.oClasses,o=t.children(\"caption\"),s=o.length?o[0]._captionSide:null,l=B(t[0].cloneNode(!1)),u=B(t[0].cloneNode(!1)),c=t.children(\"tfoot\"),f=\"<div/>\",d=function(e){return e?xe(e):null};c.length||(c=null);var h=B(f,{\"class\":i.sScrollWrapper}).append(B(f,{\"class\":i.sScrollHead}).css({overflow:\"hidden\",position:\"relative\",border:0,width:r?d(r):\"100%\"}).append(B(f,{\"class\":i.sScrollHeadInner}).css({\"box-sizing\":\"content-box\",width:n.sXInner||\"100%\"}).append(l.removeAttr(\"id\").css(\"margin-left\",0).append(\"top\"===s?o:null).append(t.children(\"thead\"))))).append(B(f,{\"class\":i.sScrollBody}).css({position:\"relative\",overflow:\"auto\",width:d(r)}).append(t));c&&h.append(B(f,{\"class\":i.sScrollFoot}).css({overflow:\"hidden\",border:0,width:r?d(r):\"100%\"}).append(B(f,{\"class\":i.sScrollFootInner}).append(u.removeAttr(\"id\").css(\"margin-left\",0).append(\"bottom\"===s?o:null).append(t.children(\"tfoot\")))));var p=h.children(),g=p[0],m=p[1],v=c?p[2]:null;return r&&B(m).on(\"scroll.DT\",function(){var e=this.scrollLeft;g.scrollLeft=e,c&&(v.scrollLeft=e)}),B(m).css(a&&n.bCollapse?\"max-height\":\"height\",a),e.nScrollHead=g,e.nScrollBody=m,e.nScrollFoot=v,e.aoDrawCallback.push({fn:ge,sName:\"scrolling\"}),h[0]}function ge(n){var e,t,r,a,i,o,s,l,u,c=n.oScroll,f=c.sX,d=c.sXInner,h=c.sY,p=c.iBarWidth,g=B(n.nScrollHead),m=g[0].style,v=g.children(\"div\"),y=v[0].style,b=v.children(\"table\"),w=n.nScrollBody,x=B(w),S=w.style,D=B(n.nScrollFoot).children(\"div\"),T=D.children(\"table\"),C=B(n.nTHead),_=B(n.nTable),A=_[0],N=A.style,k=n.nTFoot?B(n.nTFoot):null,I=n.oBrowser,j=I.bScrollOversize,L=st(n.aoColumns,\"nTh\"),E=[],R=[],F=[],P=[],H=function(e){var t=e.style;t.paddingTop=\"0\",t.paddingBottom=\"0\",t.borderTopWidth=\"0\",t.borderBottomWidth=\"0\",t.height=0},M=w.scrollHeight>w.clientHeight;if(n.scrollBarVis!==M&&n.scrollBarVis!==$)return n.scrollBarVis=M,void U(n);n.scrollBarVis=M,_.children(\"thead, tfoot\").remove(),k&&(o=k.clone().prependTo(_),t=k.find(\"tr\"),a=o.find(\"tr\")),i=C.clone().prependTo(_),e=C.find(\"tr\"),r=i.find(\"tr\"),i.find(\"th, td\").removeAttr(\"tabindex\"),f||(S.width=\"100%\",g[0].style.width=\"100%\"),B.each(X(n,i),function(e,t){s=z(n,e),t.style.width=n.aoColumns[s].sWidth}),k&&me(function(e){e.style.width=\"\"},a),u=_.outerWidth(),\"\"===f?(N.width=\"100%\",j&&(_.find(\"tbody\").height()>w.offsetHeight||\"scroll\"==x.css(\"overflow-y\"))&&(N.width=xe(_.outerWidth()-p)),u=_.outerWidth()):\"\"!==d&&(N.width=xe(d),u=_.outerWidth()),me(H,r),me(function(e){F.push(e.innerHTML),E.push(xe(B(e).css(\"width\")))},r),me(function(e,t){-1!==B.inArray(e,L)&&(e.style.width=E[t])},e),B(r).height(0),k&&(me(H,a),me(function(e){P.push(e.innerHTML),R.push(xe(B(e).css(\"width\")))},a),me(function(e,t){e.style.width=R[t]},t),B(a).height(0)),me(function(e,t){e.innerHTML='<div class=\"dataTables_sizing\">'+F[t]+\"</div>\",e.childNodes[0].style.height=\"0\",e.childNodes[0].style.overflow=\"hidden\",e.style.width=E[t]},r),k&&me(function(e,t){e.innerHTML='<div class=\"dataTables_sizing\">'+P[t]+\"</div>\",e.childNodes[0].style.height=\"0\",e.childNodes[0].style.overflow=\"hidden\",e.style.width=R[t]},a),_.outerWidth()<u?(l=w.scrollHeight>w.offsetHeight||\"scroll\"==x.css(\"overflow-y\")?u+p:u,j&&(w.scrollHeight>w.offsetHeight||\"scroll\"==x.css(\"overflow-y\"))&&(N.width=xe(l-p)),\"\"!==f&&\"\"===d||Le(n,1,\"Possible column misalignment\",6)):l=\"100%\",S.width=xe(l),m.width=xe(l),k&&(n.nScrollFoot.style.width=xe(l)),h||j&&(S.height=xe(A.offsetHeight+p));var O=_.outerWidth();b[0].style.width=xe(O),y.width=xe(O);var q=_.height()>w.clientHeight||\"scroll\"==x.css(\"overflow-y\"),W=\"padding\"+(I.bScrollbarLeft?\"Left\":\"Right\");y[W]=q?p+\"px\":\"0px\",k&&(T[0].style.width=xe(O),D[0].style.width=xe(O),D[0].style[W]=q?p+\"px\":\"0px\"),_.children(\"colgroup\").insertBefore(_.children(\"thead\")),x.trigger(\"scroll\"),!n.bSorted&&!n.bFiltered||n._drawHold||(w.scrollTop=0)}function me(e,t,n){for(var r,a,i=0,o=0,s=t.length;o<s;){for(r=t[o].firstChild,a=n?n[o].firstChild:null;r;)1===r.nodeType&&(n?e(r,a,i):e(r,i),i++),r=r.nextSibling,a=n?a.nextSibling:null;o++}}function ve(e){var t,n,r,a=e.nTable,i=e.aoColumns,o=e.oScroll,s=o.sY,l=o.sX,u=o.sXInner,c=i.length,f=P(e,\"bVisible\"),d=B(\"th\",e.nTHead),h=a.getAttribute(\"width\"),p=a.parentNode,g=!1,m=e.oBrowser,v=m.bScrollOversize,y=a.style.width;for(y&&-1!==y.indexOf(\"%\")&&(h=y),t=0;t<f.length;t++)null!==(n=i[f[t]]).sWidth&&(n.sWidth=ye(n.sWidthOrig,p),g=!0);if(v||!g&&!l&&!s&&c==F(e)&&c==d.length)for(t=0;t<c;t++){var b=z(e,t);null!==b&&(i[b].sWidth=xe(d.eq(t).width()))}else{var w=B(a).clone().css(\"visibility\",\"hidden\").removeAttr(\"id\");w.find(\"tbody tr\").remove();var x=B(\"<tr/>\").appendTo(w.find(\"tbody\"));for(w.find(\"thead, tfoot\").remove(),w.append(B(e.nTHead).clone()).append(B(e.nTFoot).clone()),w.find(\"tfoot th, tfoot td\").css(\"width\",\"\"),d=X(e,w.find(\"thead\")[0]),t=0;t<f.length;t++)n=i[f[t]],d[t].style.width=null!==n.sWidthOrig&&\"\"!==n.sWidthOrig?xe(n.sWidthOrig):\"\",n.sWidthOrig&&l&&B(d[t]).append(B(\"<div/>\").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(t=0;t<f.length;t++)n=i[r=f[t]],B(be(e,r)).clone(!1).append(n.sContentPadding).appendTo(x);B(\"[name]\",w).removeAttr(\"name\");var S=B(\"<div/>\").css(l||s?{position:\"absolute\",top:0,left:0,height:1,right:0,overflow:\"hidden\"}:{}).append(w).appendTo(p);l&&u?w.width(u):l?(w.css(\"width\",\"auto\"),w.removeAttr(\"width\"),w.width()<p.clientWidth&&h&&w.width(p.clientWidth)):s?w.width(p.clientWidth):h&&w.width(h);var D=0;for(t=0;t<f.length;t++){var T=B(d[t]),C=T.outerWidth()-T.width(),_=m.bBounding?Math.ceil(d[t].getBoundingClientRect().width):T.outerWidth();D+=_,i[f[t]].sWidth=xe(_-C)}a.style.width=xe(D),S.remove()}if(h&&(a.style.width=xe(h)),(h||l)&&!e._reszEvt){var A=function(){B(N).on(\"resize.DT-\"+e.sInstance,xt(function(){U(e)}))};v?setTimeout(A,1e3):A(),e._reszEvt=!0}}function ye(e,t){if(!e)return 0;var n=B(\"<div/>\").css(\"width\",xe(e)).appendTo(t||w.body),r=n[0].offsetWidth;return n.remove(),r}function be(e,t){var n=we(e,t);if(n<0)return null;var r=e.aoData[n];return r.nTr?r.anCells[t]:B(\"<td/>\").html(g(e,n,t,\"display\"))[0]}function we(e,t){for(var n,r=-1,a=-1,i=0,o=e.aoData.length;i<o;i++)(n=(n=(n=g(e,i,t,\"display\")+\"\").replace(wt,\"\")).replace(/&nbsp;/g,\" \")).length>r&&(r=n.length,a=i);return a}function xe(e){return null===e?\"0px\":\"number\"==typeof e?e<0?\"0px\":e+\"px\":e.match(/\\d$/)?e+\"px\":e}function Se(e){var t,n,r,a,i,o,s,l=[],u=e.aoColumns,c=e.aaSortingFixed,f=B.isPlainObject(c),d=[],h=function(e){e.length&&!B.isArray(e[0])?d.push(e):B.merge(d,e)};for(B.isArray(c)&&h(c),f&&c.pre&&h(c.pre),h(e.aaSorting),f&&c.post&&h(c.post),t=0;t<d.length;t++)for(n=0,r=(a=u[s=d[t][0]].aDataSort).length;n<r;n++)o=u[i=a[n]].sType||\"string\",d[t]._idx===$&&(d[t]._idx=B.inArray(d[t][1],u[i].asSorting)),l.push({src:s,col:i,dir:d[t][1],index:d[t]._idx,type:o,formatter:Ge.ext.type.order[o+\"-pre\"]});return l}function De(e){var t,n,r,a,c,f=[],d=Ge.ext.type.order,h=e.aoData,i=(e.aoColumns,0),o=e.aiDisplayMaster;for(l(e),t=0,n=(c=Se(e)).length;t<n;t++)(a=c[t]).formatter&&i++,Ne(e,a.col);if(\"ssp\"!=qe(e)&&0!==c.length){for(t=0,r=o.length;t<r;t++)f[o[t]]=t;i===c.length?o.sort(function(e,t){var n,r,a,i,o,s=c.length,l=h[e]._aSortData,u=h[t]._aSortData;for(a=0;a<s;a++)if(0!==(i=(n=l[(o=c[a]).col])<(r=u[o.col])?-1:r<n?1:0))return\"asc\"===o.dir?i:-i;return(n=f[e])<(r=f[t])?-1:r<n?1:0}):o.sort(function(e,t){var n,r,a,i,o,s=c.length,l=h[e]._aSortData,u=h[t]._aSortData;for(a=0;a<s;a++)if(n=l[(o=c[a]).col],r=u[o.col],0!==(i=(d[o.type+\"-\"+o.dir]||d[\"string-\"+o.dir])(n,r)))return i;return(n=f[e])<(r=f[t])?-1:r<n?1:0})}e.bSorted=!0}function Te(e){for(var t,n,r=e.aoColumns,a=Se(e),i=e.oLanguage.oAria,o=0,s=r.length;o<s;o++){var l=r[o],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,\"\"),f=l.nTh;f.removeAttribute(\"aria-sort\"),l.bSortable?(0<a.length&&a[0].col==o?(f.setAttribute(\"aria-sort\",\"asc\"==a[0].dir?\"ascending\":\"descending\"),n=u[a[0].index+1]||u[0]):n=u[0],t=c+(\"asc\"===n?i.sSortAscending:i.sSortDescending)):t=c,f.setAttribute(\"aria-label\",t)}}function Ce(e,t,n,r){var a,i=e.aoColumns[t],o=e.aaSorting,s=i.asSorting,l=function(e,t){var n=e._idx;return n===$&&(n=B.inArray(e[1],s)),n+1<s.length?n+1:t?null:0};if(\"number\"==typeof o[0]&&(o=e.aaSorting=[o]),n&&e.oFeatures.bSortMulti){var u=B.inArray(t,st(o,\"0\"));-1!==u?(null===(a=l(o[u],!0))&&1===o.length&&(a=0),null===a?o.splice(u,1):(o[u][1]=s[a],o[u]._idx=a)):(o.push([t,s[0],0]),o[o.length-1]._idx=0)}else o.length&&o[0][0]==t?(a=l(o[0]),o.length=1,o[0][1]=s[a],o[0]._idx=a):(o.length=0,o.push([t,s[0]]),o[0]._idx=0);D(e),\"function\"==typeof r&&r(e)}function _e(t,e,n,r){var a=t.aoColumns[n];Fe(e,{},function(e){!1!==a.bSortable&&(t.oFeatures.bProcessing?(he(t,!0),setTimeout(function(){Ce(t,n,e.shiftKey,r),\"ssp\"!==qe(t)&&he(t,!1)},0)):Ce(t,n,e.shiftKey,r))})}function Ae(e){var t,n,r,a=e.aLastSort,i=e.oClasses.sSortColumn,o=Se(e),s=e.oFeatures;if(s.bSort&&s.bSortClasses){for(t=0,n=a.length;t<n;t++)r=a[t].src,B(st(e.aoData,\"anCells\",r)).removeClass(i+(t<2?t+1:3));for(t=0,n=o.length;t<n;t++)r=o[t].src,B(st(e.aoData,\"anCells\",r)).addClass(i+(t<2?t+1:3))}e.aLastSort=o}function Ne(e,t){var n,r,a,i=e.aoColumns[t],o=Ge.ext.order[i.sSortDataType];o&&(n=o.call(e.oInstance,e,t,c(e,t)));for(var s=Ge.ext.type.order[i.sType+\"-pre\"],l=0,u=e.aoData.length;l<u;l++)(r=e.aoData[l])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!o||(a=o?n[l]:g(e,l,t,\"sort\"),r._aSortData[t]=s?s(a):a)}function ke(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var e={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:B.extend(!0,[],n.aaSorting),search:te(n.oPreviousSearch),columns:B.map(n.aoColumns,function(e,t){return{visible:e.bVisible,search:te(n.aoPreSearchCols[t])}})};He(n,\"aoStateSaveParams\",\"stateSaveParams\",[n,e]),n.oSavedState=e,n.fnStateSaveCallback.call(n.oInstance,n,e)}}function Ie(a,e,i){var o,s,l=a.aoColumns,t=function(e){if(e&&e.time){var t=He(a,\"aoStateLoadParams\",\"stateLoadParams\",[a,e]);if(-1===B.inArray(!1,t)){var n=a.iStateDuration;if(0<n&&e.time<+new Date-1e3*n)i();else if(e.columns&&l.length!==e.columns.length)i();else{if(a.oLoadedState=B.extend(!0,{},e),e.start!==$&&(a._iDisplayStart=e.start,a.iInitDisplayStart=e.start),e.length!==$&&(a._iDisplayLength=e.length),e.order!==$&&(a.aaSorting=[],B.each(e.order,function(e,t){a.aaSorting.push(t[0]>=l.length?[0,t[1]]:t)})),e.search!==$&&B.extend(a.oPreviousSearch,ne(e.search)),e.columns)for(o=0,s=e.columns.length;o<s;o++){var r=e.columns[o];r.visible!==$&&(l[o].bVisible=r.visible),r.search!==$&&B.extend(a.aoPreSearchCols[o],ne(r.search))}He(a,\"aoStateLoaded\",\"stateLoaded\",[a,e]),i()}}else i()}else i()};if(a.oFeatures.bStateSave){var n=a.fnStateLoadCallback.call(a.oInstance,a,t);n!==$&&t(n)}else i()}function je(e){var t=Ge.settings,n=B.inArray(e,st(t,\"nTable\"));return-1!==n?t[n]:null}function Le(e,t,n,r){if(n=\"DataTables warning: \"+(e?\"table id=\"+e.sTableId+\" - \":\"\")+n,r&&(n+=\". For more information about this error, please see http://datatables.net/tn/\"+r),t)N.console&&console.log&&console.log(n);else{var a=Ge.ext,i=a.sErrMode||a.errMode;if(e&&He(e,null,\"error\",[e,r,n]),\"alert\"==i)alert(n);else{if(\"throw\"==i)throw new Error(n);\"function\"==typeof i&&i(e,r,n)}}}function Ee(n,r,e,t){B.isArray(e)?B.each(e,function(e,t){B.isArray(t)?Ee(n,r,t[0],t[1]):Ee(n,r,t)}):(t===$&&(t=e),r[e]!==$&&(n[t]=r[e]))}function Re(e,t,n){var r;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],B.isPlainObject(r)?(B.isPlainObject(e[a])||(e[a]={}),B.extend(!0,e[a],r)):n&&\"data\"!==a&&\"aaData\"!==a&&B.isArray(r)?e[a]=r.slice():e[a]=r);return e}function Fe(t,e,n){B(t).on(\"click.DT\",e,function(e){B(t).blur(),n(e)}).on(\"keypress.DT\",e,function(e){13===e.which&&(e.preventDefault(),n(e))}).on(\"selectstart.DT\",function(){return!1})}function Pe(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function He(t,e,n,r){var a=[];if(e&&(a=B.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==n){var i=B.Event(n+\".dt\");B(t.nTable).trigger(i,r),a.push(i.result)}return a}function Me(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;n<=t&&(t=n-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function Oe(e,t){var n=e.renderer,r=Ge.ext.renderer[t];return B.isPlainObject(n)&&n[t]?r[n[t]]||r._:\"string\"==typeof n&&r[n]||r._}function qe(e){return e.oFeatures.bServerSide?\"ssp\":e.ajax||e.sAjaxSource?\"ajax\":\"dom\"}function We(e,t){var n=[],r=$t.numbers_length,a=Math.floor(r/2);return t<=r?n=ut(0,t):e<=a?((n=ut(0,r-2)).push(\"ellipsis\"),n.push(t-1)):(t-1-a<=e?(n=ut(t-(r-2),t)).splice(0,0,\"ellipsis\"):((n=ut(e-a+2,e+a-1)).push(\"ellipsis\"),n.push(t-1),n.splice(0,0,\"ellipsis\")),n.splice(0,0,0)),n.DT_el=\"span\",n}function Be(n){B.each({num:function(e){return Ut(e,n)},\"num-fmt\":function(e){return Ut(e,n,et)},\"html-num\":function(e){return Ut(e,n,Ze)},\"html-num-fmt\":function(e){return Ut(e,n,Ze,et)}},function(e,t){Ue.type.order[e+n+\"-pre\"]=t,e.match(/^html\\-/)&&(Ue.type.search[e+n]=Ue.type.search.html)})}function $e(t){return function(){var e=[je(this[Ge.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ge.ext.internal[t].apply(this,e)}}var Ue,ze,Xe,Ve,Ge=function(D){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new ze(e?je(this[Ue.iApiIndex]):this)},this.fnAddData=function(e,t){var n=this.api(!0),r=B.isArray(e)&&(B.isArray(e[0])||B.isPlainObject(e[0]))?n.rows.add(e):n.row.add(e);return(t===$||t)&&n.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===$||e?t.draw(!1):\"\"===r.sX&&\"\"===r.sY||ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===$||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),a=r.rows(e),i=a.settings()[0],o=i.aoData[a[0][0]];return a.remove(),t&&t.call(this,i,o),(n===$||n)&&r.draw(),o},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,a,i){var o=this.api(!0);null===t||t===$?o.search(e,n,r,i):o.column(t).search(e,n,r,i),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e===$)return n.data().toArray();var r=e.nodeName?e.nodeName.toLowerCase():\"\";return t!==$||\"td\"==r||\"th\"==r?n.cell(e,t).data():n.row(e).data()||null},this.fnGetNodes=function(e){var t=this.api(!0);return e!==$?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if(\"TR\"==n)return t.row(e).index();if(\"TD\"!=n&&\"TH\"!=n)return null;var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===$||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===$||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return je(this[Ue.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,a){var i=this.api(!0);return n===$||null===n?i.row(t).data(e):i.cell(t,n).data(e),(a===$||a)&&i.columns.adjust(),(r===$||r)&&i.draw(),0},this.fnVersionCheck=Ue.fnVersionCheck;var T=this,C=D===$,_=this.length;for(var e in C&&(D={}),this.oApi=this.internal=Ue.internal,Ge.ext.internal)e&&(this[e]=$e(e));return this.each(function(){var i,o=1<_?Re({},D,!0):D,s=0,e=this.getAttribute(\"id\"),l=!1,t=Ge.defaults,u=B(this);if(\"table\"==this.nodeName.toLowerCase()){I(t),j(t.column),A(t,t,!0),A(t.column,t.column,!0),A(t,B.extend(o,u.data()),!0);var n=Ge.settings;for(s=0,i=n.length;s<i;s++){var r=n[s];if(r.nTable==this||r.nTHead&&r.nTHead.parentNode==this||r.nTFoot&&r.nTFoot.parentNode==this){var a=o.bRetrieve!==$?o.bRetrieve:t.bRetrieve,c=o.bDestroy!==$?o.bDestroy:t.bDestroy;if(C||a)return r.oInstance;if(c){r.oInstance.fnDestroy();break}return void Le(r,0,\"Cannot reinitialise DataTable\",3)}if(r.sTableId==this.id){n.splice(s,1);break}}null!==e&&\"\"!==e||(e=\"DataTables_Table_\"+Ge.ext._unique++,this.id=e);var f=B.extend(!0,{},Ge.models.oSettings,{sDestroyWidth:u[0].style.width,sInstance:e,sTableId:e});f.nTable=this,f.oApi=T.internal,f.oInit=o,n.push(f),f.oInstance=1===T.length?T:u.dataTable(),I(o),k(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=B.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=Re(B.extend(!0,{},t),o),Ee(f.oFeatures,o,[\"bPaginate\",\"bLengthChange\",\"bFilter\",\"bSort\",\"bSortMulti\",\"bInfo\",\"bProcessing\",\"bAutoWidth\",\"bSortClasses\",\"bServerSide\",\"bDeferRender\"]),Ee(f,o,[\"asStripeClasses\",\"ajax\",\"fnServerData\",\"fnFormatNumber\",\"sServerMethod\",\"aaSorting\",\"aaSortingFixed\",\"aLengthMenu\",\"sPaginationType\",\"sAjaxSource\",\"sAjaxDataProp\",\"iStateDuration\",\"sDom\",\"bSortCellsTop\",\"iTabIndex\",\"fnStateLoadCallback\",\"fnStateSaveCallback\",\"renderer\",\"searchDelay\",\"rowId\",[\"iCookieDuration\",\"iStateDuration\"],[\"oSearch\",\"oPreviousSearch\"],[\"aoSearchCols\",\"aoPreSearchCols\"],[\"iDisplayLength\",\"_iDisplayLength\"]]),Ee(f.oScroll,o,[[\"sScrollX\",\"sX\"],[\"sScrollXInner\",\"sXInner\"],[\"sScrollY\",\"sY\"],[\"bScrollCollapse\",\"bCollapse\"]]),Ee(f.oLanguage,o,\"fnInfoCallback\"),Pe(f,\"aoDrawCallback\",o.fnDrawCallback,\"user\"),Pe(f,\"aoServerParams\",o.fnServerParams,\"user\"),Pe(f,\"aoStateSaveParams\",o.fnStateSaveParams,\"user\"),Pe(f,\"aoStateLoadParams\",o.fnStateLoadParams,\"user\"),Pe(f,\"aoStateLoaded\",o.fnStateLoaded,\"user\"),Pe(f,\"aoRowCallback\",o.fnRowCallback,\"user\"),Pe(f,\"aoRowCreatedCallback\",o.fnCreatedRow,\"user\"),Pe(f,\"aoHeaderCallback\",o.fnHeaderCallback,\"user\"),Pe(f,\"aoFooterCallback\",o.fnFooterCallback,\"user\"),Pe(f,\"aoInitComplete\",o.fnInitComplete,\"user\"),Pe(f,\"aoPreDrawCallback\",o.fnPreDrawCallback,\"user\"),f.rowIdFn=q(o.rowId),L(f);var d=f.oClasses;if(B.extend(d,Ge.ext.classes,o.oClasses),u.addClass(d.sTable),f.iInitDisplayStart===$&&(f.iInitDisplayStart=o.iDisplayStart,f._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading){f.bDeferLoading=!0;var h=B.isArray(o.iDeferLoading);f._iRecordsDisplay=h?o.iDeferLoading[0]:o.iDeferLoading,f._iRecordsTotal=h?o.iDeferLoading[1]:o.iDeferLoading}var p=f.oLanguage;B.extend(!0,p,o.oLanguage),p.sUrl&&(B.ajax({dataType:\"json\",url:p.sUrl,success:function(e){k(e),A(t.oLanguage,e),B.extend(!0,p,e),oe(f)},error:function(){oe(f)}}),l=!0),null===o.asStripeClasses&&(f.asStripeClasses=[d.sStripeOdd,d.sStripeEven]);var g=f.asStripeClasses,m=u.children(\"tbody\").find(\"tr\").eq(0);-1!==B.inArray(!0,B.map(g,function(e){return m.hasClass(e)}))&&(B(\"tbody tr\",this).removeClass(g.join(\" \")),f.asDestroyStripes=g.slice());var v,y=[],b=this.getElementsByTagName(\"thead\");if(0!==b.length&&(W(f.aoHeader,b[0]),y=X(f)),null===o.aoColumns)for(v=[],s=0,i=y.length;s<i;s++)v.push(null);else v=o.aoColumns;for(s=0,i=v.length;s<i;s++)E(f,y?y[s]:null);if(H(f,o.aoColumnDefs,v,function(e,t){R(f,e,t)}),m.length){var w=function(e,t){return null!==e.getAttribute(\"data-\"+t)?t:null};B(m[0]).children(\"th, td\").each(function(e,t){var n=f.aoColumns[e];if(n.mData===e){var r=w(t,\"sort\")||w(t,\"order\"),a=w(t,\"filter\")||w(t,\"search\");null===r&&null===a||(n.mData={_:e+\".display\",sort:null!==r?e+\".@data-\"+r:$,type:null!==r?e+\".@data-\"+r:$,filter:null!==a?e+\".@data-\"+a:$},R(f,e))}})}var x=f.oFeatures,S=function(){if(o.aaSorting===$){var e=f.aaSorting;for(s=0,i=e.length;s<i;s++)e[s][1]=f.aoColumns[s].asSorting[0]}Ae(f),x.bSort&&Pe(f,\"aoDrawCallback\",function(){if(f.bSorted){var e=Se(f),n={};B.each(e,function(e,t){n[t.src]=t.dir}),He(f,null,\"order\",[f,e,n]),Te(f)}}),Pe(f,\"aoDrawCallback\",function(){(f.bSorted||\"ssp\"===qe(f)||x.bDeferRender)&&Ae(f)},\"sc\");var t=u.children(\"caption\").each(function(){this._captionSide=B(this).css(\"caption-side\")}),n=u.children(\"thead\");0===n.length&&(n=B(\"<thead/>\").appendTo(u)),f.nTHead=n[0];var r=u.children(\"tbody\");0===r.length&&(r=B(\"<tbody/>\").appendTo(u)),f.nTBody=r[0];var a=u.children(\"tfoot\");if(0===a.length&&0<t.length&&(\"\"!==f.oScroll.sX||\"\"!==f.oScroll.sY)&&(a=B(\"<tfoot/>\").appendTo(u)),0===a.length||0===a.children().length?u.addClass(d.sNoFooter):0<a.length&&(f.nTFoot=a[0],W(f.aoFooter,f.nTFoot)),o.aaData)for(s=0;s<o.aaData.length;s++)M(f,o.aaData[s]);else(f.bDeferLoading||\"dom\"==qe(f))&&O(f,B(f.nTBody).children(\"tr\"));f.aiDisplay=f.aiDisplayMaster.slice(),!(f.bInitialised=!0)===l&&oe(f)};o.bStateSave?(x.bStateSave=!0,Pe(f,\"aoDrawCallback\",ke,\"state_save\"),Ie(f,o,S)):S()}else Le(null,0,\"Non-table node initialisation (\"+this.nodeName+\")\",2)}),T=null,this},Je={},Ye=/[\\r\\n\\u2028]/g,Ze=/<.*?>/g,Ke=/^\\d{2,4}[\\.\\/\\-]\\d{1,2}[\\.\\/\\-]\\d{1,2}([T ]{1}\\d{1,2}[:\\.]\\d{2}([\\.:]\\d{2})?)?$/,Qe=new RegExp(\"(\\\\\"+[\"/\",\".\",\"*\",\"+\",\"?\",\"|\",\"(\",\")\",\"[\",\"]\",\"{\",\"}\",\"\\\\\",\"$\",\"^\",\"-\"].join(\"|\\\\\")+\")\",\"g\"),et=/[',$\\xa3\\u20ac\\xa5%\\u2009\\u202F\\u20BD\\u20a9\\u20BArfk\\u0243\\u039e]/gi,tt=function(e){return!e||!0===e||\"-\"===e},nt=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},rt=function(e,t){return Je[t]||(Je[t]=new RegExp(vt(t),\"g\")),\"string\"==typeof e&&\".\"!==t?e.replace(/\\./g,\"\").replace(Je[t],\".\"):e},at=function(e,t,n){var r=\"string\"==typeof e;return!!tt(e)||(t&&r&&(e=rt(e,t)),n&&r&&(e=e.replace(et,\"\")),!isNaN(parseFloat(e))&&isFinite(e))},it=function(e){return tt(e)||\"string\"==typeof e},ot=function(e,t,n){return!!tt(e)||(it(e)&&!!at(ft(e),t,n)||null)},st=function(e,t,n){var r=[],a=0,i=e.length;if(n!==$)for(;a<i;a++)e[a]&&e[a][t]&&r.push(e[a][t][n]);else for(;a<i;a++)e[a]&&r.push(e[a][t]);return r},lt=function(e,t,n,r){var a=[],i=0,o=t.length;if(r!==$)for(;i<o;i++)e[t[i]][n]&&a.push(e[t[i]][n][r]);else for(;i<o;i++)a.push(e[t[i]][n]);return a},ut=function(e,t){var n,r=[];t===$?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)r.push(a);return r},ct=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},ft=function(e){return e.replace(Ze,\"\")},dt=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],r=1,a=t.length;r<a;r++){if(t[r]===n)return!1;n=t[r]}return!0},ht=function(e){if(dt(e))return e.slice();var t,n,r,a=[],i=e.length,o=0;e:for(n=0;n<i;n++){for(t=e[n],r=0;r<o;r++)if(a[r]===t)continue e;a.push(t),o++}return a};Ge.util={throttle:function(r,e){var a,i,o=e!==$?e:200;return function(){var e=this,t=+new Date,n=arguments;a&&t<a+o?(clearTimeout(i),i=setTimeout(function(){a=$,r.apply(e,n)},o)):(a=t,r.apply(e,n))}},escapeRegex:function(e){return e.replace(Qe,\"\\\\$1\")}};var pt=function(e,t,n){e[t]!==$&&(e[n]=e[t])},gt=/\\[.*?\\]$/,mt=/\\(\\)$/,vt=Ge.util.escapeRegex,yt=B(\"<div>\")[0],bt=yt.textContent!==$,wt=/<.*?>/g,xt=Ge.util.throttle,St=[],Dt=Array.prototype,Tt=function(e){var t,n,r=Ge.settings,a=B.map(r,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&\"table\"===e.nodeName.toLowerCase()?-1!==(t=B.inArray(e,a))?[r[t]]:null:e&&\"function\"==typeof e.settings?e.settings().toArray():(\"string\"==typeof e?n=B(e):e instanceof B&&(n=e),n?n.map(function(){return-1!==(t=B.inArray(this,a))?r[t]:null}).toArray():void 0):[]};ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);var n=[],r=function(e){var t=Tt(e);t&&n.push.apply(n,t)};if(B.isArray(e))for(var a=0,i=e.length;a<i;a++)r(e[a]);else r(e);this.context=ht(n),t&&B.merge(this,t),this.selector={rows:null,cols:null,opts:null},ze.extend(this,this,St)},Ge.Api=ze,B.extend(ze.prototype,{any:function(){return 0!==this.count()},concat:Dt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new ze(t[e],this[e]):null},filter:function(e){var t=[];if(Dt.filter)t=Dt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new ze(this.context,t)},flatten:function(){var e=[];return new ze(this.context,e.concat.apply(e,this.toArray()))},join:Dt.join,indexOf:Dt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var a,i,o,s,l,u,c,f,d=[],h=this.context,p=this.selector;for(\"string\"==typeof e&&(r=n,n=t,t=e,e=!1),i=0,o=h.length;i<o;i++){var g=new ze(h[i]);if(\"table\"===t)(a=n.call(g,h[i],i))!==$&&d.push(a);else if(\"columns\"===t||\"rows\"===t)(a=n.call(g,h[i],this[i],i))!==$&&d.push(a);else if(\"column\"===t||\"column-rows\"===t||\"row\"===t||\"cell\"===t)for(c=this[i],\"column-rows\"===t&&(u=It(h[i],p.opts)),s=0,l=c.length;s<l;s++)f=c[s],(a=\"cell\"===t?n.call(g,h[i],f.row,f.column,i,s):n.call(g,h[i],f,i,s,u))!==$&&d.push(a)}if(d.length||r){var m=new ze(h,e?d.concat.apply([],d):d),v=m.selector;return v.rows=p.rows,v.cols=p.cols,v.opts=p.opts,m}return this},lastIndexOf:Dt.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Dt.map)t=Dt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new ze(this.context,t)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Dt.pop,push:Dt.push,reduce:Dt.reduce||function(e,t){return n(this,e,t,0,this.length,1)},reduceRight:Dt.reduceRight||function(e,t){return n(this,e,t,this.length-1,-1,-1)},reverse:Dt.reverse,selector:null,shift:Dt.shift,slice:function(){return new ze(this.context,this)},sort:Dt.sort,splice:Dt.splice,toArray:function(){return Dt.slice.call(this)},to$:function(){return B(this)},toJQuery:function(){return B(this)},unique:function(){return new ze(this.context,ht(this))},unshift:Dt.unshift}),ze.extend=function(e,t,n){if(n.length&&t&&(t instanceof ze||t.__dt_wrapper)){var r,a,i,o=function(t,n,r){return function(){var e=n.apply(t,arguments);return ze.extend(e,e,r.methodExt),e}};for(r=0,a=n.length;r<a;r++)t[(i=n[r]).name]=\"function\"===i.type?o(e,i.val,i):\"object\"===i.type?{}:i.val,t[i.name].__dt_wrapper=!0,ze.extend(e,t[i.name],i.propExt)}},ze.register=Xe=function(e,t){if(\n    6: B.isArray(e))for(var n=0,r=e.length;n<r;n++)ze.register(e[n],t);else{var a,i,o,s,l=e.split(\".\"),u=St,c=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(a=0,i=l.length;a<i;a++){var f=c(u,o=(s=-1!==l[a].indexOf(\"()\"))?l[a].replace(\"()\",\"\"):l[a]);f||(f={name:o,val:{},methodExt:[],propExt:[],type:\"object\"},u.push(f)),a===i-1?(f.val=t,f.type=\"function\"==typeof t?\"function\":B.isPlainObject(t)?\"object\":\"other\"):u=s?f.methodExt:f.propExt}}},ze.registerPlural=Ve=function(e,t,n){ze.register(e,n),ze.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof ze?e.length?B.isArray(e[0])?new ze(e.context,e[0]):e[0]:$:e})};var Ct=function(e,t){if(\"number\"==typeof e)return[t[e]];var n=B.map(t,function(e){return e.nTable});return B(n).filter(e).map(function(){var e=B.inArray(this,n);return t[e]}).toArray()};Xe(\"tables()\",function(e){return e?new ze(Ct(e,this.context)):this}),Xe(\"table()\",function(e){var t=this.tables(e),n=t.context;return n.length?new ze(n[0]):t}),Ve(\"tables().nodes()\",\"table().node()\",function(){return this.iterator(\"table\",function(e){return e.nTable},1)}),Ve(\"tables().body()\",\"table().body()\",function(){return this.iterator(\"table\",function(e){return e.nTBody},1)}),Ve(\"tables().header()\",\"table().header()\",function(){return this.iterator(\"table\",function(e){return e.nTHead},1)}),Ve(\"tables().footer()\",\"table().footer()\",function(){return this.iterator(\"table\",function(e){return e.nTFoot},1)}),Ve(\"tables().containers()\",\"table().container()\",function(){return this.iterator(\"table\",function(e){return e.nTableWrapper},1)}),Xe(\"draw()\",function(t){return this.iterator(\"table\",function(e){\"page\"===t?b(e):(\"string\"==typeof t&&(t=\"full-hold\"!==t),D(e,!1===t))})}),Xe(\"page()\",function(t){return t===$?this.page.info().page:this.iterator(\"table\",function(e){fe(e,t)})}),Xe(\"page.info()\",function(){if(0===this.context.length)return $;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),a=-1===n;return{page:a?0:Math.floor(t/n),pages:a?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:\"ssp\"===qe(e)}}),Xe(\"page.len()\",function(t){return t===$?0!==this.context.length?this.context[0]._iDisplayLength:$:this.iterator(\"table\",function(e){le(e,t)})});var _t=function(a,i,e){if(e){var t=new ze(a);t.one(\"draw\",function(){e(t.ajax.json())})}if(\"ssp\"==qe(a))D(a,i);else{he(a,!0);var n=a.jqXHR;n&&4!==n.readyState&&n.abort(),C(a,[],function(e){u(a);for(var t=V(a,e),n=0,r=t.length;n<r;n++)M(a,t[n]);D(a,i),he(a,!1)})}};Xe(\"ajax.json()\",function(){var e=this.context;if(0<e.length)return e[0].json}),Xe(\"ajax.params()\",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),Xe(\"ajax.reload()\",function(t,n){return this.iterator(\"table\",function(e){_t(e,!1===n,t)})}),Xe(\"ajax.url()\",function(t){var e=this.context;return t===$?0===e.length?$:(e=e[0]).ajax?B.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource:this.iterator(\"table\",function(e){B.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Xe(\"ajax.url().load()\",function(t,n){return this.iterator(\"table\",function(e){_t(e,!1===n,t)})});var At=function(e,t,n,r,a){var i,o,s,l,u,c,f=[],d=typeof t;for(t&&\"string\"!==d&&\"function\"!==d&&t.length!==$||(t=[t]),s=0,l=t.length;s<l;s++)for(u=0,c=(o=t[s]&&t[s].split&&!t[s].match(/[\\[\\(:]/)?t[s].split(\",\"):[t[s]]).length;u<c;u++)(i=n(\"string\"==typeof o[u]?B.trim(o[u]):o[u]))&&i.length&&(f=f.concat(i));var h=Ue.selector[e];if(h.length)for(s=0,l=h.length;s<l;s++)f=h[s](r,a,f);return ht(f)},Nt=function(e){return e||(e={}),e.filter&&e.search===$&&(e.search=e.filter),B.extend({search:\"none\",order:\"current\",page:\"all\"},e)},kt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},It=function(e,t){var n,r=[],a=e.aiDisplay,i=e.aiDisplayMaster,o=t.search,s=t.order,l=t.page;if(\"ssp\"==qe(e))return\"removed\"===o?[]:ut(0,i.length);if(\"current\"==l)for(c=e._iDisplayStart,f=e.fnDisplayEnd();c<f;c++)r.push(a[c]);else if(\"current\"==s||\"applied\"==s){if(\"none\"==o)r=i.slice();else if(\"applied\"==o)r=a.slice();else if(\"removed\"==o){for(var u={},c=0,f=a.length;c<f;c++)u[a[c]]=null;r=B.map(i,function(e){return u.hasOwnProperty(e)?null:e})}}else if(\"index\"==s||\"original\"==s)for(c=0,f=e.aoData.length;c<f;c++)\"none\"==o?r.push(c):(-1===(n=B.inArray(c,a))&&\"removed\"==o||0<=n&&\"applied\"==o)&&r.push(c);return r},jt=function(l,e,u){var c;return At(\"row\",e,function(n){var e=nt(n),r=l.aoData;if(null!==e&&!u)return[e];if(c||(c=It(l,u)),null!==e&&-1!==B.inArray(e,c))return[e];if(null===n||n===$||\"\"===n)return c;if(\"function\"==typeof n)return B.map(c,function(e){var t=r[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var t=n._DT_RowIndex,a=n._DT_CellIndex;if(t!==$)return r[t]&&r[t].nTr===n?[t]:[];if(a)return r[a.row]&&r[a.row].nTr===n.parentNode?[a.row]:[];var i=B(n).closest(\"*[data-dt-row]\");return i.length?[i.data(\"dt-row\")]:[]}if(\"string\"==typeof n&&\"#\"===n.charAt(0)){var o=l.aIds[n.replace(/^#/,\"\")];if(o!==$)return[o.idx]}var s=ct(lt(l.aoData,c,\"nTr\"));return B(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()},l,u)};Xe(\"rows()\",function(t,n){t===$?t=\"\":B.isPlainObject(t)&&(n=t,t=\"\"),n=Nt(n);var e=this.iterator(\"table\",function(e){return jt(e,t,n)},1);return e.selector.rows=t,e.selector.opts=n,e}),Xe(\"rows().nodes()\",function(){return this.iterator(\"row\",function(e,t){return e.aoData[t].nTr||$},1)}),Xe(\"rows().data()\",function(){return this.iterator(!0,\"rows\",function(e,t){return lt(e.aoData,t,\"_aData\")},1)}),Ve(\"rows().cache()\",\"row().cache()\",function(r){return this.iterator(\"row\",function(e,t){var n=e.aoData[t];return\"search\"===r?n._aFilterData:n._aSortData},1)}),Ve(\"rows().invalidate()\",\"row().invalidate()\",function(n){return this.iterator(\"row\",function(e,t){a(e,t,n)})}),Ve(\"rows().indexes()\",\"row().index()\",function(){return this.iterator(\"row\",function(e,t){return t},1)}),Ve(\"rows().ids()\",\"row().id()\",function(e){for(var t=[],n=this.context,r=0,a=n.length;r<a;r++)for(var i=0,o=this[r].length;i<o;i++){var s=n[r].rowIdFn(n[r].aoData[this[r][i]]._aData);t.push((!0===e?\"#\":\"\")+s)}return new ze(n,t)}),Ve(\"rows().remove()\",\"row().remove()\",function(){var d=this;return this.iterator(\"row\",function(e,t,n){var r,a,i,o,s,l,u=e.aoData,c=u[t];for(u.splice(t,1),r=0,a=u.length;r<a;r++)if(l=(s=u[r]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=r),null!==l)for(i=0,o=l.length;i<o;i++)l[i]._DT_CellIndex.row=r;h(e.aiDisplayMaster,t),h(e.aiDisplay,t),h(d[n],t,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,Me(e);var f=e.rowIdFn(c._aData);f!==$&&delete e.aIds[f]}),this.iterator(\"table\",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),Xe(\"rows.add()\",function(i){var e=this.iterator(\"table\",function(e){var t,n,r,a=[];for(n=0,r=i.length;n<r;n++)(t=i[n]).nodeName&&\"TR\"===t.nodeName.toUpperCase()?a.push(O(e,t)[0]):a.push(M(e,t));return a},1),t=this.rows(-1);return t.pop(),B.merge(t,e),t}),Xe(\"row()\",function(e,t){return kt(this.rows(e,t))}),Xe(\"row().data()\",function(e){var t=this.context;if(e===$)return t.length&&this.length?t[0].aoData[this[0]]._aData:$;var n=t[0].aoData[this[0]];return n._aData=e,B.isArray(e)&&n.nTr.id&&y(t[0].rowId)(e,n.nTr.id),a(t[0],this[0],\"data\"),this}),Xe(\"row().node()\",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),Xe(\"row.add()\",function(t){t instanceof B&&t.length&&(t=t[0]);var e=this.iterator(\"table\",function(e){return t.nodeName&&\"TR\"===t.nodeName.toUpperCase()?O(e,t)[0]:M(e,t)});return this.row(e[0])});var Lt=function(i,e,t,n){var o=[],s=function(e,t){if(B.isArray(e)||e instanceof B)for(var n=0,r=e.length;n<r;n++)s(e[n],t);else if(e.nodeName&&\"tr\"===e.nodeName.toLowerCase())o.push(e);else{var a=B(\"<tr><td/></tr>\").addClass(t);B(\"td\",a).addClass(t).html(e)[0].colSpan=F(i),o.push(a[0])}};s(t,n),e._details&&e._details.detach(),e._details=B(o),e._detailsShow&&e._details.insertAfter(e.nTr)},Et=function(e,t){var n=e.context;if(n.length){var r=n[0].aoData[t!==$?t:e[0]];r&&r._details&&(r._details.remove(),r._detailsShow=$,r._details=$)}},Rt=function(e,t){var n=e.context;if(n.length&&e.length){var r=n[0].aoData[e[0]];r._details&&((r._detailsShow=t)?r._details.insertAfter(r.nTr):r._details.detach(),Ft(n[0]))}},Ft=function(o){var a=new ze(o),e=\".dt.DT_details\",t=\"draw\"+e,n=\"column-visibility\"+e,r=\"destroy\"+e,s=o.aoData;a.off(t+\" \"+n+\" \"+r),0<st(s,\"_details\").length&&(a.on(t,function(e,t){o===t&&a.rows({page:\"current\"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),a.on(n,function(e,t){if(o===t)for(var n,r=F(t),a=0,i=s.length;a<i;a++)(n=s[a])._details&&n._details.children(\"td[colspan]\").attr(\"colspan\",r)}),a.on(r,function(e,t){if(o===t)for(var n=0,r=s.length;n<r;n++)s[n]._details&&Et(a,n)}))},Pt=\"\"+\"row().child\",Ht=Pt+\"()\";Xe(Ht,function(e,t){var n=this.context;return e===$?n.length&&this.length?n[0].aoData[this[0]]._details:$:(!0===e?this.child.show():!1===e?Et(this):n.length&&this.length&&Lt(n[0],n[0].aoData[this[0]],e,t),this)}),Xe([Pt+\".show()\",Ht+\".show()\"],function(){return Rt(this,!0),this}),Xe([Pt+\".hide()\",Ht+\".hide()\"],function(){return Rt(this,!1),this}),Xe([Pt+\".remove()\",Ht+\".remove()\"],function(){return Et(this),this}),Xe(Pt+\".isShown()\",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Mt=/^([^:]+):(name|visIdx|visible)$/,Ot=function(e,t,n,r,a){for(var i=[],o=0,s=a.length;o<s;o++)i.push(g(e,a[o],t));return i},qt=function(l,e,u){var c=l.aoColumns,f=st(c,\"sName\"),d=st(c,\"nTh\");return At(\"column\",e,function(n){var e=nt(n);if(\"\"===n)return ut(c.length);if(null!==e)return[0<=e?e:c.length+e];if(\"function\"==typeof n){var r=It(l,u);return B.map(c,function(e,t){return n(t,Ot(l,t,0,0,r),d[t])?t:null})}var a=\"string\"==typeof n?n.match(Mt):\"\";if(a)switch(a[2]){case\"visIdx\":case\"visible\":var t=parseInt(a[1],10);if(t<0){var i=B.map(c,function(e,t){return e.bVisible?t:null});return[i[i.length+t]]}return[z(l,t)];case\"name\":return B.map(f,function(e,t){return e===a[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var o=B(d).filter(n).map(function(){return B.inArray(this,d)}).toArray();if(o.length||!n.nodeName)return o;var s=B(n).closest(\"*[data-dt-column]\");return s.length?[s.data(\"dt-column\")]:[]},l,u)},Wt=function(e,t,n){var r,a,i,o,s=e.aoColumns,l=s[t],u=e.aoData;if(n===$)return l.bVisible;if(l.bVisible!==n){if(n){var c=B.inArray(!0,st(s,\"bVisible\"),t+1);for(a=0,i=u.length;a<i;a++)o=u[a].nTr,r=u[a].anCells,o&&o.insertBefore(r[t],r[c]||null)}else B(st(e.aoData,\"anCells\",t)).detach();l.bVisible=n}};Xe(\"columns()\",function(t,n){t===$?t=\"\":B.isPlainObject(t)&&(n=t,t=\"\"),n=Nt(n);var e=this.iterator(\"table\",function(e){return qt(e,t,n)},1);return e.selector.cols=t,e.selector.opts=n,e}),Ve(\"columns().header()\",\"column().header()\",function(){return this.iterator(\"column\",function(e,t){return e.aoColumns[t].nTh},1)}),Ve(\"columns().footer()\",\"column().footer()\",function(){return this.iterator(\"column\",function(e,t){return e.aoColumns[t].nTf},1)}),Ve(\"columns().data()\",\"column().data()\",function(){return this.iterator(\"column-rows\",Ot,1)}),Ve(\"columns().dataSrc()\",\"column().dataSrc()\",function(){return this.iterator(\"column\",function(e,t){return e.aoColumns[t].mData},1)}),Ve(\"columns().cache()\",\"column().cache()\",function(i){return this.iterator(\"column-rows\",function(e,t,n,r,a){return lt(e.aoData,a,\"search\"===i?\"_aFilterData\":\"_aSortData\",t)},1)}),Ve(\"columns().nodes()\",\"column().nodes()\",function(){return this.iterator(\"column-rows\",function(e,t,n,r,a){return lt(e.aoData,a,\"anCells\",t)},1)}),Ve(\"columns().visible()\",\"column().visible()\",function(n,r){var t=this,e=this.iterator(\"column\",function(e,t){if(n===$)return e.aoColumns[t].bVisible;Wt(e,t,n)});return n!==$&&this.iterator(\"table\",function(e){v(e,e.aoHeader),v(e,e.aoFooter),e.aiDisplay.length||B(e.nTBody).find(\"td[colspan]\").attr(\"colspan\",F(e)),ke(e),t.iterator(\"column\",function(e,t){He(e,null,\"column-visibility\",[e,t,n,r])}),(r===$||r)&&t.columns.adjust()}),e}),Ve(\"columns().indexes()\",\"column().index()\",function(n){return this.iterator(\"column\",function(e,t){return\"visible\"===n?c(e,t):t},1)}),Xe(\"columns.adjust()\",function(){return this.iterator(\"table\",function(e){U(e)},1)}),Xe(\"column.index()\",function(e,t){if(0!==this.context.length){var n=this.context[0];if(\"fromVisible\"===e||\"toData\"===e)return z(n,t);if(\"fromData\"===e||\"toVisible\"===e)return c(n,t)}}),Xe(\"column()\",function(e,t){return kt(this.columns(e,t))});var Bt=function(r,e,t){var a,i,o,s,l,u,c,f=r.aoData,d=It(r,t),n=ct(lt(f,d,\"anCells\")),h=B([].concat.apply([],n)),p=r.aoColumns.length;return At(\"cell\",e,function(e){var t=\"function\"==typeof e;if(null===e||e===$||t){for(i=[],o=0,s=d.length;o<s;o++)for(a=d[o],l=0;l<p;l++)u={row:a,column:l},t?(c=f[a],e(u,g(r,a,l),c.anCells?c.anCells[l]:null)&&i.push(u)):i.push(u);return i}if(B.isPlainObject(e))return e.column!==$&&e.row!==$&&-1!==B.inArray(e.row,d)?[e]:[];var n=h.filter(e).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return n.length||!e.nodeName?n:(c=B(e).closest(\"*[data-dt-row]\")).length?[{row:c.data(\"dt-row\"),column:c.data(\"dt-column\")}]:[]},r,t)};Xe(\"cells()\",function(t,e,n){if(B.isPlainObject(t)&&(t.row===$?(n=t,t=null):(n=e,e=null)),B.isPlainObject(e)&&(n=e,e=null),null===e||e===$)return this.iterator(\"table\",function(e){return Bt(e,t,Nt(n))});var r,a,i,o,s=n?{page:n.page,order:n.order,search:n.search}:{},l=this.columns(e,s),u=this.rows(t,s),c=this.iterator(\"table\",function(e,t){var n=[];for(r=0,a=u[t].length;r<a;r++)for(i=0,o=l[t].length;i<o;i++)n.push({row:u[t][r],column:l[t][i]});return n},1),f=n&&n.selected?this.cells(c,n):c;return B.extend(f.selector,{cols:e,rows:t,opts:n}),f}),Ve(\"cells().nodes()\",\"cell().node()\",function(){return this.iterator(\"cell\",function(e,t,n){var r=e.aoData[t];return r&&r.anCells?r.anCells[n]:$},1)}),Xe(\"cells().data()\",function(){return this.iterator(\"cell\",function(e,t,n){return g(e,t,n)},1)}),Ve(\"cells().cache()\",\"cell().cache()\",function(r){return r=\"search\"===r?\"_aFilterData\":\"_aSortData\",this.iterator(\"cell\",function(e,t,n){return e.aoData[t][r][n]},1)}),Ve(\"cells().render()\",\"cell().render()\",function(r){return this.iterator(\"cell\",function(e,t,n){return g(e,t,n,r)},1)}),Ve(\"cells().indexes()\",\"cell().index()\",function(){return this.iterator(\"cell\",function(e,t,n){return{row:t,column:n,columnVisible:c(e,n)}},1)}),Ve(\"cells().invalidate()\",\"cell().invalidate()\",function(r){return this.iterator(\"cell\",function(e,t,n){a(e,t,r,n)})}),Xe(\"cell()\",function(e,t,n){return kt(this.cells(e,t,n))}),Xe(\"cell().data()\",function(e){var t=this.context,n=this[0];return e===$?t.length&&n.length?g(t[0],n[0].row,n[0].column):$:(r(t[0],n[0].row,n[0].column,e),a(t[0],n[0].row,\"data\",n[0].column),this)}),Xe(\"order()\",function(t,e){var n=this.context;return t===$?0!==n.length?n[0].aaSorting:$:(\"number\"==typeof t?t=[[t,e]]:t.length&&!B.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator(\"table\",function(e){e.aaSorting=t.slice()}))}),Xe(\"order.listener()\",function(t,n,r){return this.iterator(\"table\",function(e){_e(e,t,n,r)})}),Xe(\"order.fixed()\",function(t){if(t)return this.iterator(\"table\",function(e){e.aaSortingFixed=B.extend(!0,{},t)});var e=this.context,n=e.length?e[0].aaSortingFixed:$;return B.isArray(n)?{pre:n}:n}),Xe([\"columns().order()\",\"column().order()\"],function(r){var a=this;return this.iterator(\"table\",function(e,t){var n=[];B.each(a[t],function(e,t){n.push([t,r])}),e.aaSorting=n})}),Xe(\"search()\",function(t,n,r,a){var e=this.context;return t===$?0!==e.length?e[0].oPreviousSearch.sSearch:$:this.iterator(\"table\",function(e){e.oFeatures.bFilter&&J(e,B.extend({},e.oPreviousSearch,{sSearch:t+\"\",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===a||a}),1)})}),Ve(\"columns().search()\",\"column().search()\",function(r,a,i,o){return this.iterator(\"column\",function(e,t){var n=e.aoPreSearchCols;if(r===$)return n[t].sSearch;e.oFeatures.bFilter&&(B.extend(n[t],{sSearch:r+\"\",bRegex:null!==a&&a,bSmart:null===i||i,bCaseInsensitive:null===o||o}),J(e,e.oPreviousSearch,1))})}),Xe(\"state()\",function(){return this.context.length?this.context[0].oSavedState:null}),Xe(\"state.clear()\",function(){return this.iterator(\"table\",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Xe(\"state.loaded()\",function(){return this.context.length?this.context[0].oLoadedState:null}),Xe(\"state.save()\",function(){return this.iterator(\"table\",function(e){ke(e)})}),Ge.versionCheck=Ge.fnVersionCheck=function(e){for(var t,n,r=Ge.version.split(\".\"),a=e.split(\".\"),i=0,o=a.length;i<o;i++)if((t=parseInt(r[i],10)||0)!==(n=parseInt(a[i],10)||0))return n<t;return!0},Ge.isDataTable=Ge.fnIsDataTable=function(e){var a=B(e).get(0),i=!1;return e instanceof Ge.Api||(B.each(Ge.settings,function(e,t){var n=t.nScrollHead?B(\"table\",t.nScrollHead)[0]:null,r=t.nScrollFoot?B(\"table\",t.nScrollFoot)[0]:null;t.nTable!==a&&n!==a&&r!==a||(i=!0)}),i)},Ge.tables=Ge.fnTables=function(t){var e=!1;B.isPlainObject(t)&&(e=t.api,t=t.visible);var n=B.map(Ge.settings,function(e){if(!t||t&&B(e.nTable).is(\":visible\"))return e.nTable});return e?new ze(n):n},Ge.camelToHungarian=A,Xe(\"$()\",function(e,t){var n=this.rows(t).nodes(),r=B(n);return B([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),B.each([\"on\",\"one\",\"off\"],function(e,n){Xe(n+\"()\",function(){var e=Array.prototype.slice.call(arguments);e[0]=B.map(e[0].split(/\\s/),function(e){return e.match(/\\.dt\\b/)?e:e+\".dt\"}).join(\" \");var t=B(this.tables().nodes());return t[n].apply(t,e),this})}),Xe(\"clear()\",function(){return this.iterator(\"table\",function(e){u(e)})}),Xe(\"settings()\",function(){return new ze(this.context,this.context)}),Xe(\"init()\",function(){var e=this.context;return e.length?e[0].oInit:null}),Xe(\"data()\",function(){return this.iterator(\"table\",function(e){return st(e.aoData,\"_aData\")}).flatten()}),Xe(\"destroy()\",function(p){return p=p||!1,this.iterator(\"table\",function(t){var n,e=t.nTableWrapper.parentNode,r=t.oClasses,a=t.nTable,i=t.nTBody,o=t.nTHead,s=t.nTFoot,l=B(a),u=B(i),c=B(t.nTableWrapper),f=B.map(t.aoData,function(e){return e.nTr});t.bDestroying=!0,He(t,\"aoDestroyCallback\",\"destroy\",[t]),p||new ze(t).columns().visible(!0),c.off(\".DT\").find(\":not(tbody *)\").off(\".DT\"),B(N).off(\".DT-\"+t.sInstance),a!=o.parentNode&&(l.children(\"thead\").detach(),l.append(o)),s&&a!=s.parentNode&&(l.children(\"tfoot\").detach(),l.append(s)),t.aaSorting=[],t.aaSortingFixed=[],Ae(t),B(f).removeClass(t.asStripeClasses.join(\" \")),B(\"th, td\",o).removeClass(r.sSortable+\" \"+r.sSortableAsc+\" \"+r.sSortableDesc+\" \"+r.sSortableNone),u.children().detach(),u.append(f);var d=p?\"remove\":\"detach\";l[d](),c[d](),!p&&e&&(e.insertBefore(a,t.nTableReinsertBefore),l.css(\"width\",t.sDestroyWidth).removeClass(r.sTable),(n=t.asDestroyStripes.length)&&u.children().each(function(e){B(this).addClass(t.asDestroyStripes[e%n])}));var h=B.inArray(t,Ge.settings);-1!==h&&Ge.settings.splice(h,1)})}),B.each([\"column\",\"row\",\"cell\"],function(e,l){Xe(l+\"s().every()\",function(i){var o=this.selector.opts,s=this;return this.iterator(l,function(e,t,n,r,a){i.call(s[l](t,\"cell\"===l?n:o,\"cell\"===l?o:$),t,n,r,a)})})}),Xe(\"i18n()\",function(e,t,n){var r=this.context[0],a=q(e)(r.oLanguage);return a===$&&(a=t),n!==$&&B.isPlainObject(a)&&(a=a[n]!==$?a[n]:a._),a.replace(\"%d\",n)}),Ge.version=\"1.10.20\",Ge.settings=[],Ge.models={},Ge.models.oSearch={bCaseInsensitive:!0,sSearch:\"\",bRegex:!1,bSmart:!0},Ge.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:\"\",src:null,idx:-1},Ge.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:\"std\",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ge.defaults={aaData:null,aaSorting:[[0,\"asc\"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem(\"DataTables_\"+e.sInstance+\"_\"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem(\"DataTables_\"+e.sInstance+\"_\"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:\": activate to sort column ascending\",sSortDescending:\": activate to sort column descending\"},oPaginate:{sFirst:\"First\",sLast:\"Last\",sNext:\"Next\",sPrevious:\"Previous\"},sEmptyTable:\"No data available in table\",sInfo:\"Showing _START_ to _END_ of _TOTAL_ entries\",sInfoEmpty:\"Showing 0 to 0 of 0 entries\",sInfoFiltered:\"(filtered from _MAX_ total entries)\",sInfoPostFix:\"\",sDecimal:\"\",sThousands:\",\",sLengthMenu:\"Show _MENU_ entries\",sLoadingRecords:\"Loading...\",sProcessing:\"Processing...\",sSearch:\"Search:\",sSearchPlaceholder:\"\",sUrl:\"\",sZeroRecords:\"No matching records found\"},oSearch:B.extend({},Ge.models.oSearch),sAjaxDataProp:\"data\",sAjaxSource:null,sDom:\"lfrtip\",searchDelay:null,sPaginationType:\"simple_numbers\",sScrollX:\"\",sScrollXInner:\"\",sScrollY:\"\",sServerMethod:\"GET\",renderer:null,rowId:\"DT_RowId\"},o(Ge.defaults),Ge.defaults.column={aDataSort:null,iDataSort:-1,asSorting:[\"asc\",\"desc\"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:\"td\",sClass:\"\",sContentPadding:\"\",sDefaultContent:null,sName:\"\",sSortDataType:\"std\",sTitle:null,sType:null,sWidth:null},o(Ge.defaults.column),Ge.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:\"\",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:\"two_button\",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:$,oAjaxData:$,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return\"ssp\"==qe(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return\"ssp\"==qe(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,a=this.oFeatures,i=a.bPaginate;return a.bServerSide?!1===i||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!i||r<n||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ge.ext=Ue={buttons:{},classes:{},build:\"dt/dt-1.10.20\",errMode:\"alert\",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ge.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ge.version},B.extend(Ue,{afnFiltering:Ue.search,aTypes:Ue.type.detect,ofnSearch:Ue.type.search,oSort:Ue.type.order,afnSortData:Ue.order,aoFeatures:Ue.feature,oApi:Ue.internal,oStdClasses:Ue.classes,oPagination:Ue.pager}),B.extend(Ge.ext.classes,{sTable:\"dataTable\",sNoFooter:\"no-footer\",sPageButton:\"paginate_button\",sPageButtonActive:\"current\",sPageButtonDisabled:\"disabled\",sStripeOdd:\"odd\",sStripeEven:\"even\",sRowEmpty:\"dataTables_empty\",sWrapper:\"dataTables_wrapper\",sFilter:\"dataTables_filter\",sInfo:\"dataTables_info\",sPaging:\"dataTables_paginate paging_\",sLength:\"dataTables_length\",sProcessing:\"dataTables_processing\",sSortAsc:\"sorting_asc\",sSortDesc:\"sorting_desc\",sSortable:\"sorting\",sSortableAsc:\"sorting_asc_disabled\",sSortableDesc:\"sorting_desc_disabled\",sSortableNone:\"sorting_disabled\",sSortColumn:\"sorting_\",sFilterInput:\"\",sLengthSelect:\"\",sScrollWrapper:\"dataTables_scroll\",sScrollHead:\"dataTables_scrollHead\",sScrollHeadInner:\"dataTables_scrollHeadInner\",sScrollBody:\"dataTables_scrollBody\",sScrollFoot:\"dataTables_scrollFoot\",sScrollFootInner:\"dataTables_scrollFootInner\",sHeaderTH:\"\",sFooterTH:\"\",sSortJUIAsc:\"\",sSortJUIDesc:\"\",sSortJUI:\"\",sSortJUIAscAllowed:\"\",sSortJUIDescAllowed:\"\",sSortJUIWrapper:\"\",sSortIcon:\"\",sJUIHeader:\"\",sJUIFooter:\"\"});var $t=Ge.ext.pager;B.extend($t,{simple:function(){return[\"previous\",\"next\"]},full:function(){return[\"first\",\"previous\",\"next\",\"last\"]},numbers:function(e,t){return[We(e,t)]},simple_numbers:function(e,t){return[\"previous\",We(e,t),\"next\"]},full_numbers:function(e,t){return[\"first\",\"previous\",We(e,t),\"next\",\"last\"]},first_last_numbers:function(e,t){return[\"first\",We(e,t),\"last\"]},_numbers:We,numbers_length:7}),B.extend(!0,Ge.ext.renderer,{pageButton:{_:function(u,e,c,t,f,d){var h,p,n,g=u.oClasses,m=u.oLanguage.oPaginate,v=u.oLanguage.oAria.paginate||{},y=0,b=function(e,t){var n,r,a,i,o=g.sPageButtonDisabled,s=function(e){fe(u,e.data.action,!0)};for(n=0,r=t.length;n<r;n++)if(a=t[n],B.isArray(a)){var l=B(\"<\"+(a.DT_el||\"div\")+\"/>\").appendTo(e);b(l,a)}else{switch(h=null,p=a,i=u.iTabIndex,a){case\"ellipsis\":e.append('<span class=\"ellipsis\">&#x2026;</span>');break;case\"first\":h=m.sFirst,0===f&&(i=-1,p+=\" \"+o);break;case\"previous\":h=m.sPrevious,0===f&&(i=-1,p+=\" \"+o);break;case\"next\":h=m.sNext,f===d-1&&(i=-1,p+=\" \"+o);break;case\"last\":h=m.sLast,f===d-1&&(i=-1,p+=\" \"+o);break;default:h=a+1,p=f===a?g.sPageButtonActive:\"\"}null!==h&&(Fe(B(\"<a>\",{\"class\":g.sPageButton+\" \"+p,\"aria-controls\":u.sTableId,\"aria-label\":v[a],\"data-dt-idx\":y,tabindex:i,id:0===c&&\"string\"==typeof a?u.sTableId+\"_\"+a:null}).html(h).appendTo(e),{action:a},s),y++)}};try{n=B(e).find(w.activeElement).data(\"dt-idx\")}catch(r){}b(B(e).empty(),t),n!==$&&B(e).find(\"[data-dt-idx=\"+n+\"]\").focus()}}}),B.extend(Ge.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return at(e,n)?\"num\"+n:null},function(e){if(e&&!(e instanceof Date)&&!Ke.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||tt(e)?\"date\":null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n,!0)?\"num-fmt\"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n)?\"html-num\"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n,!0)?\"html-num-fmt\"+n:null},function(e){return tt(e)||\"string\"==typeof e&&-1!==e.indexOf(\"<\")?\"html\":null}]),B.extend(Ge.ext.type.search,{html:function(e){return tt(e)?e:\"string\"==typeof e?e.replace(Ye,\" \").replace(Ze,\"\"):\"\"},string:function(e){return tt(e)?e:\"string\"==typeof e?e.replace(Ye,\" \"):e}});var Ut=function(e,t,n,r){return 0===e||e&&\"-\"!==e?(t&&(e=rt(e,t)),e.replace&&(n&&(e=e.replace(n,\"\")),r&&(e=e.replace(r,\"\"))),1*e):-Infinity};B.extend(Ue.type.order,{\"date-pre\":function(e){var t=Date.parse(e);return isNaN(t)?-Infinity:t},\"html-pre\":function(e){return tt(e)?\"\":e.replace?e.replace(/<.*?>/g,\"\").toLowerCase():e+\"\"},\"string-pre\":function(e){return tt(e)?\"\":\"string\"==typeof e?e.toLowerCase():e.toString?e.toString():\"\"},\"string-asc\":function(e,t){return e<t?-1:t<e?1:0},\"string-desc\":function(e,t){return e<t?1:t<e?-1:0}}),Be(\"\"),B.extend(!0,Ge.ext.renderer,{header:{_:function(i,o,s,l){B(i.nTable).on(\"order.dt.DT\",function(e,t,n,r){if(i===t){var a=s.idx;o.removeClass(s.sSortingClass+\" \"+l.sSortAsc+\" \"+l.sSortDesc).addClass(\"asc\"==r[a]?l.sSortAsc:\"desc\"==r[a]?l.sSortDesc:s.sSortingClass)}})},jqueryui:function(i,o,s,l){B(\"<div/>\").addClass(l.sSortJUIWrapper).append(o.contents()).append(B(\"<span/>\").addClass(l.sSortIcon+\" \"+s.sSortingClassJUI)).appendTo(o),B(i.nTable).on(\"order.dt.DT\",function(e,t,n,r){if(i===t){var a=s.idx;o.removeClass(l.sSortAsc+\" \"+l.sSortDesc).addClass(\"asc\"==r[a]?l.sSortAsc:\"desc\"==r[a]?l.sSortDesc:s.sSortingClass),o.find(\"span.\"+l.sSortIcon).removeClass(l.sSortJUIAsc+\" \"+l.sSortJUIDesc+\" \"+l.sSortJUI+\" \"+l.sSortJUIAscAllowed+\" \"+l.sSortJUIDescAllowed).addClass(\"asc\"==r[a]?l.sSortJUIAsc:\"desc\"==r[a]?l.sSortJUIDesc:s.sSortingClassJUI)}})}}});var zt=function(e){return\"string\"==typeof e?e.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\"):e};return Ge.render={number:function(i,o,s,l,u){return{display:function(e){if(\"number\"!=typeof e&&\"string\"!=typeof e)return e;var t=e<0?\"-\":\"\",n=parseFloat(e);if(isNaN(n))return zt(e);n=n.toFixed(s),e=Math.abs(n);var r=parseInt(e,10),a=s?o+(e-r).toFixed(s).substring(2):\"\";return t+(l||\"\")+r.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,i)+a+(u||\"\")}}},text:function(){return{display:zt,filter:zt}}},B.extend(Ge.ext.internal,{_fnExternApiFunc:$e,_fnBuildAjax:C,_fnAjaxUpdate:_,_fnAjaxParameters:i,_fnAjaxUpdateDraw:s,_fnAjaxDataSrc:V,_fnAddColumn:E,_fnColumnOptions:R,_fnAdjustColumnSizing:U,_fnVisibleToColumnIndex:z,_fnColumnIndexToVisible:c,_fnVisbleColumns:F,_fnGetColumns:P,_fnColumnTypes:l,_fnApplyColumnDefs:H,_fnHungarianMap:o,_fnCamelToHungarian:A,_fnLanguageCompat:k,_fnBrowserDetect:L,_fnAddData:M,_fnAddTr:O,_fnNodeToDataIndex:e,_fnNodeToColumnIndex:t,_fnGetCellData:g,_fnSetCellData:r,_fnSplitObjNotation:m,_fnGetObjectDataFn:q,_fnSetObjectDataFn:y,_fnGetDataMaster:x,_fnClearTable:u,_fnDeleteIndex:h,_fnInvalidate:a,_fnGetRowElements:f,_fnCreateTr:S,_fnBuildHead:d,_fnDrawHead:v,_fnDraw:b,_fnReDraw:D,_fnAddOptionsHtml:T,_fnDetectHeader:W,_fnGetUniqueThs:X,_fnFeatureHtmlFilter:G,_fnFilterComplete:J,_fnFilterCustom:Y,_fnFilterColumn:Z,_fnFilter:K,_fnFilterCreateSearch:Q,_fnEscapeRegex:vt,_fnFilterData:ee,_fnFeatureHtmlInfo:re,_fnUpdateInfo:ae,_fnInfoMacros:ie,_fnInitialise:oe,_fnInitComplete:se,_fnLengthChange:le,_fnFeatureHtmlLength:ue,_fnFeatureHtmlPaginate:ce,_fnPageChange:fe,_fnFeatureHtmlProcessing:de,_fnProcessingDisplay:he,_fnFeatureHtmlTable:pe,_fnScrollDraw:ge,_fnApplyToChildren:me,_fnCalculateColumnWidths:ve,_fnThrottle:xt,_fnConvertToWidth:ye,_fnGetWidestNode:be,_fnGetMaxLenString:we,_fnStringToCss:xe,_fnSortFlatten:Se,_fnSort:De,_fnSortAria:Te,_fnSortListener:Ce,_fnSortAttachListener:_e,_fnSortingClasses:Ae,_fnSortData:Ne,_fnSaveState:ke,_fnLoadState:Ie,_fnSettingsFromNode:je,_fnLog:Le,_fnMap:Ee,_fnBindAction:Fe,_fnCallbackReg:Pe,_fnCallbackFire:He,_fnLengthOverflow:Me,_fnRenderer:Oe,_fnDataSource:qe,_fnRowAttributes:p,_fnExtend:Re,_fnCalculateEnd:function(){}}),((B.fn.dataTable=Ge).$=B).fn.dataTableSettings=Ge.settings,B.fn.dataTableExt=Ge.ext,B.fn.DataTable=function(e){return B(this).dataTable(e).api()},B.each(Ge,function(e,t){B.fn.DataTable[e]=t}),B.fn.dataTable}),function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"object\"==typeof module&&\"object\"==typeof module.exports?e(require(\"jquery\")):e(jQuery)}(function(d){function n(){var e=o.settings;if(e.autoDispose&&!d.contains(document.documentElement,this))return d(this).timeago(\"dispose\"),this;var t=r(this);return isNaN(t.datetime)||(0===e.cutoff||Math.abs(i(t.datetime))<e.cutoff?d(this).text(a(t.datetime)):0<d(this).attr(\"title\").length&&d(this).text(d(this).attr(\"title\"))),this}function r(e){if(!(e=d(e)).data(\"timeago\")){e.data(\"timeago\",{datetime:o.datetime(e)});var t=d.trim(e.text())\n    7  ;o.settings.localeTitle?e.attr(\"title\",e.data(\"timeago\").datetime.toLocaleString()):!(0<t.length)||o.isTime(e)&&e.attr(\"title\")||e.attr(\"title\",t)}return e.data(\"timeago\")}function a(e){return o.inWords(i(e))}function i(e){return(new Date).getTime()-e.getTime()}d.timeago=function(e){return e instanceof Date?a(e):a(\"string\"==typeof e?d.timeago.parse(e):\"number\"==typeof e?new Date(e):d.timeago.datetime(e))};var o=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:\"ago\",suffixFromNow:\"from now\",inPast:\"any moment now\",seconds:\"less than a minute\",minute:\"about a minute\",minutes:\"%d minutes\",hour:\"about an hour\",hours:\"about %d hours\",day:\"a day\",days:\"%d days\",month:\"about a month\",months:\"%d months\",year:\"about a year\",years:\"%d years\",wordSeparator:\" \",numbers:[]}},inWords:function(a){function e(e,t){var n=d.isFunction(e)?e(t,a):e,r=i.numbers&&i.numbers[t]||t;return n.replace(/%d/i,r)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw\"timeago allowPast and allowFuture settings can not both be set to false.\";var i=this.settings.strings,t=i.prefixAgo,n=i.suffixAgo;if(this.settings.allowFuture&&a<0&&(t=i.prefixFromNow,n=i.suffixFromNow),!this.settings.allowPast&&0<=a)return this.settings.strings.inPast;var r=Math.abs(a)/1e3,o=r/60,s=o/60,l=s/24,u=l/365,c=r<45&&e(i.seconds,Math.round(r))||r<90&&e(i.minute,1)||o<45&&e(i.minutes,Math.round(o))||o<90&&e(i.hour,1)||s<24&&e(i.hours,Math.round(s))||s<42&&e(i.day,1)||l<30&&e(i.days,Math.round(l))||l<45&&e(i.month,1)||l<365&&e(i.months,Math.round(l/30))||u<1.5&&e(i.year,1)||e(i.years,Math.round(u)),f=i.wordSeparator||\"\";return i.wordSeparator===undefined&&(f=\" \"),d.trim([t,c,n].join(f))},parse:function(e){var t=d.trim(e);return t=(t=(t=(t=(t=t.replace(/\\.\\d+/,\"\")).replace(/-/,\"/\").replace(/-/,\"/\")).replace(/T/,\" \").replace(/Z/,\" UTC\")).replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/,\" $1$2\")).replace(/([\\+\\-]\\d\\d)$/,\" $100\"),new Date(t)},datetime:function(e){var t=o.isTime(e)?d(e).attr(\"datetime\"):d(e).attr(\"title\");return o.parse(t)},isTime:function(e){return\"time\"===d(e).get(0).tagName.toLowerCase()}});var s={init:function(){s.dispose.call(this);var e=d.proxy(n,this);e();var t=o.settings;0<t.refreshMillis&&(this._timeagoInterval=setInterval(e,t.refreshMillis))},update:function(e){var t=e instanceof Date?e:o.parse(e);d(this).data(\"timeago\",{datetime:t}),o.settings.localeTitle&&d(this).attr(\"title\",t.toLocaleString()),n.apply(this)},updateFromDOM:function(){d(this).data(\"timeago\",{datetime:o.parse(o.isTime(this)?d(this).attr(\"datetime\"):d(this).attr(\"title\"))}),n.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};d.fn.timeago=function(e,t){var n=e?s[e]:s.init;if(!n)throw new Error(\"Unknown function name '\"+e+\"' for timeago\");return this.each(function(){n.call(this,t)}),this},document.createElement(\"abbr\"),document.createElement(\"time\")}),$(document).ready(function(){var t,n;$(\".file_list\").dataTable({order:[[1,\"asc\"]],paging:!1}),$(\"a.src_link\").click(function(){var e=$($(this).attr(\"href\"));e.hasClass(\"highlighted\")||(e.find(\"pre code\").each(function(e,t){hljs.highlightBlock(t,\"  \")}),e.addClass(\"highlighted\"))}),$(\"a.src_link\").colorbox({transition:\"none\",inline:!0,opacity:1,width:\"95%\",height:\"95%\",onLoad:function(){t=n||window.location.hash.substring(1),n=this.href.split(\"#\")[1],window.location.hash=n,$(\".file_list_container\").hide()},onCleanup:function(){t&&t!=n?($('a[href=\"#'+t+'\"]').click(),n=t):($(\".group_tabs a:first\").click(),t=n,n=\"#_AllFiles\"),window.location.hash=n;var e=$(\".group_tabs li.active a\").attr(\"class\");$(\"#\"+e+\".file_list_container\").show()}}),window.onpopstate=function(){\"#_\"==window.location.hash.substring(0,2)?($.colorbox.close(),n=window.location.hash.substring(1)):$(\"#colorbox\").is(\":hidden\")&&$('a.src_link[href=\"'+window.location.hash+'\"]').colorbox({open:!0})},$(\".source_files\").hide(),$(\".file_list_container\").hide(),$(\".file_list_container h2\").each(function(){var e=$(this).parent().attr(\"id\"),t=$(this).find(\".group_name\").first().html(),n=$(this).find(\".covered_percent\").first().html();$(\".group_tabs\").append('<li><a href=\"#'+e+'\">'+t+\" (\"+n+\")</a></li>\")}),$(\".group_tabs a\").each(function(){$(this).addClass($(this).attr(\"href\").replace(\"#\",\"\"))}),$(\".group_tabs\").on(\"focus\",\"a\",function(){$(this).blur()});var e=$('link[rel=\"shortcut icon\"]').attr(\"href\");if($(\".group_tabs\").on(\"click\",\"a\",function(){return $(this).parent().hasClass(\"active\")||($(\".group_tabs a\").parent().removeClass(\"active\"),$(this).parent().addClass(\"active\"),$(\".file_list_container\").hide(),$(\".file_list_container\"+$(this).attr(\"href\")).show(),window.location.href=window.location.href.split(\"#\")[0]+$(this).attr(\"href\").replace(\"#\",\"#_\"),$('link[rel=\"shortcut icon\"]').remove(),$(\"head\").append('<link rel=\"shortcut icon\" type=\"image/png\" href=\"'+e+'\" />')),!1}),window.location.hash){var r=window.location.hash.substring(1);40==r.length?$('a.src_link[href=\"#'+r+'\"]').click():$(\".group_tabs a.\"+r.replace(\"_\",\"\")).click()}else $(\".group_tabs a:first\").click();$(\"abbr.timeago\").timeago(),$(\"#loading\").fadeOut(),$(\"#wrapper\").show(),$(\".dataTables_filter input\").focus()});\n\n/home/guhurak/Documents/back-end/coverage/assets/0.12.3/application.js:\n    2  ;return t&&t.slice(1)===e.id},root:function(e){return e===R},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:o(!1),disabled:o(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!D.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=D.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[v]=r(v);for(v in{submit:!0,reset:!0})D.pseudos[v]=i(v);return c.prototype=D.filters=D.pseudos,D.setFilters=new c,_=w.tokenize=function(e,t){var n,r,a,i,o,s,l,u=z[e+\" \"];if(u)return t?0:u.slice(0);for(o=e,s=[],l=D.preFilter;o;){for(i in n&&!(r=ue.exec(o))||(r&&(o=o.slice(r[0].length)||o),s.push(a=[])),n=!1,(r=ce.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(le,\" \")}),o=o.slice(n.length)),D.filter)!(r=pe[i].exec(o))||l[i]&&!(r=l[i](r))||(n=r.shift(),a.push({value:n,type:i,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?w.error(e):z(e,s).slice(0)},A=w.compile=function(e,t){var n,r=[],a=[],i=X[e+\" \"];if(!i){for(t||(t=_(e)),n=t.length;n--;)(i=h(t[n]))[q]?r.push(i):a.push(i);(i=X(e,m(a,r))).selector=e}return i},N=w.select=function(e,t,n,r){var a,i,o,s,l,u=\"function\"==typeof e&&e,c=!r&&_(e=u.selector||e);if(n=n||[],1===c.length){if(2<(i=c[0]=c[0].slice(0)).length&&\"ID\"===(o=i[0]).type&&9===t.nodeType&&F&&D.relative[i[1].type]){if(!(t=(D.find.ID(o.matches[0].replace(xe,Se),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(a=pe.needsContext.test(e)?0:i.length;a--&&(o=i[a],!D.relative[s=o.type]);)if((l=D.find[s])&&(r=l(o.matches[0].replace(xe,Se),we.test(i[0].type)&&p(t.parentNode)||t))){if(i.splice(a,1),!(e=r.length&&g(i)))return Q.apply(n,r),n;break}}return(u||A(e,c))(r,t,!F,n,!t||we.test(e)&&p(t.parentNode)||t),n},S.sortStable=q.split(\"\").sort(G).join(\"\")===q,S.detectDuplicates=!!j,L(),S.sortDetached=a(function(e){return 1&e.compareDocumentPosition(E.createElement(\"fieldset\"))}),a(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||t(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),S.attributes&&a(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||t(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute(\"disabled\")})||t(ne,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),w}(T);Te.find=_e,Te.expr=_e.selectors,Te.expr[\":\"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=_e.uniqueSort,Te.text=_e.getText,Te.isXMLDoc=_e.isXML,Te.contains=_e.contains,Te.escapeSelector=_e.escape;var Ae=function(e,t,n){for(var r=[],a=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&Te(e).is(n))break;r.push(e)}return r},Ne=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ke=Te.expr.match.needsContext,Ie=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;Te.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?Te.find.matchesSelector(r,e)?[r]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,n,r=this.length,a=this;if(\"string\"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<r;t++)if(Te.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Te.find(e,a[t],n);return 1<r?Te.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,\"string\"==typeof e&&ke.test(e)?Te(e):e||[],!1).length}});var je,Le=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(Te.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||je,\"string\"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):we(e)?n.ready!==undefined?n.ready(e):e(Te):Te.makeArray(e,this);if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&3<=e.length?[null,e,null]:Le.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:le,!0)),Ie.test(r[1])&&Te.isPlainObject(t))for(r in t)we(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=le.getElementById(r[2]))&&(this[0]=a,this.length=1),this}).prototype=Te.fn,je=Te(le);var Ee=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,a=this.length,i=[],o=\"string\"!=typeof e&&Te(e);if(!ke.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&Te.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?Te.uniqueSort(i):i)},index:function(e){return e?\"string\"==typeof e?he.call(Te(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ae(e,\"parentNode\")},parentsUntil:function(e,t,n){return Ae(e,\"parentNode\",n)},next:function(e){return n(e,\"nextSibling\")},prev:function(e){return n(e,\"previousSibling\")},nextAll:function(e){return Ae(e,\"nextSibling\")},prevAll:function(e){return Ae(e,\"previousSibling\")},nextUntil:function(e,t,n){return Ae(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return Ae(e,\"previousSibling\",n)},siblings:function(e){return Ne((e.parentNode||{}).firstChild,e)},children:function(e){return Ne(e.firstChild)},contents:function(e){return\"undefined\"!=typeof e.contentDocument?e.contentDocument:(u(e,\"template\")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(r,a){Te.fn[r]=function(e,t){var n=Te.map(this,a,e);return\"Until\"!==r.slice(-5)&&(t=e),t&&\"string\"==typeof t&&(n=Te.filter(t,n)),1<this.length&&(Re[r]||Te.uniqueSort(n),Ee.test(r)&&n.reverse()),this.pushStack(n)}});var Fe=/[^\\x20\\t\\r\\n\\f]+/g;Te.Callbacks=function(r){r=\"string\"==typeof r?c(r):Te.extend({},r);var a,e,t,n,i=[],o=[],s=-1,l=function(){for(n=n||r.once,t=a=!0;o.length;s=-1)for(e=o.shift();++s<i.length;)!1===i[s].apply(e[0],e[1])&&r.stopOnFalse&&(s=i.length,e=!1);r.memory||(e=!1),a=!1,n&&(i=e?[]:\"\")},u={add:function(){return i&&(e&&!a&&(s=i.length-1,o.push(e)),function n(e){Te.each(e,function(e,t){we(t)?r.unique&&u.has(t)||i.push(t):t&&t.length&&\"string\"!==m(t)&&n(t)})}(arguments),e&&!a&&l()),this},remove:function(){return Te.each(arguments,function(e,t){for(var n;-1<(n=Te.inArray(t,i,n));)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<Te.inArray(e,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return n=o=[],i=e=\"\",this},disabled:function(){return!i},lock:function(){return n=o=[],e||a||(i=e=\"\"),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],o.push(t),a||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},Te.extend({Deferred:function(e){var i=[[\"notify\",\"progress\",Te.Callbacks(\"memory\"),Te.Callbacks(\"memory\"),2],[\"resolve\",\"done\",Te.Callbacks(\"once memory\"),Te.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",Te.Callbacks(\"once memory\"),Te.Callbacks(\"once memory\"),1,\"rejected\"]],a=\"pending\",o={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},\"catch\":function(e){return o.then(null,e)},pipe:function(){var a=arguments;return Te.Deferred(function(r){Te.each(i,function(e,t){var n=we(a[t[4]])&&a[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&we(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+\"With\"](this,n?[e]:arguments)})}),a=null}).promise()},then:function(t,n,r){function u(i,o,s,l){return function(){var n=this,r=arguments,t=function(){var e,t;if(!(i<c)){if((e=s.apply(n,r))===o.promise())throw new TypeError(\"Thenable self-resolution\");t=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,we(t)?l?t.call(e,u(c,o,f,l),u(c,o,d,l)):(c++,t.call(e,u(c,o,f,l),u(c,o,d,l),u(c,o,f,o.notifyWith))):(s!==f&&(n=undefined,r=[e]),(l||o.resolveWith)(n,r))}},a=l?t:function(){try{t()}catch(e){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(e,a.stackTrace),c<=i+1&&(s!==d&&(n=undefined,r=[e]),o.rejectWith(n,r))}};i?a():(Te.Deferred.getStackHook&&(a.stackTrace=Te.Deferred.getStackHook()),T.setTimeout(a))}}var c=0;return Te.Deferred(function(e){i[0][3].add(u(0,e,we(r)?r:f,e.notifyWith)),i[1][3].add(u(0,e,we(t)?t:f)),i[2][3].add(u(0,e,we(n)?n:d))}).promise()},promise:function(e){return null!=e?Te.extend(e,o):o}},s={};return Te.each(i,function(e,t){var n=t[2],r=t[5];o[t[1]]=n.add,r&&n.add(function(){a=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+\"With\"](this===s?undefined:this,arguments),this},s[t[0]+\"With\"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),a=ce.call(arguments),i=Te.Deferred(),o=function(t){return function(e){r[t]=this,a[t]=1<arguments.length?ce.call(arguments):e,--n||i.resolveWith(r,a)}};if(n<=1&&(l(e,i.done(o(t)).resolve,i.reject,!n),\"pending\"===i.state()||we(a[t]&&a[t].then)))return i.then();for(;t--;)l(a[t],o(t),i.reject);return i.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&Pe.test(e.name)&&T.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},Te.readyException=function(e){T.setTimeout(function(){throw e})};var He=Te.Deferred();Te.fn.ready=function(e){return He.then(e)[\"catch\"](function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Te.readyWait:Te.isReady)||(Te.isReady=!0)!==e&&0<--Te.readyWait||He.resolveWith(le,[Te])}}),Te.ready.then=He.then,\"complete\"===le.readyState||\"loading\"!==le.readyState&&!le.documentElement.doScroll?T.setTimeout(Te.ready):(le.addEventListener(\"DOMContentLoaded\",r),T.addEventListener(\"load\",r));var Me=function(e,t,n,r,a,i,o){var s=0,l=e.length,u=null==n;if(\"object\"===m(n))for(s in a=!0,n)Me(e,t,s,n[s],!0,i,o);else if(r!==undefined&&(a=!0,we(r)||(o=!0),u&&(o?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Te(e),n)})),t))for(;s<l;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return a?e:u?t.call(e):l?t(e[0],n):i},Oe=/^-ms-/,qe=/-([a-z])/g,We=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};i.uid=1,i.prototype={cache:function(e){var t=e[this.expando];return t||(t={},We(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if(\"string\"==typeof t)a[h(t)]=n;else for(r in t)a[h(r)]=t[r];return a},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return t===undefined||t&&\"string\"==typeof t&&n===undefined?this.get(e,t):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r=e[this.expando];if(r!==undefined){if(t!==undefined){n=(t=Array.isArray(t)?t.map(h):(t=h(t))in r?[t]:t.match(Fe)||[]).length;for(;n--;)delete r[t[n]]}(t===undefined||Te.isEmptyObject(r))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!Te.isEmptyObject(t)}};var Be=new i,$e=new i,Ue=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,ze=/[A-Z]/g;Te.extend({hasData:function(e){return $e.hasData(e)||Be.hasData(e)},data:function(e,t,n){return $e.access(e,t,n)},removeData:function(e,t){$e.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),Te.fn.extend({data:function(n,e){var t,r,a,i=this[0],o=i&&i.attributes;if(n!==undefined)return\"object\"==typeof n?this.each(function(){$e.set(this,n)}):Me(this,function(e){var t;if(i&&e===undefined)return(t=$e.get(i,n))!==undefined?t:(t=p(i,n))!==undefined?t:void 0;this.each(function(){$e.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(a=$e.get(i),1===i.nodeType&&!Be.get(i,\"hasDataAttrs\"))){for(t=o.length;t--;)o[t]&&0===(r=o[t].name).indexOf(\"data-\")&&(r=h(r.slice(5)),p(i,r,a[r]));Be.set(i,\"hasDataAttrs\",!0)}return a},removeData:function(e){return this.each(function(){$e.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,Te.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=Te.queue(e,t),r=n.length,a=n.shift(),i=Te._queueHooks(e,t),o=function(){Te.dequeue(e,t)};\"inprogress\"===a&&(a=n.shift(),r--),a&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete i.stop,a.call(e,o,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return Be.get(e,n)||Be.access(e,n,{empty:Te.Callbacks(\"once memory\").add(function(){Be.remove(e,[t+\"queue\",n])})})}}),Te.fn.extend({queue:function(t,n){var e=2;return\"string\"!=typeof t&&(n=t,t=\"fx\",e--),arguments.length<e?Te.queue(this[0],t):n===undefined?this:this.each(function(){var e=Te.queue(this,t,n);Te._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==e[0]&&Te.dequeue(this,t)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,a=Te.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for(\"string\"!=typeof e&&(t=e,e=undefined),e=e||\"fx\";o--;)(n=Be.get(i[o],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}});var Xe=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,Ve=new RegExp(\"^(?:([+-])=|)(\"+Xe+\")([a-z%]*)$\",\"i\"),Ge=[\"Top\",\"Right\",\"Bottom\",\"Left\"],Je=le.documentElement,Ye=function(e){return Te.contains(e.ownerDocument,e)},Ze={composed:!0};Je.getRootNode&&(Ye=function(e){return Te.contains(e.ownerDocument,e)||e.getRootNode(Ze)===e.ownerDocument});var Ke=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&Ye(e)&&\"none\"===Te.css(e,\"display\")},Qe=function(e,t,n,r){var a,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in a=n.apply(e,r||[]),t)e.style[i]=o[i];return a},et={};Te.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){Ke(this)?Te(this).show():Te(this).hide()})}});var tt=/^(?:checkbox|radio)$/i,nt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,rt=/^$|^module$|\\/(?:java|ecma)script/i,at={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td;var it,ot,st=/<|&#?\\w+;/;it=le.createDocumentFragment().appendChild(le.createElement(\"div\")),(ot=le.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ot.setAttribute(\"checked\",\"checked\"),ot.setAttribute(\"name\",\"t\"),it.appendChild(ot),be.checkClone=it.cloneNode(!0).cloneNode(!0).lastChild.checked,it.innerHTML=\"<textarea>x</textarea>\",be.noCloneChecked=!!it.cloneNode(!0).lastChild.defaultValue;var lt=/^key/,ut=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ct=/^([^.]*)(?:\\.(.+)|)/;Te.event={global:{},add:function(t,e,n,r,a){var i,o,s,l,u,c,f,d,h,p,g,m=Be.get(t);if(m)for(n.handler&&(n=(i=n).handler,a=i.selector),a&&Te.find.matchesSelector(Je,a),n.guid||(n.guid=Te.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==Te&&Te.event.triggered!==e.type?Te.event.dispatch.apply(t,arguments):undefined}),u=(e=(e||\"\").match(Fe)||[\"\"]).length;u--;)h=g=(s=ct.exec(e[u])||[])[1],p=(s[2]||\"\").split(\".\").sort(),h&&(f=Te.event.special[h]||{},h=(a?f.delegateType:f.bindType)||h,f=Te.event.special[h]||{},c=Te.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&Te.expr.match.needsContext.test(a),namespace:p.join(\".\")},i),(d=l[h])||((d=l[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,o)||t.addEventListener&&t.addEventListener(h,o)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),a?d.splice(d.delegateCount++,0,c):d.push(c),Te.event.global[h]=!0)},remove:function(e,t,n,r,a){var i,o,s,l,u,c,f,d,h,p,g,m=Be.hasData(e)&&Be.get(e);if(m&&(l=m.events)){for(u=(t=(t||\"\").match(Fe)||[\"\"]).length;u--;)if(h=g=(s=ct.exec(t[u])||[])[1],p=(s[2]||\"\").split(\".\").sort(),h){for(f=Te.event.special[h]||{},d=l[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),o=i=d.length;i--;)c=d[i],!a&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));o&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,m.handle)||Te.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)Te.event.remove(e,h+t[u],n,r,!0);Te.isEmptyObject(l)&&Be.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,a,i,o,s=Te.event.fix(e),l=new Array(arguments.length),u=(Be.get(this,\"events\")||{})[s.type]||[],c=Te.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(o=Te.event.handlers.call(this,s,u),t=0;(a=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,(r=((Te.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l))!==undefined&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,a,i,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!(\"click\"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(\"click\"!==e.type||!0!==u.disabled)){for(i=[],o={},n=0;n<l;n++)o[a=(r=t[n]).selector+\" \"]===undefined&&(o[a]=r.needsContext?-1<Te(a,this).index(u):Te.find(a,this,null,[u]).length),o[a]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(Te.Event.prototype,t,{enumerable:!0,configurable:!0,get:we(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return tt.test(t.type)&&t.click&&u(t,\"input\")&&k(t,\"click\",D),!1},trigger:function(e){var t=this||e;return tt.test(t.type)&&t.click&&u(t,\"input\")&&k(t,\"click\"),!0},_default:function(e){var t=e.target;return tt.test(t.type)&&t.click&&u(t,\"input\")&&Be.get(t,\"click\")||u(t,\"a\")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){if(!(this instanceof Te.Event))return new Te.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?D:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Te.expando]=!0},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=D,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=D,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=D,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&lt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&t!==undefined&&ut.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){Te.event.special[e]={setup:function(){return k(this,e,_),!1},trigger:function(){return k(this,e),!0},delegateType:t}}),Te.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,i){Te.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===n||Te.contains(n,r))||(e.type=a.origType,t=a.handler.apply(this,arguments),e.type=i),t}}}),Te.fn.extend({on:function(e,t,n,r){return N(this,e,t,n,r)},one:function(e,t,n,r){return N(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Te(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"!=typeof e)return!1!==t&&\"function\"!=typeof t||(n=t,t=undefined),!1===n&&(n=C),this.each(function(){Te.event.remove(this,e,n,t)});for(a in e)this.off(a,t,e[a]);return this}});var ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,dt=/<script|<style|<link/i,ht=/checked\\s*(?:[^=]|=\\s*.checked.)/i,pt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(ft,\"<$1></$2>\")},clone:function(e,t,n){var r,a,i,o,s=e.cloneNode(!0),l=Ye(e);if(!(be.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(o=w(s),r=0,a=(i=w(e)).length;r<a;r++)R(i[r],o[r]);if(t)if(n)for(i=i||w(e),o=o||w(s),r=0,a=i.length;r<a;r++)E(i[r],o[r]);else E(e,s);return 0<(o=w(s,\"script\")).length&&x(o,!l&&w(e,\"script\")),s},cleanData:function(e){for(var t,n,r,a=Te.event.special,i=0;(n=e[i])!==undefined;i++)if(We(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)a[r]?Te.event.remove(n,r):Te.removeEvent(n,r,t.handle);n[Be.expando]=undefined}n[$e.expando]&&(n[$e.expando]=undefined)}}}),Te.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Me(this,function(e){return e===undefined?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return F(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,e).appendChild(e)})},prepend:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=I(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(w(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!dt.test(e)&&!at[(nt.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(Te.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return F(this,arguments,function(e){var t=this.parentNode;Te.inArray(this,n)<0&&(Te.cleanData(w(this)),t&&t.replaceChild(e,this))},n)}}),Te.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,o){Te.fn[e]=function(e){for(var t,n=[],r=Te(e),a=r.length-1,i=0;i<=a;i++)t=i===a?this:this.clone(!0),Te(r[i])[o](t),de.apply(n,t.get());return this.pushStack(n)}});var gt=new RegExp(\"^(\"+Xe+\")(?!px)[a-z%]+$\",\"i\"),mt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=T),t.getComputedStyle(e)},vt=new RegExp(Ge.join(\"|\"),\"i\");!function(){function e(){if(l){s.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",l.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",Je.appendChild(s).appendChild(l);var e=T.getComputedStyle(l);n=\"1%\"!==e.top,o=12===t(e.marginLeft),l.style.right=\"60%\",i=36===t(e.right),r=36===t(e.width),l.style.position=\"absolute\",a=12===t(l.offsetWidth/3),Je.removeChild(s),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,a,i,o,s=le.createElement(\"div\"),l=le.createElement(\"div\");l.style&&(l.style.backgroundClip=\"content-box\",l.cloneNode(!0).style.backgroundClip=\"\",be.clearCloneStyle=\"content-box\"===l.style.backgroundClip,Te.extend(be,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),a}}))}();var yt=[\"Webkit\",\"Moz\",\"ms\"],bt=le.createElement(\"div\").style,wt={},xt=/^(none|table(?!-c[ea]).+)/,St=/^--/,Dt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Tt={letterSpacing:\"0\",fontWeight:\"400\"};Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=H(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,s=h(t),l=St.test(t),u=e.style;if(l||(t=q(s)),o=Te.cssHooks[t]||Te.cssHooks[s],n===undefined)return o&&\"get\"in o&&(a=o.get(e,!1,r))!==undefined?a:u[t];\"string\"===(i=typeof n)&&(a=Ve.exec(n))&&a[1]&&(n=v(e,t,a),i=\"number\"),null!=n&&n==n&&(\"number\"!==i||l||(n+=a&&a[3]||(Te.cssNumber[s]?\"\":\"px\")),be.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(u[t]=\"inherit\"),o&&\"set\"in o&&(n=o.set(e,n,r))===undefined||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var a,i,o,s=h(t);return St.test(t)||(t=q(s)),(o=Te.cssHooks[t]||Te.cssHooks[s])&&\"get\"in o&&(a=o.get(e,!0,n)),a===undefined&&(a=H(e,t,r)),\"normal\"===a&&t in Tt&&(a=Tt[t]),\"\"===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),Te.each([\"height\",\"width\"],function(e,l){Te.cssHooks[l]={get:function(e,t,n){if(t)return!xt.test(Te.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?$(e,l,n):Qe(e,Dt,function(){return $(e,l,n)})},set:function(e,t,n){var r,a=mt(e),i=!be.scrollboxSize()&&\"absolute\"===a.position,o=(i||n)&&\"border-box\"===Te.css(e,\"boxSizing\",!1,a),s=n?B(e,l,n,o,a):0;return o&&i&&(s-=Math.ceil(e[\"offset\"+l[0].toUpperCase()+l.slice(1)]-parseFloat(a[l])-B(e,l,\"border\",!1,a)-.5)),s&&(r=Ve.exec(t))&&\"px\"!==(r[3]||\"px\")&&(e.style[l]=t,t=Te.css(e,l)),W(e,t,s)}}}),Te.cssHooks.marginLeft=M(be.reliableMarginLeft,function(e,t){if(t)return(parseFloat(H(e,\"marginLeft\"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),Te.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,i){Te.cssHooks[a+i]={expand:function(e){for(var t=0,n={},r=\"string\"==typeof e?e.split(\" \"):[e];t<4;t++)n[a+Ge[t]+i]=r[t]||r[t-2]||r[0];return n}},\"margin\"!==a&&(Te.cssHooks[a+i].set=W)}),Te.fn.extend({css:function(e,t){return Me(this,function(e,t,n){var r,a,i={},o=0;if(Array.isArray(t)){for(r=mt(e),a=t.length;o<a;o++)i[t[o]]=Te.css(e,t[o],!1,r);return i}return n!==undefined?Te.style(e,t,n):Te.css(e,t)},e,t,1<arguments.length)}}),(Te.Tween=U).prototype={constructor:U,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Te.cssNumber[n]?\"\":\"px\")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||!Te.cssHooks[e.prop]&&null==e.elem.style[q(e.prop)]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},Te.fx=U.prototype.init,Te.fx.step={};var Ct,_t,At,Nt,kt=/^(?:toggle|show|hide)$/,It=/queueHooks$/;Te.Animation=Te.extend(Z,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,Ve.exec(t),n),n}]},tweener:function(e,t){we(e)?(t=e,e=[\"*\"]):e=e.match(Fe);for(var n,r=0,a=e.length;r<a;r++)n=e[r],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(t)},prefilters:[J],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),Te.speed=function(e,t,n){var r=e&&\"object\"==typeof e?Te.extend({},e):{complete:n||!n&&t||we(e)&&e,duration:e,easing:n&&t||t&&!we(t)&&t};return Te.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in Te.fx.speeds?r.duration=Te.fx.speeds[r.duration]:r.duration=Te.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){we(r.old)&&r.old.call(this),r.queue&&Te.dequeue(this,r.queue)},r},Te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ke).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var a=Te.isEmptyObject(t),i=Te.speed(e,n,r),o=function(){var e=Z(this,Te.extend({},t),i);(a||Be.get(this,\"finish\"))&&e.stop(!0)};return o.finish=o,a||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(a,e,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return\"string\"!=typeof a&&(i=e,e=a,a=undefined),e&&!1!==a&&this.queue(a||\"fx\",[]),this.each(function(){var e=!0,t=null!=a&&a+\"queueHooks\",n=Te.timers,r=Be.get(this);if(t)r[t]&&r[t].stop&&o(r[t]);else for(t in r)r[t]&&r[t].stop&&It.test(t)&&o(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=a&&n[t].queue!==a||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||Te.dequeue(this,a)})},finish:function(o){return!1!==o&&(o=o||\"fx\"),this.each(function(){var e,t=Be.get(this),n=t[o+\"queue\"],\n    3  r=t[o+\"queueHooks\"],a=Te.timers,i=n?n.length:0;for(t.finish=!0,Te.queue(this,o,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===o&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),Te.each([\"toggle\",\"show\",\"hide\"],function(e,r){var a=Te.fn[r];Te.fn[r]=function(e,t,n){return null==e||\"boolean\"==typeof e?a.apply(this,arguments):this.animate(V(r,!0),e,t,n)}}),Te.each({slideDown:V(\"show\"),slideUp:V(\"hide\"),slideToggle:V(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,r){Te.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,n=Te.timers;for(Ct=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Te.fx.stop(),Ct=undefined},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){_t||(_t=!0,z())},Te.fx.stop=function(){_t=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(r,e){return r=Te.fx&&Te.fx.speeds[r]||r,e=e||\"fx\",this.queue(e,function(e,t){var n=T.setTimeout(e,r);t.stop=function(){T.clearTimeout(n)}})},At=le.createElement(\"input\"),Nt=le.createElement(\"select\").appendChild(le.createElement(\"option\")),At.type=\"checkbox\",be.checkOn=\"\"!==At.value,be.optSelected=Nt.selected,(At=le.createElement(\"input\")).value=\"t\",At.type=\"radio\",be.radioValue=\"t\"===At.value;var jt,Lt=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Me(this,Te.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return\"undefined\"==typeof e.getAttribute?Te.prop(e,t,n):(1===i&&Te.isXMLDoc(e)||(a=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?jt:undefined)),n!==undefined?null===n?void Te.removeAttr(e,t):a&&\"set\"in a&&(r=a.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+\"\"),n):a&&\"get\"in a&&null!==(r=a.get(e,t))?r:null==(r=Te.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!be.radioValue&&\"radio\"===t&&u(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(Fe);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),jt={set:function(e,t,n){return!1===t?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\\w+/g),function(e,t){var o=Lt[t]||Te.find.attr;Lt[t]=function(e,t,n){var r,a,i=t.toLowerCase();return n||(a=Lt[i],Lt[i]=r,r=null!=o(e,t,n)?i:null,Lt[i]=a),r}});var Et=/^(?:input|select|textarea|button)$/i,Rt=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Me(this,Te.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,a=Te.propHooks[t]),n!==undefined?a&&\"set\"in a&&(r=a.set(e,n,t))!==undefined?r:e[t]=n:a&&\"get\"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,\"tabindex\");return t?parseInt(t,10):Et.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),be.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(t){var e,n,r,a,i,o,s,l=0;if(we(t))return this.each(function(e){Te(this).addClass(t.call(this,e,Q(this)))});if((e=ee(t)).length)for(;n=this[l++];)if(a=Q(n),r=1===n.nodeType&&\" \"+K(a)+\" \"){for(o=0;i=e[o++];)r.indexOf(\" \"+i+\" \")<0&&(r+=i+\" \");a!==(s=K(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(t){var e,n,r,a,i,o,s,l=0;if(we(t))return this.each(function(e){Te(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((e=ee(t)).length)for(;n=this[l++];)if(a=Q(n),r=1===n.nodeType&&\" \"+K(a)+\" \"){for(o=0;i=e[o++];)for(;-1<r.indexOf(\" \"+i+\" \");)r=r.replace(\" \"+i+\" \",\" \");a!==(s=K(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(a,t){var i=typeof a,o=\"string\"===i||Array.isArray(a);return\"boolean\"==typeof t&&o?t?this.addClass(a):this.removeClass(a):we(a)?this.each(function(e){Te(this).toggleClass(a.call(this,e,Q(this),t),t)}):this.each(function(){var e,t,n,r;if(o)for(t=0,n=Te(this),r=ee(a);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else a!==undefined&&\"boolean\"!==i||((e=Q(this))&&Be.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===a?\"\":Be.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;for(t=\" \"+e+\" \";n=this[r++];)if(1===n.nodeType&&-1<(\" \"+K(Q(n))+\" \").indexOf(t))return!0;return!1}});var Ft=/\\r/g;Te.fn.extend({val:function(n){var r,e,a,t=this[0];return arguments.length?(a=we(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=a?n.call(this,e,Te(this).val()):n)?t=\"\":\"number\"==typeof t?t+=\"\":Array.isArray(t)&&(t=Te.map(t,function(e){return null==e?\"\":e+\"\"})),(r=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()])&&\"set\"in r&&r.set(this,t,\"value\")!==undefined||(this.value=t))})):t?(r=Te.valHooks[t.type]||Te.valHooks[t.nodeName.toLowerCase()])&&\"get\"in r&&(e=r.get(t,\"value\"))!==undefined?e:\"string\"==typeof(e=t.value)?e.replace(Ft,\"\"):null==e?\"\":e:void 0}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,\"value\");return null!=t?t:K(Te.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,o=\"select-one\"===e.type,s=o?null:[],l=o?i+1:a.length;for(r=i<0?l:o?i:0;r<l;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,\"optgroup\"))){if(t=Te(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,a=e.options,i=Te.makeArray(t),o=a.length;o--;)((r=a[o]).selected=-1<Te.inArray(Te.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Te.each([\"radio\",\"checkbox\"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<Te.inArray(Te(e).val(),t)}},be.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),be.focusin=\"onfocusin\"in T;var Pt=/^(?:focusinfocus|focusoutblur)$/,Ht=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(e,t,n,r){var a,i,o,s,l,u,c,f,d=[n||le],h=me.call(e,\"type\")?e.type:e,p=me.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(i=f=o=n=n||le,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(h+Te.event.triggered)&&(-1<h.indexOf(\".\")&&(h=(p=h.split(\".\")).shift(),p.sort()),l=h.indexOf(\":\")<0&&\"on\"+h,(e=e[Te.expando]?e:new Te.Event(h,\"object\"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:Te.makeArray(t,[e]),c=Te.event.special[h]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!xe(n)){for(s=c.delegateType||h,Pt.test(s+h)||(i=i.parentNode);i;i=i.parentNode)d.push(i),o=i;o===(n.ownerDocument||le)&&d.push(o.defaultView||o.parentWindow||T)}for(a=0;(i=d[a++])&&!e.isPropagationStopped();)f=i,e.type=1<a?s:c.bindType||h,(u=(Be.get(i,\"events\")||{})[e.type]&&Be.get(i,\"handle\"))&&u.apply(i,t),(u=l&&i[l])&&u.apply&&We(i)&&(e.result=u.apply(i,t),!1===e.result&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!We(n)||l&&we(n[h])&&!xe(n)&&((o=n[l])&&(n[l]=null),Te.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,Ht),n[h](),e.isPropagationStopped()&&f.removeEventListener(h,Ht),Te.event.triggered=undefined,o&&(n[l]=o)),e.result}},simulate:function(e,t,n){var r=Te.extend(new Te.Event,n,{type:e,isSimulated:!0});Te.event.trigger(r,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),be.focusin||Te.each({focus:\"focusin\",blur:\"focusout\"},function(n,r){var a=function(e){Te.event.simulate(r,e.target,Te.event.fix(e))};Te.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Be.access(e,r);t||e.addEventListener(n,a,!0),Be.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Be.access(e,r)-1;t?Be.access(e,r,t):(e.removeEventListener(n,a,!0),Be.remove(e,r))}}});var Mt=T.location,Ot=Date.now(),qt=/\\?/;Te.parseXML=function(e){var t;if(!e||\"string\"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,\"text/xml\")}catch(n){t=undefined}return t&&!t.getElementsByTagName(\"parsererror\").length||Te.error(\"Invalid XML: \"+e),t};var Wt=/\\[\\]$/,Bt=/\\r?\\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Ut=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n,r=[],a=function(e,t){var n=we(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){a(this.name,this.value)});else for(n in e)te(n,e[n],t,a);return r.join(\"&\")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,\"elements\");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(\":disabled\")&&Ut.test(this.nodeName)&&!$t.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(Bt,\"\\r\\n\")}}):{name:t.name,value:n.replace(Bt,\"\\r\\n\")}}).get()}});var zt=/%20/g,Xt=/#.*$/,Vt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Zt=/^\\/\\//,Kt={},Qt={},en=\"*/\".concat(\"*\"),tn=le.createElement(\"a\");tn.href=Mt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:\"GET\",isLocal:Jt.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":en,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ae(ae(e,Te.ajaxSettings),t):ae(Te.ajaxSettings,e)},ajaxPrefilter:ne(Kt),ajaxTransport:ne(Qt),ajax:function(e,t){function n(e,t,n,r){var a,i,o,s,l,u=t;p||(p=!0,h&&T.clearTimeout(h),c=undefined,d=r||\"\",S.readyState=0<e?4:0,a=200<=e&&e<300||304===e,n&&(s=ie(m,S,n)),s=oe(m,s,S,a),a?(m.ifModified&&((l=S.getResponseHeader(\"Last-Modified\"))&&(Te.lastModified[f]=l),(l=S.getResponseHeader(\"etag\"))&&(Te.etag[f]=l)),204===e||\"HEAD\"===m.type?u=\"nocontent\":304===e?u=\"notmodified\":(u=s.state,i=s.data,a=!(o=s.error))):(o=u,!e&&u||(u=\"error\",e<0&&(e=0))),S.status=e,S.statusText=(t||u)+\"\",a?b.resolveWith(v,[i,u,S]):b.rejectWith(v,[S,u,o]),S.statusCode(x),x=undefined,g&&y.trigger(a?\"ajaxSuccess\":\"ajaxError\",[S,m,a?i:o]),w.fireWith(v,[S,u]),g&&(y.trigger(\"ajaxComplete\",[S,m]),--Te.active||Te.event.trigger(\"ajaxStop\")))}\"object\"==typeof e&&(t=e,e=undefined),t=t||{};var c,f,d,r,h,a,p,g,i,o,m=Te.ajaxSetup({},t),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?Te(v):Te.event,b=Te.Deferred(),w=Te.Callbacks(\"once memory\"),x=m.statusCode||{},s={},l={},u=\"canceled\",S={readyState:0,getResponseHeader:function(e){var t;if(p){if(!r)for(r={};t=Gt.exec(d);)r[t[1].toLowerCase()+\" \"]=(r[t[1].toLowerCase()+\" \"]||[]).concat(t[2]);t=r[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=l[e.toLowerCase()]=l[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==p&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)S.always(e[S.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),n(0,t),this}};if(b.promise(S),m.url=((e||m.url||Mt.href)+\"\").replace(Zt,Mt.protocol+\"//\"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||\"*\").toLowerCase().match(Fe)||[\"\"],null==m.crossDomain){a=le.createElement(\"a\");try{a.href=m.url,a.href=a.href,m.crossDomain=tn.protocol+\"//\"+tn.host!=a.protocol+\"//\"+a.host}catch(D){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=Te.param(m.data,m.traditional)),re(Kt,m,t,S),p)return S;for(i in(g=Te.event&&m.global)&&0==Te.active++&&Te.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!Yt.test(m.type),f=m.url.replace(Xt,\"\"),m.hasContent?m.data&&m.processData&&0===(m.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(m.data=m.data.replace(zt,\"+\")):(o=m.url.slice(f.length),m.data&&(m.processData||\"string\"==typeof m.data)&&(f+=(qt.test(f)?\"&\":\"?\")+m.data,delete m.data),!1===m.cache&&(f=f.replace(Vt,\"$1\"),o=(qt.test(f)?\"&\":\"?\")+\"_=\"+Ot+++o),m.url=f+o),m.ifModified&&(Te.lastModified[f]&&S.setRequestHeader(\"If-Modified-Since\",Te.lastModified[f]),Te.etag[f]&&S.setRequestHeader(\"If-None-Match\",Te.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&S.setRequestHeader(\"Content-Type\",m.contentType),S.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+en+\"; q=0.01\":\"\"):m.accepts[\"*\"]),m.headers)S.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(v,S,m)||p))return S.abort();if(u=\"abort\",w.add(m.complete),S.done(m.success),S.fail(m.error),c=re(Qt,m,t,S)){if(S.readyState=1,g&&y.trigger(\"ajaxSend\",[S,m]),p)return S;m.async&&0<m.timeout&&(h=T.setTimeout(function(){S.abort(\"timeout\")},m.timeout));try{p=!1,c.send(s,n)}catch(D){if(p)throw D;n(-1,D)}}else n(-1,\"No Transport\");return S},getJSON:function(e,t,n){return Te.get(e,t,n,\"json\")},getScript:function(e,t){return Te.get(e,undefined,t,\"script\")}}),Te.each([\"get\",\"post\"],function(e,a){Te[a]=function(e,t,n,r){return we(t)&&(r=r||n,n=t,t=undefined),Te.ajax(Te.extend({url:e,type:a,dataType:r,data:t,success:n},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e,t){return Te.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){Te.globalEval(e,t)}})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(we(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return we(n)?this.each(function(e){Te(this).wrapInner(n.call(this,e))}):this.each(function(){var e=Te(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=we(t);return this.each(function(e){Te(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var nn={0:200,1223:204},rn=Te.ajaxSettings.xhr();be.cors=!!rn&&\"withCredentials\"in rn,be.ajax=rn=!!rn,Te.ajaxTransport(function(i){var o,s;if(be.cors||rn&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?t(0,\"error\"):t(r.status,r.statusText):t(nn[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o(\"error\"),r.onabort!==undefined?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&T.setTimeout(function(){o&&s()})},o=o(\"abort\");try{r.send(i.hasContent&&i.data||null)}catch(a){if(o)throw a}},abort:function(){o&&o()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter(\"script\",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),Te.ajaxTransport(\"script\",function(n){var r,a;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=Te(\"<script>\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\"load error\",a=function(e){r.remove(),a=null,e&&t(\"error\"===e.type?404:200,e.type)}),le.head.appendChild(r[0])},abort:function(){a&&a()}}});var an,on=[],sn=/(=)\\?(?=&|$)|\\?\\?/;Te.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=on.pop()||Te.expando+\"_\"+Ot++;return this[e]=!0,e}}),Te.ajaxPrefilter(\"json jsonp\",function(e,t,n){var r,a,i,o=!1!==e.jsonp&&(sn.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&sn.test(e.data)&&\"data\");if(o||\"jsonp\"===e.dataTypes[0])return r=e.jsonpCallback=we(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(sn,\"$1\"+r):!1!==e.jsonp&&(e.url+=(qt.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+r),e.converters[\"script json\"]=function(){return i||Te.error(r+\" was not called\"),i[0]},e.dataTypes[0]=\"json\",a=T[r],T[r]=function(){i=arguments},n.always(function(){a===undefined?Te(T).removeProp(r):T[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,on.push(r)),i&&we(a)&&a(i[0]),i=a=undefined}),\"script\"}),be.createHTMLDocument=((an=le.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===an.childNodes.length),Te.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(be.createHTMLDocument?((r=(t=le.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=le.location.href,t.head.appendChild(r)):t=le),i=!n&&[],(a=Ie.exec(e))?[t.createElement(a[1])]:(a=S([e],t,i),i&&i.length&&Te(i).remove(),Te.merge([],a.childNodes)));var r,a,i},Te.fn.load=function(e,t,n){var r,a,i,o=this,s=e.indexOf(\" \");return-1<s&&(r=K(e.slice(s)),e=e.slice(0,s)),we(t)?(n=t,t=undefined):t&&\"object\"==typeof t&&(a=\"POST\"),0<o.length&&Te.ajax({url:e,type:a||\"GET\",dataType:\"html\",data:t}).done(function(e){i=arguments,o.html(r?Te(\"<div>\").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},Te.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(t){return Te.grep(Te.timers,function(e){return t===e.elem}).length},Te.offset={setOffset:function(e,t,n){var r,a,i,o,s,l,u=Te.css(e,\"position\"),c=Te(e),f={};\"static\"===u&&(e.style.position=\"relative\"),s=c.offset(),i=Te.css(e,\"top\"),l=Te.css(e,\"left\"),(\"absolute\"===u||\"fixed\"===u)&&-1<(i+l).indexOf(\"auto\")?(o=(r=c.position()).top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(l)||0),we(t)&&(t=t.call(e,n,Te.extend({},s))),null!=t.top&&(f.top=t.top-s.top+o),null!=t.left&&(f.left=t.left-s.left+a),\"using\"in t?t.using.call(e,f):c.css(f)}},Te.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){Te.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if(\"fixed\"===Te.css(r,\"position\"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&\"static\"===Te.css(e,\"position\");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=Te(e).offset()).top+=Te.css(e,\"borderTopWidth\",!0),a.left+=Te.css(e,\"borderLeftWidth\",!0))}return{top:t.top-a.top-Te.css(r,\"marginTop\",!0),left:t.left-a.left-Te.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&\"static\"===Te.css(e,\"position\");)e=e.offsetParent;return e||Je})}}),Te.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(t,a){var i=\"pageYOffset\"===a;Te.fn[t]=function(e){return Me(this,function(e,t,n){var r;if(xe(e)?r=e:9===e.nodeType&&(r=e.defaultView),n===undefined)return r?r[a]:e[t];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),Te.each([\"top\",\"left\"],function(e,n){Te.cssHooks[n]=M(be.pixelPosition,function(e,t){if(t)return t=H(e,n),gt.test(t)?Te(e).position()[n]+\"px\":t})}),Te.each({Height:\"height\",Width:\"width\"},function(o,s){Te.each({padding:\"inner\"+o,content:s,\"\":\"outer\"+o},function(r,i){Te.fn[i]=function(e,t){var n=arguments.length&&(r||\"boolean\"!=typeof e),a=r||(!0===e||!0===t?\"margin\":\"border\");return Me(this,function(e,t,n){var r;return xe(e)?0===i.indexOf(\"outer\")?e[\"inner\"+o]:e.document.documentElement[\"client\"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body[\"scroll\"+o],r[\"scroll\"+o],e.body[\"offset\"+o],r[\"offset\"+o],r[\"client\"+o])):n===undefined?Te.css(e,t,a):Te.style(e,t,n,a)},s,n?e:undefined,n)}})}),Te.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,n){Te.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}}),Te.proxy=function(e,t){var n,r,a;return\"string\"==typeof t&&(n=e[t],t=e,e=n),we(e)?(r=ce.call(arguments,2),(a=function(){return e.apply(t||this,r.concat(ce.call(arguments)))}).guid=e.guid=e.guid||Te.guid++,a):undefined},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=u,Te.isFunction=we,Te.isWindow=xe,Te.camelCase=h,Te.type=m,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return Te});var ln=T.jQuery,un=T.$;return Te.noConflict=function(e){return T.$===Te&&(T.$=un),e&&T.jQuery===Te&&(T.jQuery=ln),Te},e||(T.jQuery=T.$=Te),Te});var hljs=new function(){function x(e){return e.replace(/&/gm,\"&amp;\").replace(/</gm,\"&lt;\")}function S(e,t,n){return RegExp(t,\"m\"+(e.cI?\"i\":\"\")+(n?\"g\":\"\"))}function r(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(\"CODE\"==n.nodeName)return n;if(3!=n.nodeType||!n.nodeValue.match(/\\s+/))break}}function h(e,t){for(var n=\"\",r=0;r<e.childNodes.length;r++)if(3==e.childNodes[r].nodeType){var a=e.childNodes[r].nodeValue;t&&(a=a.replace(/\\n/g,\"\")),n+=a}else\"BR\"==e.childNodes[r].nodeName?n+=\"\\n\":n+=h(e.childNodes[r]);return/MSIE [678]/.test(navigator.userAgent)&&(n=n.replace(/\\r/g,\"\\n\")),n}function p(e){var t=e.className.split(/\\s+/);t=t.concat(e.parentNode.className.split(/\\s+/));for(var n=0;n<t.length;n++){var r=t[n].replace(/^language-/,\"\");if(T[r]||\"no-highlight\"==r)return r}}function g(e){var r=[];return function(e,t){for(var n=0;n<e.childNodes.length;n++)3==e.childNodes[n].nodeType?t+=e.childNodes[n].nodeValue.length:\"BR\"==e.childNodes[n].nodeName?t+=1:(r.push({event:\"start\",offset:t,node:e.childNodes[n]}),t=arguments.callee(e.childNodes[n],t),r.push({event:\"stop\",offset:t,node:e.childNodes[n]}))}(e,0),r}function m(e,t,n){function r(){return e.length&&t.length?e[0].offset!=t[0].offset?e[0].offset<t[0].offset?e:t:\"start\"==t[0].event?e:t:e.length?e:t}function a(e){for(var t=\"<\"+e.nodeName.toLowerCase(),n=0;n<e.attributes.length;n++){var r=e.attributes[n];t+=\" \"+r.nodeName.toLowerCase(),r.nodeValue!=undefined&&(t+='=\"'+x(r.nodeValue)+'\"')}return t+\">\"}for(var i=0,o=\"\",s=[];e.length||t.length;){var l=r().splice(0,1)[0];if(o+=x(n.substr(i,l.offset-i)),i=l.offset,\"start\"==l.event)o+=a(l.node),s.push(l.node);else if(\"stop\"==l.event){var u=s.length;do{var c=s[--u];o+=\"</\"+c.nodeName.toLowerCase()+\">\"}while(c!=l.node);for(s.splice(u,1);u<s.length;)o+=a(s[u]),u++}}return o+=n.substr(i)}function D(e,t){function l(e,t){for(var n=0;n<t.c.length;n++)if(t.c[n].bR.test(e))return t.c[n]}function u(e,t){if(h[e].e&&h[e].eR.test(t))return 1;if(h[e].eW){var n=u(e-1,t);return n?n+1:0}return 0}function c(e,t){return t.iR&&t.iR.test(e)}function a(e,t){for(var n=[],r=0;r<e.c.length;r++)n.push(e.c[r].b);for(var a=h.length-1;h[a].e&&n.push(h[a].e),h[--a+1].eW;);return e.i&&n.push(e.i),S(t,\"(\"+n.join(\"|\")+\")\",!0)}function n(e,t){var n=h[h.length-1];n.t||(n.t=a(n,s)),n.t.lastIndex=t;var r=n.t.exec(e);return r?[e.substr(t,r.index-t),r[0],!1]:[e.substr(t),\"\",!0]}function o(e,t){var n=s.cI?t[0].toLowerCase():t[0];for(var r in e.kG)if(e.kG.hasOwnProperty(r)){var a=e.kG[r].hasOwnProperty(n);if(a)return[r,a]}return!1}function r(e,t){if(!t.k)return x(e);var n=\"\",r=0;t.lR.lastIndex=0;for(var a=t.lR.exec(e);a;){n+=x(e.substr(r,a.index-r));var i=o(t,a);i?(g+=i[1],n+='<span class=\"'+i[0]+'\">'+x(a[0])+\"</span>\"):n+=x(a[0]),r=t.lR.lastIndex,a=t.lR.exec(e)}return n+=x(e.substr(r,e.length-r))}function f(e,t){if(t.sL&&T[t.sL]){var n=D(t.sL,e);return g+=n.keyword_count,n.value}return r(e,t)}function d(e,t){var n=e.cN?'<span class=\"'+e.cN+'\">':\"\";e.rB?(m+=n,e.buffer=\"\"):e.eB?(m+=x(t)+n,e.buffer=\"\"):(m+=n,e.buffer=t),h.push(e),p+=e.r}function i(e,t,n){var r=h[h.length-1];if(n)return m+=f(r.buffer+e,r),!1;var a=l(t,r);if(a)return m+=f(r.buffer+e,r),d(a,t),a.rB;var i=u(h.length-1,t);if(i){var o=r.cN?\"</span>\":\"\";for(r.rE?m+=f(r.buffer+e,r)+o:r.eE?m+=f(r.buffer+e,r)+o+x(t):m+=f(r.buffer+e+t,r)+o;1<i;)o=h[h.length-2].cN?\"</span>\":\"\",m+=o,i--,h.length--;var s=h[h.length-1];return h.length--,h[h.length-1].buffer=\"\",s.starts&&d(s.starts,\"\"),r.rE}if(c(t,r))throw\"Illegal\"}var s=T[e],h=[s.dM],p=0,g=0,m=\"\";try{var v=0;s.dM.buffer=\"\";do{var y=n(t,v),b=i(y[0],y[1],y[2]);v+=y[0].length,b||(v+=y[1].length)}while(!y[2]);if(1<h.length)throw\"Illegal\";return{language:e,r:p,keyword_count:g,value:m}}catch(w){if(\"Illegal\"==w)return{language:null,r:0,keyword_count:0,value:x(t)};throw w}}function e(){function i(e,t,n){if(!e.compiled){for(var r in n||(e.bR=S(t,e.b?e.b:\"\\\\B|\\\\b\"),e.e||e.eW||(e.e=\"\\\\B|\\\\b\"),e.e&&(e.eR=S(t,e.e))),e.i&&(e.iR=S(t,e.i)),e.r==undefined&&(e.r=1),e.k&&(e.lR=S(t,e.l||hljs.IR,!0)),e.k)if(e.k.hasOwnProperty(r)){e.k[r]instanceof Object?e.kG=e.k:e.kG={keyword:e.k};break}e.c||(e.c=[]),e.compiled=!0;for(var a=0;a<e.c.length;a++)i(e.c[a],t,!1);e.starts&&i(e.starts,t,!1)}}for(var e in T)T.hasOwnProperty(e)&&i(T[e].dM,T[e],!0)}function v(){v.called||(v.called=!0,e())}function a(e,n,t){v();var r=h(e,t),a=p(e);if(\"no-highlight\"!=a){if(a)var i=D(a,r);else{var o=i={language:\"\",keyword_count:0,r:0,value:x(r)};for(var s in T)if(T.hasOwnProperty(s)){var l=D(s,r);l.keyword_count+l.r>o.keyword_count+o.r&&(o=l),l.keyword_count+l.r>i.keyword_count+i.r&&(o=i,i=l)}}var u=e.className;u.match(i.language)||(u=u?u+\" \"+i.language:i.language);var c=g(e);if(c.length)(f=document.createElement(\"pre\")).innerHTML=i.value,i.value=m(c,g(f),r);if(n&&(i.value=i.value.replace(/^((<[^>]+>|\\t)+)/gm,function(e,t){return t.replace(/\\t/g,n)})),t&&(i.value=i.value.replace(/\\n/g,\"<br>\")),/MSIE [678]/.test(navigator.userAgent)&&\"CODE\"==e.tagName&&\"PRE\"==e.parentNode.tagName){var f=e.parentNode,d=document.createElement(\"div\");d.innerHTML=\"<pre><code>\"+i.value+\"</code></pre>\",e=d.firstChild.firstChild,d.firstChild.cN=f.cN,f.parentNode.replaceChild(d.firstChild,f)}else e.innerHTML=i.value;e.className=u,e.dataset={},e.dataset.result={language:i.language,kw:i.keyword_count,re:i.r},o&&o.language&&(e.dataset.second_best={language:o.language,kw:o.keyword_count,re:o.r})}}function i(){if(!i.called){i.called=!0,v();for(var e=document.getElementsByTagName(\"pre\"),t=0;t<e.length;t++){var n=r(e[t]);n&&a(n,hljs.tabReplace)}}}function t(){var e=arguments,t=function(){i.apply(null,e)};window.addEventListener?(window.addEventListener(\"DOMContentLoaded\",t,!1),window.addEventListener(\"load\",t,!1)):window.attachEvent?window.attachEvent(\"onload\",t):window.onload=t}var T={};this.LANGUAGES=T,this.initHighlightingOnLoad=t,this.highlightBlock=a,this.initHighlighting=i,this.IR=\"[a-zA-Z][a-zA-Z0-9_]*\",this.UIR=\"[a-zA-Z_][a-zA-Z0-9_]*\",this.NR=\"\\\\b\\\\d+(\\\\.\\\\d+)?\",this.CNR=\"\\\\b(0x[A-Za-z0-9]+|\\\\d+(\\\\.\\\\d+)?)\",this.RSR=\"!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|\\\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~\",this.BE={b:\"\\\\\\\\.\",r:0},this.ASM={cN:\"string\",b:\"'\",e:\"'\",i:\"\\\\n\",c:[this.BE],r:0},this.QSM={cN:\"string\",b:'\"',e:'\"',i:\"\\\\n\",c:[this.BE],r:0},this.CLCM={cN:\"comment\",b:\"//\",e:\"$\"},this.CBLCLM={cN:\"comment\",b:\"/\\\\*\",e:\"\\\\*/\"},this.HCM={cN:\"comment\",b:\"#\",e:\"$\"},this.NM={cN:\"number\",b:this.NR,r:0},this.CNM={cN:\"number\",b:this.CNR,r:0},this.inherit=function(e,t){var n={};for(var r in e)n[r]=e[r];if(t)for(var r in t)n[r]=t[r];return n}};hljs.LANGUAGES.ruby=function(){var e=\"[a-zA-Z_][a-zA-Z0-9_]*(\\\\!|\\\\?)?\",t=\"[a-zA-Z_]\\\\w*[!?=]?|[-+~]\\\\@|<<|>>|=~|===?|<=>|[<>]=?|\\\\*\\\\*|[-/+%^&*~`|]|\\\\[\\\\]=?\",n={keyword:{and:1,\"false\":1,then:1,defined:1,module:1,\"in\":1,\"return\":1,redo:1,\"if\":1,BEGIN:1,retry:1,end:1,\"for\":1,\"true\":1,self:1,when:1,next:1,until:1,\"do\":1,begin:1,unless:1,END:1,rescue:1,nil:1,\"else\":1,\"break\":1,undef:1,not:1,\"super\":1,\"class\":1,\"case\":1,require:1,\"yield\":1,alias:1,\"while\":1,ensure:1,elsif:1,or:1,def:1},keymethods:{__id__:1,__send__:1,abort:1,abs:1,\"all?\":1,allocate:1,ancestors:1,\"any?\":1,arity:1,assoc:1,at:1,at_exit:1,autoload:1,\"autoload?\":1,\"between?\":1,binding:1,binmode:1,\"block_given?\":1,call:1,callcc:1,caller:1,capitalize:1,\"capitalize!\":1,casecmp:1,\"catch\":1,ceil:1,center:1,chomp:1,\"chomp!\":1,chop:1,\"chop!\":1,chr:1,\"class\":1,class_eval:1,\"class_variable_defined?\":1,class_variables:1,clear:1,clone:1,close:1,close_read:1,close_write:1,\"closed?\":1,coerce:1,collect:1,\"collect!\":1,compact:1,\"compact!\":1,concat:1,\"const_defined?\":1,const_get:1,const_missing:1,const_set:1,constants:1,count:1,crypt:1,\"default\":1,default_proc:1,\"delete\":1,\"delete!\":1,delete_at:1,delete_if:1,detect:1,display:1,div:1,divmod:1,downcase:1,\"downcase!\":1,downto:1,dump:1,dup:1,each:1,each_byte:1,each_index:1,each_key:1,each_line:1,each_pair:1,each_value:1,each_with_index:1,\"empty?\":1,entries:1,eof:1,\"eof?\":1,\"eql?\":1,\"equal?\":1,eval:1,exec:1,exit:1,\"exit!\":1,extend:1,fail:1,fcntl:1,fetch:1,fileno:1,fill:1,find:1,find_all:1,first:1,flatten:1,\"flatten!\":1,floor:1,flush:1,for_fd:1,foreach:1,fork:1,format:1,freeze:1,\"frozen?\":1,fsync:1,getc:1,gets:1,global_variables:1,grep:1,gsub:1,\"gsub!\":1,\"has_key?\":1,\"has_value?\":1,hash:1,hex:1,id:1,include:1,\"include?\":1,included_modules:1,index:1,indexes:1,indices:1,induced_from:1,inject:1,insert:1,inspect:1,instance_eval:1,instance_method:1,instance_methods:1,\"instance_of?\":1,\"instance_variable_defined?\":1,instance_variable_get:1,instance_variable_set:1,instance_variables:1,\"integer?\":1,intern:1,invert:1,ioctl:1,\"is_a?\":1,isatty:1,\"iterator?\":1,join:1,\"key?\":1,keys:1,\"kind_of?\":1,lambda:1,last:1,length:1,lineno:1,ljust:1,load:1,local_variables:1,loop:1,lstrip:1,\"lstrip!\":1,map:1,\"map!\":1,match:1,max:1,\"member?\":1,merge:1,\"merge!\":1,method:1,\"method_defined?\":1,method_missing:1,methods:1,min:1,module_eval:1,modulo:1,name:1,nesting:1,\"new\":1,next:1,\"next!\":1,\"nil?\":1,nitems:1,\"nonzero?\":1,object_id:1,oct:1,open:1,pack:1,partition:1,pid:1,pipe:1,pop:1,popen:1,pos:1,prec:1,prec_f:1,prec_i:1,print:1,printf:1,private_class_method:1,private_instance_methods:1,\"private_method_defined?\":1,private_methods:1,proc:1,protected_instance_methods:1,\n    4: \"protected_method_defined?\":1,protected_methods:1,public_class_method:1,public_instance_methods:1,\"public_method_defined?\":1,public_methods:1,push:1,putc:1,puts:1,quo:1,raise:1,rand:1,rassoc:1,read:1,read_nonblock:1,readchar:1,readline:1,readlines:1,readpartial:1,rehash:1,reject:1,\"reject!\":1,remainder:1,reopen:1,replace:1,require:1,\"respond_to?\":1,reverse:1,\"reverse!\":1,reverse_each:1,rewind:1,rindex:1,rjust:1,round:1,rstrip:1,\"rstrip!\":1,scan:1,seek:1,select:1,send:1,set_trace_func:1,shift:1,singleton_method_added:1,singleton_methods:1,size:1,sleep:1,slice:1,\"slice!\":1,sort:1,\"sort!\":1,sort_by:1,split:1,sprintf:1,squeeze:1,\"squeeze!\":1,srand:1,stat:1,step:1,store:1,strip:1,\"strip!\":1,sub:1,\"sub!\":1,succ:1,\"succ!\":1,sum:1,superclass:1,swapcase:1,\"swapcase!\":1,sync:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,taint:1,\"tainted?\":1,tell:1,test:1,\"throw\":1,times:1,to_a:1,to_ary:1,to_f:1,to_hash:1,to_i:1,to_int:1,to_io:1,to_proc:1,to_s:1,to_str:1,to_sym:1,tr:1,\"tr!\":1,tr_s:1,\"tr_s!\":1,trace_var:1,transpose:1,trap:1,truncate:1,\"tty?\":1,type:1,ungetc:1,uniq:1,\"uniq!\":1,unpack:1,unshift:1,untaint:1,untrace_var:1,upcase:1,\"upcase!\":1,update:1,upto:1,\"value?\":1,values:1,values_at:1,warn:1,write:1,write_nonblock:1,\"zero?\":1,zip:1}},r={cN:\"yardoctag\",b:\"@[A-Za-z]+\"},a={cN:\"comment\",b:\"#\",e:\"$\",c:[r]},i={cN:\"comment\",b:\"^\\\\=begin\",e:\"^\\\\=end\",c:[r],r:10},o={cN:\"comment\",b:\"^__END__\",e:\"\\\\n$\"},s={cN:\"subst\",b:\"#\\\\{\",e:\"}\",l:e,k:n},l=[hljs.BE,s],u={cN:\"string\",b:\"'\",e:\"'\",c:l,r:0},c={cN:\"string\",b:'\"',e:'\"',c:l,r:0},f={cN:\"string\",b:\"%[qw]?\\\\(\",e:\"\\\\)\",c:l,r:10},d={cN:\"string\",b:\"%[qw]?\\\\[\",e:\"\\\\]\",c:l,r:10},h={cN:\"string\",b:\"%[qw]?{\",e:\"}\",c:l,r:10},p={cN:\"string\",b:\"%[qw]?<\",e:\">\",c:l,r:10},g={cN:\"string\",b:\"%[qw]?/\",e:\"/\",c:l,r:10},m={cN:\"string\",b:\"%[qw]?%\",e:\"%\",c:l,r:10},v={cN:\"string\",b:\"%[qw]?-\",e:\"-\",c:l,r:10},y={cN:\"string\",b:\"%[qw]?\\\\|\",e:\"\\\\|\",c:l,r:10},b={cN:\"function\",b:\"\\\\bdef\\\\s+\",e:\" |$|;\",l:e,k:n,c:[{cN:\"title\",b:t,l:e,k:n},{cN:\"params\",b:\"\\\\(\",e:\"\\\\)\",l:e,k:n},a,i,o]},w={cN:\"identifier\",b:e,l:e,k:n,r:0},x=[a,i,o,u,c,f,d,h,p,g,m,v,y,{cN:\"class\",b:\"\\\\b(class|module)\\\\b\",e:\"$|;\",k:{\"class\":1,module:1},c:[{cN:\"title\",b:\"[A-Za-z_]\\\\w*(::\\\\w+)*(\\\\?|\\\\!)?\",r:0},{cN:\"inheritance\",b:\"<\\\\s*\",c:[{cN:\"parent\",b:\"(\"+hljs.IR+\"::)?\"+hljs.IR}]},a,i,o]},b,{cN:\"constant\",b:\"(::)?([A-Z]\\\\w*(::)?)+\",r:0},{cN:\"symbol\",b:\":\",c:[u,c,f,d,h,p,g,m,v,y,w],r:0},{cN:\"number\",b:\"(\\\\b0[0-7_]+)|(\\\\b0x[0-9a-fA-F_]+)|(\\\\b[1-9][0-9_]*(\\\\.[0-9_]+)?)|[0_]\\\\b\",r:0},{cN:\"number\",b:\"\\\\?\\\\w\"},{cN:\"variable\",b:\"(\\\\$\\\\W)|((\\\\$|\\\\@\\\\@?)(\\\\w+))\"},w,{b:\"(\"+hljs.RSR+\")\\\\s*\",c:[a,i,o,{cN:\"regexp\",b:\"/\",e:\"/[a-z]*\",i:\"\\\\n\",c:[hljs.BE]}],r:0}];return s.c=x,{dM:{l:e,k:n,c:b.c[1].c=x}}}(),function(c,s,o){function l(e,t,n){var r=s.createElement(e);return t&&(r.id=te+t),n&&(r.style.cssText=n),c(r)}function f(){return o.innerHeight?o.innerHeight:c(o).height()}function u(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var t;return this.cache[e]===undefined&&((t=c(this.el).attr(\"data-cbox-\"+e))!==undefined?this.cache[e]=t:n[e]!==undefined?this.cache[e]=n[e]:Q[e]!==undefined&&(this.cache[e]=Q[e])),this.cache[e]},this.get=function(e){var t=this.value(e);return c.isFunction(t)?t.call(this.el,this):t}}function i(e){var t=k.length,n=(X+e)%t;return n<0?t+n:n}function d(e,t){return Math.round((/%/.test(e)?(\"x\"===t?I.width():f())/100:1)*parseInt(e,10))}function h(e,t){return e.get(\"photo\")||e.get(\"photoRegex\").test(t)}function p(e,t){return e.get(\"retinaUrl\")&&1<o.devicePixelRatio?t.replace(e.get(\"photoRegex\"),e.get(\"retinaSuffix\")):t}function g(e){\"contains\"in S[0]&&!S[0].contains(e.target)&&e.target!==x[0]&&(e.stopPropagation(),S.focus())}function m(e){m.str!==e&&(S.add(x).removeClass(m.str).addClass(e),m.str=e)}function v(e){X=0,e&&!1!==e&&\"nofollow\"!==e?(k=c(\".\"+ne).filter(function(){return new u(this,c.data(this,ee)).get(\"rel\")===e}),-1===(X=k.index(W.el))&&(k=k.add(W.el),X=k.length-1)):k=c(W.el)}function y(e){c(s).trigger(e),ue.triggerHandler(e)}function r(e){var t;if(!Y){if(t=c(e).data(ee),v((W=new u(e,t)).get(\"rel\")),!G){G=J=!0,m(W.get(\"className\")),S.css({visibility:\"hidden\",display:\"block\",opacity:\"\"}),j=l(ce,\"LoadedContent\",\"width:0; height:0; overflow:hidden; visibility:hidden\"),T.css({width:\"\",height:\"\"}).append(j),B=C.height()+N.height()+T.outerHeight(!0)-T.height(),$=_.width()+A.width()+T.outerWidth(!0)-T.width(),U=j.outerHeight(!0),z=j.outerWidth(!0);var n=d(W.get(\"initialWidth\"),\"x\"),r=d(W.get(\"initialHeight\"),\"y\"),a=W.get(\"maxWidth\"),i=W.get(\"maxHeight\");W.w=Math.max((!1!==a?Math.min(n,d(a,\"x\")):n)-z-$,0),W.h=Math.max((!1!==i?Math.min(r,d(i,\"y\")):r)-U-B,0),j.css({width:\"\",height:W.h}),K.position(),y(re),W.get(\"onOpen\"),q.add(R).hide(),S.focus(),W.get(\"trapFocus\")&&s.addEventListener&&(s.addEventListener(\"focus\",g,!0),ue.one(se,function(){s.removeEventListener(\"focus\",g,!0)})),W.get(\"returnFocus\")&&ue.one(se,function(){c(W.el).focus()})}var o=parseFloat(W.get(\"opacity\"));x.css({opacity:o==o?o:\"\",cursor:W.get(\"overlayClose\")?\"pointer\":\"\",visibility:\"visible\"}).show(),W.get(\"closeButton\")?O.html(W.get(\"close\")).appendTo(T):O.appendTo(\"<div/>\"),w()}}function a(){S||(t=!1,I=c(o),S=l(ce).attr({id:ee,\"class\":!1===c.support.opacity?te+\"IE\":\"\",role:\"dialog\",tabindex:\"-1\"}).hide(),x=l(ce,\"Overlay\").hide(),E=c([l(ce,\"LoadingOverlay\")[0],l(ce,\"LoadingGraphic\")[0]]),D=l(ce,\"Wrapper\"),T=l(ce,\"Content\").append(R=l(ce,\"Title\"),F=l(ce,\"Current\"),M=c('<button type=\"button\"/>').attr({id:te+\"Previous\"}),H=c('<button type=\"button\"/>').attr({id:te+\"Next\"}),P=c('<button type=\"button\"/>').attr({id:te+\"Slideshow\"}),E),O=c('<button type=\"button\"/>').attr({id:te+\"Close\"}),D.append(l(ce).append(l(ce,\"TopLeft\"),C=l(ce,\"TopCenter\"),l(ce,\"TopRight\")),l(ce,!1,\"clear:left\").append(_=l(ce,\"MiddleLeft\"),T,A=l(ce,\"MiddleRight\")),l(ce,!1,\"clear:left\").append(l(ce,\"BottomLeft\"),N=l(ce,\"BottomCenter\"),l(ce,\"BottomRight\"))).find(\"div div\").css({\"float\":\"left\"}),L=l(ce,!1,\"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;\"),q=H.add(M).add(F).add(P)),s.body&&!S.parent().length&&c(s.body).append(x,S.append(D,L))}function b(){function e(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),r(this))}return!!S&&(t||(t=!0,H.click(function(){K.next()}),M.click(function(){K.prev()}),O.click(function(){K.close()}),x.click(function(){W.get(\"overlayClose\")&&K.close()}),c(s).bind(\"keydown.\"+te,function(e){var t=e.keyCode;G&&W.get(\"escKey\")&&27===t&&(e.preventDefault(),K.close()),G&&W.get(\"arrowKey\")&&k[1]&&!e.altKey&&(37===t?(e.preventDefault(),M.click()):39===t&&(e.preventDefault(),H.click()))}),c.isFunction(c.fn.on)?c(s).on(\"click.\"+te,\".\"+ne,e):c(\".\"+ne).live(\"click.\"+te,e)),!0)}function w(){var e,t,n,r=K.prep,a=++fe;if(V=!(J=!0),y(le),y(ae),W.get(\"onLoad\"),W.h=W.get(\"height\")?d(W.get(\"height\"),\"y\")-U-B:W.get(\"innerHeight\")&&d(W.get(\"innerHeight\"),\"y\"),W.w=W.get(\"width\")?d(W.get(\"width\"),\"x\")-z-$:W.get(\"innerWidth\")&&d(W.get(\"innerWidth\"),\"x\"),W.mw=W.w,W.mh=W.h,W.get(\"maxWidth\")&&(W.mw=d(W.get(\"maxWidth\"),\"x\")-z-$,W.mw=W.w&&W.w<W.mw?W.w:W.mw),W.get(\"maxHeight\")&&(W.mh=d(W.get(\"maxHeight\"),\"y\")-U-B,W.mh=W.h&&W.h<W.mh?W.h:W.mh),e=W.get(\"href\"),Z=setTimeout(function(){E.show()},100),W.get(\"inline\")){var i=c(e).eq(0);n=c(\"<div>\").hide().insertBefore(i),ue.one(le,function(){n.replaceWith(i)}),r(i)}else W.get(\"iframe\")?r(\" \"):W.get(\"html\")?r(W.get(\"html\")):h(W,e)?(e=p(W,e),V=W.get(\"createImg\"),c(V).addClass(te+\"Photo\").bind(\"error.\"+te,function(){r(l(ce,\"Error\").html(W.get(\"imgError\")))}).one(\"load\",function(){a===fe&&setTimeout(function(){var e;W.get(\"retinaImage\")&&1<o.devicePixelRatio&&(V.height=V.height/o.devicePixelRatio,V.width=V.width/o.devicePixelRatio),W.get(\"scalePhotos\")&&(t=function(){V.height-=V.height*e,V.width-=V.width*e},W.mw&&V.width>W.mw&&(e=(V.width-W.mw)/V.width,t()),W.mh&&V.height>W.mh&&(e=(V.height-W.mh)/V.height,t())),W.h&&(V.style.marginTop=Math.max(W.mh-V.height,0)/2+\"px\"),k[1]&&(W.get(\"loop\")||k[X+1])&&(V.style.cursor=\"pointer\",c(V).bind(\"click.\"+te,function(){K.next()})),V.style.width=V.width+\"px\",V.style.height=V.height+\"px\",r(V)},1)}),V.src=e):e&&L.load(e,W.get(\"data\"),function(e,t){a===fe&&r(\"error\"===t?l(ce,\"Error\").html(W.get(\"xhrError\")):c(this).contents())})}var x,S,D,T,C,_,A,N,k,I,j,L,E,R,F,P,H,M,O,q,W,B,$,U,z,X,V,G,J,Y,Z,K,t,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:\"elastic\",speed:300,fadeOut:300,width:!1,initialWidth:\"600\",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:\"450\",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:\"start slideshow\",slideshowStop:\"stop slideshow\",photoRegex:/\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:\"@2x.$1\",current:\"image {current} of {total}\",previous:\"previous\",next:\"next\",close:\"close\",xhrError:\"This content failed to load.\",imgError:\"This image failed to load.\",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr(\"href\")},title:function(){return this.title},createImg:function(){var n=new Image,e=c(this).data(\"cbox-img-attrs\");return\"object\"==typeof e&&c.each(e,function(e,t){n[e]=t}),n},createIframe:function(){var n=s.createElement(\"iframe\"),e=c(this).data(\"cbox-iframe-attrs\");return\"object\"==typeof e&&c.each(e,function(e,t){n[e]=t}),\"frameBorder\"in n&&(n.frameBorder=0),\"allowTransparency\"in n&&(n.allowTransparency=\"true\"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},ee=\"colorbox\",te=\"cbox\",ne=te+\"Element\",re=te+\"_open\",ae=te+\"_load\",ie=te+\"_complete\",oe=te+\"_cleanup\",se=te+\"_closed\",le=te+\"_purge\",ue=c(\"<a/>\"),ce=\"div\",fe=0,de={},he=function(){function e(){clearTimeout(o)}function t(){(W.get(\"loop\")||k[X+1])&&(e(),o=setTimeout(K.next,W.get(\"slideshowSpeed\")))}function n(){P.html(W.get(\"slideshowStop\")).unbind(l).one(l,r),ue.bind(ie,t).bind(ae,e),S.removeClass(s+\"off\").addClass(s+\"on\")}function r(){e(),ue.unbind(ie,t).unbind(ae,e),P.html(W.get(\"slideshowStart\")).unbind(l).one(l,function(){K.next(),n()}),S.removeClass(s+\"on\").addClass(s+\"off\")}function a(){i=!1,P.hide(),e(),ue.unbind(ie,t).unbind(ae,e),S.removeClass(s+\"off \"+s+\"on\")}var i,o,s=te+\"Slideshow_\",l=\"click.\"+te;return function(){i?W.get(\"slideshow\")||(ue.unbind(oe,a),a()):W.get(\"slideshow\")&&k[1]&&(i=!0,ue.one(oe,a),W.get(\"slideshowAuto\")?n():r(),P.show())}}();c[ee]||(c(a),(K=c.fn[ee]=c[ee]=function(t,e){var n=this;return t=t||{},c.isFunction(n)&&(n=c(\"<a/>\"),t.open=!0),n[0]&&(a(),b()&&(e&&(t.onComplete=e),n.each(function(){var e=c.data(this,ee)||{};c.data(this,ee,c.extend(e,t))}).addClass(ne),new u(n[0],t).get(\"open\")&&r(n[0]))),n}).position=function(t,e){function n(){C[0].style.width=N[0].style.width=T[0].style.width=parseInt(S[0].style.width,10)-$+\"px\",T[0].style.height=_[0].style.height=A[0].style.height=parseInt(S[0].style.height,10)-B+\"px\"}var r,a,i,o=0,s=0,l=S.offset();if(I.unbind(\"resize.\"+te),S.css({top:-9e4,left:-9e4}),a=I.scrollTop(),i=I.scrollLeft(),W.get(\"fixed\")?(l.top-=a,l.left-=i,S.css({position:\"fixed\"})):(o=a,s=i,S.css({position:\"absolute\"})),!1!==W.get(\"right\")?s+=Math.max(I.width()-W.w-z-$-d(W.get(\"right\"),\"x\"),0):!1!==W.get(\"left\")?s+=d(W.get(\"left\"),\"x\"):s+=Math.round(Math.max(I.width()-W.w-z-$,0)/2),!1!==W.get(\"bottom\")?o+=Math.max(f()-W.h-U-B-d(W.get(\"bottom\"),\"y\"),0):!1!==W.get(\"top\")?o+=d(W.get(\"top\"),\"y\"):o+=Math.round(Math.max(f()-W.h-U-B,0)/2),S.css({top:l.top,left:l.left,visibility:\"visible\"}),D[0].style.width=D[0].style.height=\"9999px\",r={width:W.w+z+$,height:W.h+U+B,top:o,left:s},t){var u=0;c.each(r,function(e){r[e]===de[e]||(u=t)}),t=u}de=r,t||S.css(r),S.dequeue().animate(r,{duration:t||0,complete:function(){n(),J=!1,D[0].style.width=W.w+z+$+\"px\",D[0].style.height=W.h+U+B+\"px\",W.get(\"reposition\")&&setTimeout(function(){I.bind(\"resize.\"+te,K.position)},1),c.isFunction(e)&&e()},step:n})},K.resize=function(e){var t;G&&((e=e||{}).width&&(W.w=d(e.width,\"x\")-z-$),e.innerWidth&&(W.w=d(e.innerWidth,\"x\")),j.css({width:W.w}),e.height&&(W.h=d(e.height,\"y\")-U-B),e.innerHeight&&(W.h=d(e.innerHeight,\"y\")),e.innerHeight||e.height||(t=j.scrollTop(),j.css({height:\"auto\"}),W.h=j.height()),j.css({height:W.h}),t&&j.scrollTop(t),K.position(\"none\"===W.get(\"transition\")?0:W.get(\"speed\")))},K.prep=function(e){function t(){return W.w=W.w||j.width(),W.w=W.mw&&W.mw<W.w?W.mw:W.w,W.w}function n(){return W.h=W.h||j.height(),W.h=W.mh&&W.mh<W.h?W.mh:W.h,W.h}if(G){var r,a=\"none\"===W.get(\"transition\")?0:W.get(\"speed\");j.remove(),(j=l(ce,\"LoadedContent\").append(e)).hide().appendTo(L.show()).css({width:t(),overflow:W.get(\"scrolling\")?\"auto\":\"hidden\"}).css({height:n()}).prependTo(T),L.hide(),c(V).css({\"float\":\"none\"}),m(W.get(\"className\")),r=function(){function e(){!1===c.support.opacity&&S[0].style.removeAttribute(\"filter\")}var t,n,r=k.length;G&&(n=function(){clearTimeout(Z),E.hide(),y(ie),W.get(\"onComplete\")},R.html(W.get(\"title\")).show(),j.show(),1<r?(\"string\"==typeof W.get(\"current\")&&F.html(W.get(\"current\").replace(\"{current}\",X+1).replace(\"{total}\",r)).show(),H[W.get(\"loop\")||X<r-1?\"show\":\"hide\"]().html(W.get(\"next\")),M[W.get(\"loop\")||X?\"show\":\"hide\"]().html(W.get(\"previous\")),he(),W.get(\"preloading\")&&c.each([i(-1),i(1)],function(){var e=k[this],t=new u(e,c.data(e,ee)),n=t.get(\"href\");n&&h(t,n)&&(n=p(t,n),s.createElement(\"img\").src=n)})):q.hide(),W.get(\"iframe\")?(t=W.get(\"createIframe\"),W.get(\"scrolling\")||(t.scrolling=\"no\"),c(t).attr({src:W.get(\"href\"),\"class\":te+\"Iframe\"}).one(\"load\",n).appendTo(j),ue.one(le,function(){t.src=\"//about:blank\"}),W.get(\"fastIframe\")&&c(t).trigger(\"load\")):n(),\"fade\"===W.get(\"transition\")?S.fadeTo(a,1,e):e())},\"fade\"===W.get(\"transition\")?S.fadeTo(a,0,function(){K.position(0,r)}):K.position(a,r)}},K.next=function(){!J&&k[1]&&(W.get(\"loop\")||k[X+1])&&(X=i(1),r(k[X]))},K.prev=function(){!J&&k[1]&&(W.get(\"loop\")||X)&&(X=i(-1),r(k[X]))},K.close=function(){G&&!Y&&(G=!(Y=!0),y(oe),W.get(\"onCleanup\"),I.unbind(\".\"+te),x.fadeTo(W.get(\"fadeOut\")||0,0),S.stop().fadeTo(W.get(\"fadeOut\")||0,0,function(){S.hide(),x.hide(),y(le),j.remove(),setTimeout(function(){Y=!1,y(se),W.get(\"onClosed\")},1)}))},K.remove=function(){S&&(S.stop(),c[ee].close(),S.stop(!1,!0).remove(),x.remove(),Y=!1,S=null,c(\".\"+ne).removeData(ee).removeClass(ne),c(s).unbind(\"click.\"+te).unbind(\"keydown.\"+te))},K.element=function(){return c(W.el)},K.settings=Q)}(jQuery,document,window),function(n){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],function(e){return n(e,window,document)}):\"object\"==typeof exports?module.exports=function(e,t){return e||(e=window),t||(t=\"undefined\"!=typeof window?require(\"jquery\"):require(\"jquery\")(e)),n(t,e,e.document)}:n(jQuery,window,document)}(function(B,N,w,$){\"use strict\";function o(t){var n,r,a=\"a aa ai ao as b fn i m o s \",i={};B.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!==a.indexOf(n[1]+\" \")&&(r=e.replace(n[0],n[2].toLowerCase()),i[r]=e,\"o\"===n[1]&&o(t[e]))}),t._hungarianMap=i}function A(t,n,r){var a;t._hungarianMap||o(t),B.each(n,function(e){(a=t._hungarianMap[e])===$||!r&&n[a]!==$||(\"o\"===a.charAt(0)?(n[a]||(n[a]={}),B.extend(!0,n[a],n[e]),A(t[a],n[a],r)):n[a]=n[e])})}function k(e){var t=Ge.defaults.oLanguage,n=t.sDecimal;if(n&&Be(n),e){var r=e.sZeroRecords;!e.sEmptyTable&&r&&\"No data available in table\"===t.sEmptyTable&&Ee(e,e,\"sZeroRecords\",\"sEmptyTable\"),!e.sLoadingRecords&&r&&\"Loading...\"===t.sLoadingRecords&&Ee(e,e,\"sZeroRecords\",\"sLoadingRecords\"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&n!==a&&Be(a)}}function I(e){pt(e,\"ordering\",\"bSort\"),pt(e,\"orderMulti\",\"bSortMulti\"),pt(e,\"orderClasses\",\"bSortClasses\"),pt(e,\"orderCellsTop\",\"bSortCellsTop\"),pt(e,\"order\",\"aaSorting\"),pt(e,\"orderFixed\",\"aaSortingFixed\"),pt(e,\"paging\",\"bPaginate\"),pt(e,\"pagingType\",\"sPaginationType\"),pt(e,\"pageLength\",\"iDisplayLength\"),pt(e,\"searching\",\"bFilter\"),\"boolean\"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?\"100%\":\"\"),\"boolean\"==typeof e.scrollX&&(e.scrollX=e.scrollX?\"100%\":\"\");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&A(Ge.models.oSearch,t[n])}function j(e){pt(e,\"orderable\",\"bSortable\"),pt(e,\"orderData\",\"aDataSort\"),pt(e,\"orderSequence\",\"asSorting\"),pt(e,\"orderDataType\",\"sortDataType\");var t=e.aDataSort;\"number\"!=typeof t||B.isArray(t)||(e.aDataSort=[t])}function L(e){if(!Ge.__browser){var t={};Ge.__browser=t;var n=B(\"<div/>\").css({position:\"fixed\",top:0,left:-1*B(N).scrollLeft(),height:1,width:1,overflow:\"hidden\"}).append(B(\"<div/>\").css({position:\"absolute\",top:1,left:1,width:100,overflow:\"scroll\"}).append(B(\"<div/>\").css({width:\"100%\",height:10}))).appendTo(\"body\"),r=n.children(),a=r.children();t.barWidth=r[0].offsetWidth-r[0].clientWidth,t.bScrollOversize=100===a[0].offsetWidth&&100!==r[0].clientWidth,t.bScrollbarLeft=1!==Math.round(a.offset().left),t.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}B.extend(e.oBrowser,Ge.__browser),e.oScroll.iBarWidth=Ge.__browser.barWidth}function n(e,t,n,r,a,i){var o,s=r,l=!1;for(n!==$&&(o=n,l=!0);s!==a;)e.hasOwnProperty(s)&&(o=l?t(o,e[s],s,e):e[s],l=!0,s+=i);return o}function E(e,t){var n=Ge.defaults.column,r=e.aoColumns.length,a=B.extend({},Ge.models.oColumn,n,{nTh:t||w.createElement(\"th\"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:\"\",aDataSort:n.aDataSort?n.aDataSort:[r],mData:n.mData?n.mData:r,idx:r});e.aoColumns.push(a);var i=e.aoPreSearchCols;i[r]=B.extend({},Ge.models.oSearch,i[r]),R(e,r,B(t).data())}function R(e,t,n){var r=e.aoColumns[t],a=e.oClasses,i=B(r.nTh);if(!r.sWidthOrig){r.sWidthOrig=i.attr(\"width\")||null;var o=(i.attr(\"style\")||\"\").match(/width:\\s*(\\d+[pxem%]+)/);o&&(r.sWidthOrig=o[1])}n!==$&&null!==n&&(j(n),A(Ge.defaults.column,n,!0),n.mDataProp===$||n.mData||(n.mData=n.mDataProp),n.sType&&(r._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&i.addClass(n.sClass),B.extend(r,n),Ee(r,n,\"sWidth\",\"sWidthOrig\"),n.iDataSort!==$&&(r.aDataSort=[n.iDataSort]),Ee(r,n,\"aDataSort\"));var s=r.mData,l=q(s),u=r.mRender?q(r.mRender):null,c=function(e){return\"string\"==typeof e&&-1!==e.indexOf(\"@\")};r._bAttrSrc=B.isPlainObject(s)&&(c(s.sort)||c(s.type)||c(s.filter)),r._setter=null,r.fnGetData=function(e,t,n){var r=l(e,t,$,n);return u&&t?u(r,t,e,n):r},r.fnSetData=function(e,t,n){return y(s)(e,t,n)},\"number\"!=typeof s&&(e._rowReadObject=!0),e.oFeatures.bSort||(r.bSortable=!1,i.addClass(a.sSortableNone));var f=-1!==B.inArray(\"asc\",r.asSorting),d=-1!==B.inArray(\"desc\",r.asSorting);r.bSortable&&(f||d)?f&&!d?(r.sSortingClass=a.sSortableAsc,r.sSortingClassJUI=a.sSortJUIAscAllowed):!f&&d?(r.sSortingClass=a.sSortableDesc,r.sSortingClassJUI=a.sSortJUIDescAllowed):(r.sSortingClass=a.sSortable,r.sSortingClassJUI=a.sSortJUI):(r.sSortingClass=a.sSortableNone,r.sSortingClassJUI=\"\")}function U(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ve(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var a=e.oScroll;\"\"===a.sY&&\"\"===a.sX||ge(e),He(e,null,\"column-sizing\",[e])}function z(e,t){var n=P(e,\"bVisible\");return\"number\"==typeof n[t]?n[t]:null}function c(e,t){var n=P(e,\"bVisible\"),r=B.inArray(t,n);return-1!==r?r:null}function F(e){var n=0;return B.each(e.aoColumns,function(e,t){t.bVisible&&\"none\"!==B(t.nTh).css(\"display\")&&n++}),n}function P(e,n){var r=[];return B.map(e.aoColumns,function(e,t){e[n]&&r.push(t)}),r}function l(e){var t,n,r,a,i,o,s,l,u,c=e.aoColumns,f=e.aoData,d=Ge.ext.type.detect;for(t=0,n=c.length;t<n;t++)if(u=[],!(s=c[t]).sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(r=0,a=d.length;r<a;r++){for(i=0,o=f.length;i<o&&(u[i]===$&&(u[i]=g(e,i,t,\"type\")),(l=d[r](u[i],e))||r===d.length-1)&&\"html\"!==l;i++);if(l){s.sType=l;break}}s.sType||(s.sType=\"string\")}}function H(e,t,n,r){var a,i,o,s,l,u,c,f=e.aoColumns;if(t)for(a=t.length-1;0<=a;a--){var d=(c=t[a]).targets!==$?c.targets:c.aTargets;for(B.isArray(d)||(d=[d]),o=0,s=d.length;o<s;o++)if(\"number\"==typeof d[o]&&0<=d[o]){for(;f.length<=d[o];)E(e);r(d[o],c)}else if(\"number\"==typeof d[o]&&d[o]<0)r(f.length+d[o],c);else if(\"string\"==typeof d[o])for(l=0,u=f.length;l<u;l++)(\"_all\"==d[o]||B(f[l].nTh).hasClass(d[o]))&&r(l,c)}if(n)for(a=0,i=n.length;a<i;a++)r(a,n[a])}function M(e,t,n,r){var a=e.aoData.length,i=B.extend(!0,{},Ge.models.oRow,{src:n?\"dom\":\"data\",idx:a});i._aData=t,e.aoData.push(i);for(var o=e.aoColumns,s=0,l=o.length;s<l;s++)o[s].sType=null;e.aiDisplayMaster.push(a);var u=e.rowIdFn(t);return u!==$&&(e.aIds[u]=i),!n&&e.oFeatures.bDeferRender||S(e,a,n,r),a}function O(n,e){var r;return e instanceof B||(e=B(e)),e.map(function(e,t){return r=f(n,t),M(n,r.data,t,r.cells)})}function e(e,t){return t._DT_RowIndex!==$?t._DT_RowIndex:null}function t(e,t,n){return B.inArray(n,e.aoData[t].anCells)}function g(e,t,n,r){var a=e.iDraw,i=e.aoColumns[n],o=e.aoData[t]._aData,s=i.sDefaultContent,l=i.fnGetData(o,r,{settings:e,row:t,col:n});if(l===$)return e.iDrawError!=a&&null===s&&(Le(e,0,\"Requested unknown parameter \"+(\"function\"==typeof i.mData?\"{function}\":\"'\"+i.mData+\"'\")+\" for row \"+t+\", column \"+n,4),e.iDrawError=a),s;if(l!==o&&null!==l||null===s||r===$){if(\"function\"==typeof l)return l.call(o)}else l=s;return null===l&&\"display\"==r?\"\":l}function r(e,t,n,r){var a=e.aoColumns[n],i=e.aoData[t]._aData;a.fnSetData(i,r,{settings:e,row:t,col:n})}function m(e){return B.map(e.match(/(\\\\.|[^\\.])+/g)||[\"\"],function(e){return e.replace(/\\\\\\./g,\".\")})}function q(a){if(B.isPlainObject(a)){var i={};return B.each(a,function(e,t){t&&(i[e]=q(t))}),function(e,t,n,r){var a=i[t]||i._;return a!==$?a(e,t,n,r):e}}if(null===a)return function(e){return e};if(\"function\"==typeof a)return function(e,t,n,r){return a(e,t,n,r)};if(\"string\"!=typeof a||-1===a.indexOf(\".\")&&-1===a.indexOf(\"[\")&&-1===a.indexOf(\"(\"))return function(e){return e[a]};var h=function(e,t,n){var r,a,i,o;if(\"\"!==n)for(var s=m(n),l=0,u=s.length;l<u;l++){if(r=s[l].match(gt),a=s[l].match(mt),r){if(s[l]=s[l].replace(gt,\"\"),\"\"!==s[l]&&(e=e[s[l]]),i=[],s.splice(0,l+1),o=s.join(\".\"),B.isArray(e))for(var c=0,f=e.length;c<f;c++)i.push(h(e[c],t,o));var d=r[0].substring(1,r[0].length-1);e=\"\"===d?i:i.join(d);break}if(a)s[l]=s[l].replace(mt,\"\"),e=e[s[l]]();else{if(null===e||e[s[l]]===$)return $;e=e[s[l]]}}return e};return function(e,t){return h(e,t,a)}}function y(r){if(B.isPlainObject(r))return y(r._);if(null===r)return function(){};if(\"function\"==typeof r)return function(e,t,n){r(e,\"set\",t,n)};if(\"string\"!=typeof r||-1===r.indexOf(\".\")&&-1===r.indexOf(\"[\")&&-1===r.indexOf(\"(\"))return function(e,t){e[r]=t};var p=function(e,t,n){for(var r,a,i,o,s,l=m(n),u=l[l.length-1],c=0,f=l.length-1;c<f;c++){if(a=l[c].match(gt),i=l[c].match(mt),a){if(l[c]=l[c].replace(gt,\"\"),e[l[c]]=[],(r=l.slice()).splice(0,c+1),s=r.join(\".\"),B.isArray(t))for(var d=0,h=t.length;d<h;d++)p(o={},t[d],s),e[l[c]].push(o);else e[l[c]]=t;return}i&&(l[c]=l[c].replace(mt,\"\"),e=e[l[c]](t)),null!==e[l[c]]&&e[l[c]]!==$||(e[l[c]]={}),e=e[l[c]]}u.match(mt)?e=e[u.replace(mt,\"\")](t):e[u.replace(gt,\"\")]=t};return function(e,t){return p(e,t,r)}}function x(e){return st(e.aoData,\"_aData\")}function u(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function h(e,t,n){for(var r=-1,a=0,i=e.length;a<i;a++)e[a]==t?r=a:e[a]>t&&e[a]--;-1!=r&&n===$&&e.splice(r,1)}function a(n,r,e,t){var a,i,o=n.aoData[r],s=function(e,t){for(;e.childNodes.length;)e.removeChild(e.firstChild);e.innerHTML=g(n,r,t,\"display\")};if(\"dom\"!==e&&(e&&\"auto\"!==e||\"dom\"!==o.src)){var l=o.anCells;if(l)if(t!==$)s(l[t],t);else for(a=0,i=l.length;a<i;a++)s(l[a],a)}else o._aData=f(n,o,t,t===$?$:o._aData).data;o._aSortData=null,o._aFilterData=null;var u=n.aoColumns;if(t!==$)u[t].sType=null;else{for(a=0,i=u.length;a<i;a++)u[a].sType=null;p(n,o)}}function f(e,t,n,a){var r,i,o,s=[],l=t.firstChild,u=0,c=e.aoColumns,f=e._rowReadObject;a=a!==$?a:f?{}:[];var d=function(e,t){if(\"string\"==typeof e){var n=e.indexOf(\"@\");if(-1!==n){var r=e.substring(n+1);y(e)(a,t.getAttribute(r))}}},h=function(e){n!==$&&n!==u||(i=c[u],o=B.trim(e.innerHTML),i&&i._bAttrSrc?(y(i.mData._)(a,o),d(i.mData.sort,e),d(i.mData.type,e),d(i.mData.filter,e)):f?(i._setter||(i._setter=y(i.mData)),i._setter(a,o)):a[u]=o);u++};if(l)for(;l;)\"TD\"!=(r=l.nodeName.toUpperCase())&&\"TH\"!=r||(h(l),s.push(l)),l=l.nextSibling;else for(var p=0,g=(s=t.anCells).length;p<g;p++)h(s[p]);var m=t.firstChild?t:t.nTr;if(m){var v=m.getAttribute(\"id\");v&&y(e.rowId)(a,v)}return{data:a,cells:s}}function S(e,t,n,r){var a,i,o,s,l,u,c=e.aoData[t],f=c._aData,d=[];if(null===c.nTr){for(a=n||w.createElement(\"tr\"),c.nTr=a,c.anCells=d,a._DT_RowIndex=t,p(e,c),s=0,l=e.aoColumns.length;s<l;s++)o=e.aoColumns[s],(i=(u=!n)?w.createElement(o.sCellType):r[s])._DT_CellIndex={row:t,column:s},d.push(i),!u&&(n&&!o.mRender&&o.mData===s||B.isPlainObject(o.mData)&&o.mData._===s+\".display\")||(i.innerHTML=g(e,t,s,\"display\")),o.sClass&&(i.className+=\" \"+o.sClass),o.bVisible&&!n?a.appendChild(i):!o.bVisible&&n&&i.parentNode.removeChild(i),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,i,g(e,t,s),f,t,s);He(e,\"aoRowCreatedCallback\",null,[a,f,t,d])}c.nTr.setAttribute(\"role\",\"row\")}function p(e,t){var n=t.nTr,r=t._aData;if(n){var a=e.rowIdFn(r);if(a&&(n.id=a),r.DT_RowClass){var i=r.DT_RowClass.split(\" \");t.__rowc=t.__rowc?ht(t.__rowc.concat(i)):i,B(n).removeClass(t.__rowc.join(\" \")).addClass(r.DT_RowClass)}r.DT_RowAttr&&B(n).attr(r.DT_RowAttr),r.DT_RowData&&B(n).data(r.DT_RowData)}}function d(e){var t,n,r,a,i,o=e.nTHead,s=e.nTFoot,l=0===B(\"th, td\",o).length,u=e.oClasses,c=e.aoColumns;for(l&&(a=B(\"<tr/>\").appendTo(o)),t=0,n=c.length;t<n;t++)i=c[t],r=B(i.nTh).addClass(i.sClass),l&&r.appendTo(a),e.oFeatures.bSort&&(r.addClass(i.sSortingClass),!1!==i.bSortable&&(r.attr(\"tabindex\",e.iTabIndex).attr(\"aria-controls\",e.sTableId),_e(e,i.nTh,t))),i.sTitle!=r[0].innerHTML&&r.html(i.sTitle),Oe(e,\"header\")(e,r,i,u);if(l&&W(e.aoHeader,o),B(o).find(\">tr\").attr(\"role\",\"row\"),B(o).find(\">tr>th, >tr>td\").addClass(u.sHeaderTH),B(s).find(\">tr>th, >tr>td\").addClass(u.sFooterTH),null!==s){var f=e.aoFooter[0];for(t=0,n=f.length;t<n;t++)(i=c[t]).nTf=f[t].cell,i.sClass&&B(i.nTf).addClass(i.sClass)}}function v(e,t,n){var r,a,i,o,s,l,u,c,f,d=[],h=[],p=e.aoColumns.length;if(t){for(n===$&&(n=!1),r=0,a=t.length;r<a;r++){for(d[r]=t[r].slice(),d[r].nTr=t[r].nTr,i=p-1;0<=i;i--)e.aoColumns[i].bVisible||n||d[r].splice(i,1);h.push([])}for(r=0,a=d.length;r<a;r++){if(u=d[r].nTr)for(;l=u.firstChild;)u.removeChild(l);for(i=0,o=d[r].length;i<o;i++)if(f=c=1,h[r][i]===$){for(u.appendChild(d[r][i].cell),h[r][i]=1;d[r+c]!==$&&d[r][i].cell==d[r+c][i].cell;)h[r+c][i]=1,c++;for(;d[r][i+f]!==$&&d[r][i].cell==d[r][i+f].cell;){for(s=0;s<c;s++)h[r+s][i+f]=1;f++}B(d[r][i].cell).attr(\"rowspan\",c).attr(\"colspan\",f)}}}}function b(e){var t=He(e,\"aoPreDrawCallback\",\"preDraw\",[e]);if(-1===B.inArray(!1,t)){var n=[],r=0,a=e.asStripeClasses,i=a.length,o=(e.aoOpenRows.length,e.oLanguage),s=e.iInitDisplayStart,l=\"ssp\"==qe(e),u=e.aiDisplay;e.bDrawing=!0,s!==$&&-1!==s&&(e._iDisplayStart=l?s:s>=e.fnRecordsDisplay()?0:s,e.iInitDisplayStart=-1);var c=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,he(e,!1);else if(l){if(!e.bDestroying&&!_(e))return}else e.iDraw++;if(0!==u.length)for(var d=l?0:c,h=l?e.aoData.length:f,p=d;p<h;p++){var g=u[p],m=e.aoData[g];null===m.nTr&&S(e,g);var v=m.nTr;if(0!==i){var y=a[r%i];m._sRowStripe!=y&&(B(v).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}He(e,\"aoRowCallback\",null,[v,m._aData,r,p,g]),n.push(v),r++}else{var b=o.sZeroRecords;1==e.iDraw&&\"ajax\"==qe(e)?b=o.sLoadingRecords:o.sEmptyTable&&0===e.fnRecordsTotal()&&(b=o.sEmptyTable),n[0]=B(\"<tr/>\",{\"class\":i?a[0]:\"\"}).append(B(\"<td />\",{valign:\"top\",colSpan:F(e),\"class\":e.oClasses.sRowEmpty}).html(b))[0]}He(e,\"aoHeaderCallback\",\"header\",[B(e.nTHead).children(\"tr\")[0],x(e),c,f,u]),He(e,\"aoFooterCallback\",\"footer\",[B(e.nTFoot).children(\"tr\")[0],x(e),c,f,u]);var w=B(e.nTBody);w.children().detach(),w.append(B(n)),He(e,\"aoDrawCallback\",\"draw\",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else he(e,!1)}function D(e,t){var n=e.oFeatures,r=n.bSort,a=n.bFilter;r&&De(e),a?J(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,b(e),e._drawHold=!1}function T(e){var t=e.oClasses,n=B(e.nTable),r=B(\"<div/>\").insertBefore(n),a=e.oFeatures,i=B(\"<div/>\",{id:e.sTableId+\"_wrapper\",\"class\":t.sWrapper+(e.nTFoot?\"\":\" \"+t.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=i[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o,s,l,u,c,f,d=e.sDom.split(\"\"),h=0;h<d.length;h++){if(o=null,\"<\"==(s=d[h])){if(l=B(\"<div/>\")[0],\"'\"==(u=d[h+1])||'\"'==u){for(c=\"\",f=2;d[h+f]!=u;)c+=d[h+f],f++;if(\"H\"==c?c=t.sJUIHeader:\"F\"==c&&(c=t.sJUIFooter),-1!=c.indexOf(\".\")){var p=c.split(\".\");l.id=p[0].substr(1,p[0].length-1),l.className=p[1]}else\"#\"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c;h+=f}i.append(l),i=B(l)}else if(\">\"==s)i=i.parent();else if(\"l\"==s&&a.bPaginate&&a.bLengthChange)o=ue(e);else if(\"f\"==s&&a.bFilter)o=G(e);else if(\"r\"==s&&a.bProcessing)o=de(e);else if(\"t\"==s)o=pe(e);else if(\"i\"==s&&a.bInfo)o=re(e);else if(\"p\"==s&&a.bPaginate)o=ce(e);else if(0!==Ge.ext.feature.length)for(var g=Ge.ext.feature,m=0,v=g.length;m<v;m++)if(s==g[m].cFeature){o=g[m].fnInit(e);break}if(o){var y=e.aanFeatures;y[s]||(y[s]=[]),y[s].push(o),i.append(o)}}r.replaceWith(i),e.nHolding=null}function W(e,t){var n,r,a,i,o,s,l,u,c,f,d,h=B(t).children(\"tr\"),p=function(e,t,n){for(var r=e[t];r[n];)n++;return n};for(e.splice(0,e.length),a=0,s=h.length;a<s;a++)e.push([]);for(a=0,s=h.length;a<s;a++)for(u=0,r=(n=h[a]).firstChild;r;){if(\"TD\"==r.nodeName.toUpperCase()||\"TH\"==r.nodeName.toUpperCase())for(c=(c=1*r.getAttribute(\"colspan\"))&&0!==c&&1!==c?c:1,f=(f=1*r.getAttribute(\"rowspan\"))&&0!==f&&1!==f?f:1,l=p(e,a,u),d=1===c,o=0;o<c;o++)for(i=0;i<f;i++)e[a+i][l+o]={cell:r,unique:d},e[a+i].nTr=n;r=r.nextSibling}}function X(e,t,n){var r=[];n||(n=e.aoHeader,t&&W(n=[],t));for(var a=0,i=n.length;a<i;a++)for(var o=0,s=n[a].length;o<s;o++)!n[a][o].unique||r[o]&&e.bSortCellsTop||(r[o]=n[a][o].cell);return r}function C(r,e,t){if(He(r,\"aoServerParams\",\"serverParams\",[e]),e&&B.isArray(e)){var a={},i=/(.*?)\\[\\]$/;B.each(e,function(e,t){var n=t.name.match(i);if(n){var r=n[0];a[r]||(a[r]=[]),a[r].push(t.value)}else a[t.name]=t.value}),e=a}var n,o=r.ajax,s=r.oInstance,l=function(e){He(r,null,\"xhr\",[r,e,r.jqXHR]),t(e)};if(B.isPlainObject(o)&&o.data){var u=\"function\"==typeof(n=o.data)?n(e,r):n;e=\"function\"==typeof n&&u?u:B.extend(!0,e,u),delete o.data}var c={data:e,success:function(e){var t=e.error||e.sError;t&&Le(r,0,t),r.json=e,l(e)},dataType:\"json\",cache:!1,type:r.sServerMethod,error:function(e,t){var n=He(r,null,\"xhr\",[r,null,r.jqXHR]);-1===B.inArray(!0,n)&&(\"parsererror\"==t?Le(r,0,\"Invalid JSON response\",1):4===e.readyState&&Le(r,0,\"Ajax error\",7)),he(r,!1)}};r.oAjaxData=e,He(r,null,\"preXhr\",[r,e]),r.fnServerData?r.fnServerData.call(s,r.sAjaxSource,B.map(e,function(e,t){return{name:t,value:e}}),l,r):r.sAjaxSource||\"string\"==typeof o?r.jqXHR=B.ajax(B.extend(c,{url:o||r.sAjaxSource})):\"function\"==typeof o?r.jqXHR=o.call(s,e,l,r):(r.jqXHR=B.ajax(B.extend(c,o)),o.data=n)}function _(t){return!t.bAjaxDataGet||(t.iDraw++,he(t,!0),C(t,i(t),function(e){s(t,e)}),!1)}function i(e){var t,n,r,a,i=e.aoColumns,o=i.length,s=e.oFeatures,l=e.oPreviousSearch,u=e.aoPreSearchCols,c=[],f=Se(e),d=e._iDisplayStart,h=!1!==s.bPaginate?e._iDisplayLength:-1,p=function(e,t){c.push({name:e,value:t})};p(\"sEcho\",e.iDraw),p(\"iColumns\",o),p(\"sColumns\",st(i,\"sName\").join(\",\")),p(\"iDisplayStart\",d),p(\"iDisplayLength\",h);var g={draw:e.iDraw,columns:[],order:[],start:d,length:h,search:{value:l.sSearch,regex:l.bRegex}};for(t=0;t<o;t++)r=i[t],a=u[t],n=\"function\"==typeof r.mData?\"function\":r.mData,g.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),p(\"mDataProp_\"+t,n),s.bFilter&&(p(\"sSearch_\"+t,a.sSearch),p(\"bRegex_\"+t,a.bRegex),p(\"bSearchable_\"+t,r.bSearchable)),s.bSort&&p(\"bSortable_\"+t,r.bSortable);s.bFilter&&(p(\"sSearch\",l.sSearch),p(\"bRegex\",l.bRegex)),s.bSort&&(B.each(f,function(e,t){g.order.push({column:t.col,dir:t.dir}),p(\"iSortCol_\"+e,t.col),p(\"sSortDir_\"+e,t.dir)}),p(\"iSortingCols\",f.length));var m=Ge.ext.legacy.ajax;return null===m?e.sAjaxSource?c:g:m?c:g}function s(e,n){var t=function(e,t){return n[e]!==$?n[e]:n[t]},r=V(e,n),a=t(\"sEcho\",\"draw\"),i=t(\"iTotalRecords\",\"recordsTotal\"),o=t(\"iTotalDisplayRecords\",\"recordsFiltered\");if(a){if(1*a<e.iDraw)return;e.iDraw=1*a}u(e),e._iRecordsTotal=parseInt(i,10),e._iRecordsDisplay=parseInt(o,10);for(var s=0,l=r.length;s<l;s++)M(e,r[s])\n    5  ;e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,b(e),e._bInitComplete||se(e,n),e.bAjaxDataGet=!0,he(e,!1)}function V(e,t){var n=B.isPlainObject(e.ajax)&&e.ajax.dataSrc!==$?e.ajax.dataSrc:e.sAjaxDataProp;return\"data\"===n?t.aaData||t[n]:\"\"!==n?q(n)(t):t}function G(r){var e=r.oClasses,t=r.sTableId,n=r.oLanguage,a=r.oPreviousSearch,i=r.aanFeatures,o='<input type=\"search\" class=\"'+e.sFilterInput+'\"/>',s=n.sSearch;s=s.match(/_INPUT_/)?s.replace(\"_INPUT_\",o):s+o;var l=B(\"<div/>\",{id:i.f?null:t+\"_filter\",\"class\":e.sFilter}).append(B(\"<label/>\").append(s)),u=function(){i.f;var e=this.value?this.value:\"\";e!=a.sSearch&&(J(r,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),r._iDisplayStart=0,b(r))},c=null!==r.searchDelay?r.searchDelay:\"ssp\"===qe(r)?400:0,f=B(\"input\",l).val(a.sSearch).attr(\"placeholder\",n.sSearchPlaceholder).on(\"keyup.DT search.DT input.DT paste.DT cut.DT\",c?xt(u,c):u).on(\"keypress.DT\",function(e){if(13==e.keyCode)return!1}).attr(\"aria-controls\",t);return B(r.nTable).on(\"search.dt.DT\",function(e,t){if(r===t)try{f[0]!==w.activeElement&&f.val(a.sSearch)}catch(n){}}),l[0]}function J(e,t,n){var r=e.oPreviousSearch,a=e.aoPreSearchCols,i=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},o=function(e){return e.bEscapeRegex!==$?!e.bEscapeRegex:e.bRegex};if(l(e),\"ssp\"!=qe(e)){K(e,t.sSearch,n,o(t),t.bSmart,t.bCaseInsensitive),i(t);for(var s=0;s<a.length;s++)Z(e,a[s].sSearch,s,o(a[s]),a[s].bSmart,a[s].bCaseInsensitive);Y(e)}else i(t);e.bFiltered=!0,He(e,null,\"search\",[e])}function Y(e){for(var t,n,r=Ge.ext.search,a=e.aiDisplay,i=0,o=r.length;i<o;i++){for(var s=[],l=0,u=a.length;l<u;l++)n=a[l],t=e.aoData[n],r[i](e,t._aFilterData,n,t._aData,l)&&s.push(n);a.length=0,B.merge(a,s)}}function Z(e,t,n,r,a,i){if(\"\"!==t){for(var o,s=[],l=e.aiDisplay,u=Q(t,r,a,i),c=0;c<l.length;c++)o=e.aoData[l[c]]._aFilterData[n],u.test(o)&&s.push(l[c]);e.aiDisplay=s}}function K(e,t,n,r,a,i){var o,s,l,u=Q(t,r,a,i),c=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster,d=[];if(0!==Ge.ext.search.length&&(n=!0),s=ee(e),t.length<=0)e.aiDisplay=f.slice();else{for((s||n||r||c.length>t.length||0!==t.indexOf(c)||e.bSorted)&&(e.aiDisplay=f.slice()),o=e.aiDisplay,l=0;l<o.length;l++)u.test(e.aoData[o[l]]._sFilterRow)&&d.push(o[l]);e.aiDisplay=d}}function Q(e,t,n,r){(e=t?e:vt(e),n)&&(e=\"^(?=.*?\"+B.map(e.match(/\"[^\"]+\"|[^ ]+/g)||[\"\"],function(e){if('\"'===e.charAt(0)){var t=e.match(/^\"(.*)\"$/);e=t?t[1]:e}return e.replace('\"',\"\")}).join(\")(?=.*?\")+\").*$\");return new RegExp(e,r?\"i\":\"\")}function ee(e){var t,n,r,a,i,o,s,l,u=e.aoColumns,c=Ge.ext.type.search,f=!1;for(n=0,a=e.aoData.length;n<a;n++)if(!(l=e.aoData[n])._aFilterData){for(o=[],r=0,i=u.length;r<i;r++)(t=u[r]).bSearchable?(s=g(e,n,r,\"filter\"),c[t.sType]&&(s=c[t.sType](s)),null===s&&(s=\"\"),\"string\"!=typeof s&&s.toString&&(s=s.toString())):s=\"\",s.indexOf&&-1!==s.indexOf(\"&\")&&(yt.innerHTML=s,s=bt?yt.textContent:yt.innerText),s.replace&&(s=s.replace(/[\\r\\n\\u2028]/g,\"\")),o.push(s);l._aFilterData=o,l._sFilterRow=o.join(\"  \"),f=!0}return f}function te(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function re(e){var t=e.sTableId,n=e.aanFeatures.i,r=B(\"<div/>\",{\"class\":e.oClasses.sInfo,id:n?null:t+\"_info\"});return n||(e.aoDrawCallback.push({fn:ae,sName:\"information\"}),r.attr(\"role\",\"status\").attr(\"aria-live\",\"polite\"),B(e.nTable).attr(\"aria-describedby\",t+\"_info\")),r[0]}function ae(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,r=e._iDisplayStart+1,a=e.fnDisplayEnd(),i=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),s=o?n.sInfo:n.sInfoEmpty;o!==i&&(s+=\" \"+n.sInfoFiltered),s=ie(e,s+=n.sInfoPostFix);var l=n.fnInfoCallback;null!==l&&(s=l.call(e.oInstance,e,r,a,i,o,s)),B(t).html(s)}}function ie(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,a=e._iDisplayLength,i=e.fnRecordsDisplay(),o=-1===a;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,i)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(r/a))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(i/a)))}function oe(n){var r,e,t,a=n.iInitDisplayStart,i=n.aoColumns,o=n.oFeatures,s=n.bDeferLoading;if(n.bInitialised){for(T(n),d(n),v(n,n.aoHeader),v(n,n.aoFooter),he(n,!0),o.bAutoWidth&&ve(n),r=0,e=i.length;r<e;r++)(t=i[r]).sWidth&&(t.nTh.style.width=xe(t.sWidth));He(n,null,\"preInit\",[n]),D(n);var l=qe(n);(\"ssp\"!=l||s)&&(\"ajax\"==l?C(n,[],function(e){var t=V(n,e);for(r=0;r<t.length;r++)M(n,t[r]);n.iInitDisplayStart=a,D(n),he(n,!1),se(n,e)},n):(he(n,!1),se(n)))}else setTimeout(function(){oe(n)},200)}function se(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&U(e),He(e,null,\"plugin-init\",[e,t]),He(e,\"aoInitComplete\",\"init\",[e,t])}function le(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Me(e),He(e,null,\"length\",[e,n])}function ue(r){for(var e=r.oClasses,t=r.sTableId,n=r.aLengthMenu,a=B.isArray(n[0]),i=a?n[0]:n,o=a?n[1]:n,s=B(\"<select/>\",{name:t+\"_length\",\"aria-controls\":t,\"class\":e.sLengthSelect}),l=0,u=i.length;l<u;l++)s[0][l]=new Option(\"number\"==typeof o[l]?r.fnFormatNumber(o[l]):o[l],i[l]);var c=B(\"<div><label/></div>\").addClass(e.sLength);return r.aanFeatures.l||(c[0].id=t+\"_length\"),c.children().append(r.oLanguage.sLengthMenu.replace(\"_MENU_\",s[0].outerHTML)),B(\"select\",c).val(r._iDisplayLength).on(\"change.DT\",function(){le(r,B(this).val()),b(r)}),B(r.nTable).on(\"length.dt.DT\",function(e,t,n){r===t&&B(\"select\",c).val(n)}),c[0]}function ce(e){var t=e.sPaginationType,c=Ge.ext.pager[t],f=\"function\"==typeof c,d=function(e){b(e)},n=B(\"<div/>\").addClass(e.oClasses.sPaging+t)[0],h=e.aanFeatures;return f||c.fnInit(e,n,d),h.p||(n.id=e.sTableId+\"_paginate\",e.aoDrawCallback.push({fn:function(e){if(f){var t,n,r=e._iDisplayStart,a=e._iDisplayLength,i=e.fnRecordsDisplay(),o=-1===a,s=o?0:Math.ceil(r/a),l=o?1:Math.ceil(i/a),u=c(s,l);for(t=0,n=h.p.length;t<n;t++)Oe(e,\"pageButton\")(e,h.p[t],t,u,s,l)}else c.fnUpdate(e,d)},sName:\"pagination\"})),n}function fe(e,t,n){var r=e._iDisplayStart,a=e._iDisplayLength,i=e.fnRecordsDisplay();0===i||-1===a?r=0:\"number\"==typeof t?i<(r=t*a)&&(r=0):\"first\"==t?r=0:\"previous\"==t?(r=0<=a?r-a:0)<0&&(r=0):\"next\"==t?r+a<i&&(r+=a):\"last\"==t?r=Math.floor((i-1)/a)*a:Le(e,0,\"Unknown paging action: \"+t,5);var o=e._iDisplayStart!==r;return e._iDisplayStart=r,o&&(He(e,null,\"page\",[e]),n&&b(e)),o}function de(e){return B(\"<div/>\",{id:e.aanFeatures.r?null:e.sTableId+\"_processing\",\"class\":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function he(e,t){e.oFeatures.bProcessing&&B(e.aanFeatures.r).css(\"display\",t?\"block\":\"none\"),He(e,null,\"processing\",[e,t])}function pe(e){var t=B(e.nTable);t.attr(\"role\",\"grid\");var n=e.oScroll;if(\"\"===n.sX&&\"\"===n.sY)return e.nTable;var r=n.sX,a=n.sY,i=e.oClasses,o=t.children(\"caption\"),s=o.length?o[0]._captionSide:null,l=B(t[0].cloneNode(!1)),u=B(t[0].cloneNode(!1)),c=t.children(\"tfoot\"),f=\"<div/>\",d=function(e){return e?xe(e):null};c.length||(c=null);var h=B(f,{\"class\":i.sScrollWrapper}).append(B(f,{\"class\":i.sScrollHead}).css({overflow:\"hidden\",position:\"relative\",border:0,width:r?d(r):\"100%\"}).append(B(f,{\"class\":i.sScrollHeadInner}).css({\"box-sizing\":\"content-box\",width:n.sXInner||\"100%\"}).append(l.removeAttr(\"id\").css(\"margin-left\",0).append(\"top\"===s?o:null).append(t.children(\"thead\"))))).append(B(f,{\"class\":i.sScrollBody}).css({position:\"relative\",overflow:\"auto\",width:d(r)}).append(t));c&&h.append(B(f,{\"class\":i.sScrollFoot}).css({overflow:\"hidden\",border:0,width:r?d(r):\"100%\"}).append(B(f,{\"class\":i.sScrollFootInner}).append(u.removeAttr(\"id\").css(\"margin-left\",0).append(\"bottom\"===s?o:null).append(t.children(\"tfoot\")))));var p=h.children(),g=p[0],m=p[1],v=c?p[2]:null;return r&&B(m).on(\"scroll.DT\",function(){var e=this.scrollLeft;g.scrollLeft=e,c&&(v.scrollLeft=e)}),B(m).css(a&&n.bCollapse?\"max-height\":\"height\",a),e.nScrollHead=g,e.nScrollBody=m,e.nScrollFoot=v,e.aoDrawCallback.push({fn:ge,sName:\"scrolling\"}),h[0]}function ge(n){var e,t,r,a,i,o,s,l,u,c=n.oScroll,f=c.sX,d=c.sXInner,h=c.sY,p=c.iBarWidth,g=B(n.nScrollHead),m=g[0].style,v=g.children(\"div\"),y=v[0].style,b=v.children(\"table\"),w=n.nScrollBody,x=B(w),S=w.style,D=B(n.nScrollFoot).children(\"div\"),T=D.children(\"table\"),C=B(n.nTHead),_=B(n.nTable),A=_[0],N=A.style,k=n.nTFoot?B(n.nTFoot):null,I=n.oBrowser,j=I.bScrollOversize,L=st(n.aoColumns,\"nTh\"),E=[],R=[],F=[],P=[],H=function(e){var t=e.style;t.paddingTop=\"0\",t.paddingBottom=\"0\",t.borderTopWidth=\"0\",t.borderBottomWidth=\"0\",t.height=0},M=w.scrollHeight>w.clientHeight;if(n.scrollBarVis!==M&&n.scrollBarVis!==$)return n.scrollBarVis=M,void U(n);n.scrollBarVis=M,_.children(\"thead, tfoot\").remove(),k&&(o=k.clone().prependTo(_),t=k.find(\"tr\"),a=o.find(\"tr\")),i=C.clone().prependTo(_),e=C.find(\"tr\"),r=i.find(\"tr\"),i.find(\"th, td\").removeAttr(\"tabindex\"),f||(S.width=\"100%\",g[0].style.width=\"100%\"),B.each(X(n,i),function(e,t){s=z(n,e),t.style.width=n.aoColumns[s].sWidth}),k&&me(function(e){e.style.width=\"\"},a),u=_.outerWidth(),\"\"===f?(N.width=\"100%\",j&&(_.find(\"tbody\").height()>w.offsetHeight||\"scroll\"==x.css(\"overflow-y\"))&&(N.width=xe(_.outerWidth()-p)),u=_.outerWidth()):\"\"!==d&&(N.width=xe(d),u=_.outerWidth()),me(H,r),me(function(e){F.push(e.innerHTML),E.push(xe(B(e).css(\"width\")))},r),me(function(e,t){-1!==B.inArray(e,L)&&(e.style.width=E[t])},e),B(r).height(0),k&&(me(H,a),me(function(e){P.push(e.innerHTML),R.push(xe(B(e).css(\"width\")))},a),me(function(e,t){e.style.width=R[t]},t),B(a).height(0)),me(function(e,t){e.innerHTML='<div class=\"dataTables_sizing\">'+F[t]+\"</div>\",e.childNodes[0].style.height=\"0\",e.childNodes[0].style.overflow=\"hidden\",e.style.width=E[t]},r),k&&me(function(e,t){e.innerHTML='<div class=\"dataTables_sizing\">'+P[t]+\"</div>\",e.childNodes[0].style.height=\"0\",e.childNodes[0].style.overflow=\"hidden\",e.style.width=R[t]},a),_.outerWidth()<u?(l=w.scrollHeight>w.offsetHeight||\"scroll\"==x.css(\"overflow-y\")?u+p:u,j&&(w.scrollHeight>w.offsetHeight||\"scroll\"==x.css(\"overflow-y\"))&&(N.width=xe(l-p)),\"\"!==f&&\"\"===d||Le(n,1,\"Possible column misalignment\",6)):l=\"100%\",S.width=xe(l),m.width=xe(l),k&&(n.nScrollFoot.style.width=xe(l)),h||j&&(S.height=xe(A.offsetHeight+p));var O=_.outerWidth();b[0].style.width=xe(O),y.width=xe(O);var q=_.height()>w.clientHeight||\"scroll\"==x.css(\"overflow-y\"),W=\"padding\"+(I.bScrollbarLeft?\"Left\":\"Right\");y[W]=q?p+\"px\":\"0px\",k&&(T[0].style.width=xe(O),D[0].style.width=xe(O),D[0].style[W]=q?p+\"px\":\"0px\"),_.children(\"colgroup\").insertBefore(_.children(\"thead\")),x.trigger(\"scroll\"),!n.bSorted&&!n.bFiltered||n._drawHold||(w.scrollTop=0)}function me(e,t,n){for(var r,a,i=0,o=0,s=t.length;o<s;){for(r=t[o].firstChild,a=n?n[o].firstChild:null;r;)1===r.nodeType&&(n?e(r,a,i):e(r,i),i++),r=r.nextSibling,a=n?a.nextSibling:null;o++}}function ve(e){var t,n,r,a=e.nTable,i=e.aoColumns,o=e.oScroll,s=o.sY,l=o.sX,u=o.sXInner,c=i.length,f=P(e,\"bVisible\"),d=B(\"th\",e.nTHead),h=a.getAttribute(\"width\"),p=a.parentNode,g=!1,m=e.oBrowser,v=m.bScrollOversize,y=a.style.width;for(y&&-1!==y.indexOf(\"%\")&&(h=y),t=0;t<f.length;t++)null!==(n=i[f[t]]).sWidth&&(n.sWidth=ye(n.sWidthOrig,p),g=!0);if(v||!g&&!l&&!s&&c==F(e)&&c==d.length)for(t=0;t<c;t++){var b=z(e,t);null!==b&&(i[b].sWidth=xe(d.eq(t).width()))}else{var w=B(a).clone().css(\"visibility\",\"hidden\").removeAttr(\"id\");w.find(\"tbody tr\").remove();var x=B(\"<tr/>\").appendTo(w.find(\"tbody\"));for(w.find(\"thead, tfoot\").remove(),w.append(B(e.nTHead).clone()).append(B(e.nTFoot).clone()),w.find(\"tfoot th, tfoot td\").css(\"width\",\"\"),d=X(e,w.find(\"thead\")[0]),t=0;t<f.length;t++)n=i[f[t]],d[t].style.width=null!==n.sWidthOrig&&\"\"!==n.sWidthOrig?xe(n.sWidthOrig):\"\",n.sWidthOrig&&l&&B(d[t]).append(B(\"<div/>\").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(t=0;t<f.length;t++)n=i[r=f[t]],B(be(e,r)).clone(!1).append(n.sContentPadding).appendTo(x);B(\"[name]\",w).removeAttr(\"name\");var S=B(\"<div/>\").css(l||s?{position:\"absolute\",top:0,left:0,height:1,right:0,overflow:\"hidden\"}:{}).append(w).appendTo(p);l&&u?w.width(u):l?(w.css(\"width\",\"auto\"),w.removeAttr(\"width\"),w.width()<p.clientWidth&&h&&w.width(p.clientWidth)):s?w.width(p.clientWidth):h&&w.width(h);var D=0;for(t=0;t<f.length;t++){var T=B(d[t]),C=T.outerWidth()-T.width(),_=m.bBounding?Math.ceil(d[t].getBoundingClientRect().width):T.outerWidth();D+=_,i[f[t]].sWidth=xe(_-C)}a.style.width=xe(D),S.remove()}if(h&&(a.style.width=xe(h)),(h||l)&&!e._reszEvt){var A=function(){B(N).on(\"resize.DT-\"+e.sInstance,xt(function(){U(e)}))};v?setTimeout(A,1e3):A(),e._reszEvt=!0}}function ye(e,t){if(!e)return 0;var n=B(\"<div/>\").css(\"width\",xe(e)).appendTo(t||w.body),r=n[0].offsetWidth;return n.remove(),r}function be(e,t){var n=we(e,t);if(n<0)return null;var r=e.aoData[n];return r.nTr?r.anCells[t]:B(\"<td/>\").html(g(e,n,t,\"display\"))[0]}function we(e,t){for(var n,r=-1,a=-1,i=0,o=e.aoData.length;i<o;i++)(n=(n=(n=g(e,i,t,\"display\")+\"\").replace(wt,\"\")).replace(/&nbsp;/g,\" \")).length>r&&(r=n.length,a=i);return a}function xe(e){return null===e?\"0px\":\"number\"==typeof e?e<0?\"0px\":e+\"px\":e.match(/\\d$/)?e+\"px\":e}function Se(e){var t,n,r,a,i,o,s,l=[],u=e.aoColumns,c=e.aaSortingFixed,f=B.isPlainObject(c),d=[],h=function(e){e.length&&!B.isArray(e[0])?d.push(e):B.merge(d,e)};for(B.isArray(c)&&h(c),f&&c.pre&&h(c.pre),h(e.aaSorting),f&&c.post&&h(c.post),t=0;t<d.length;t++)for(n=0,r=(a=u[s=d[t][0]].aDataSort).length;n<r;n++)o=u[i=a[n]].sType||\"string\",d[t]._idx===$&&(d[t]._idx=B.inArray(d[t][1],u[i].asSorting)),l.push({src:s,col:i,dir:d[t][1],index:d[t]._idx,type:o,formatter:Ge.ext.type.order[o+\"-pre\"]});return l}function De(e){var t,n,r,a,c,f=[],d=Ge.ext.type.order,h=e.aoData,i=(e.aoColumns,0),o=e.aiDisplayMaster;for(l(e),t=0,n=(c=Se(e)).length;t<n;t++)(a=c[t]).formatter&&i++,Ne(e,a.col);if(\"ssp\"!=qe(e)&&0!==c.length){for(t=0,r=o.length;t<r;t++)f[o[t]]=t;i===c.length?o.sort(function(e,t){var n,r,a,i,o,s=c.length,l=h[e]._aSortData,u=h[t]._aSortData;for(a=0;a<s;a++)if(0!==(i=(n=l[(o=c[a]).col])<(r=u[o.col])?-1:r<n?1:0))return\"asc\"===o.dir?i:-i;return(n=f[e])<(r=f[t])?-1:r<n?1:0}):o.sort(function(e,t){var n,r,a,i,o,s=c.length,l=h[e]._aSortData,u=h[t]._aSortData;for(a=0;a<s;a++)if(n=l[(o=c[a]).col],r=u[o.col],0!==(i=(d[o.type+\"-\"+o.dir]||d[\"string-\"+o.dir])(n,r)))return i;return(n=f[e])<(r=f[t])?-1:r<n?1:0})}e.bSorted=!0}function Te(e){for(var t,n,r=e.aoColumns,a=Se(e),i=e.oLanguage.oAria,o=0,s=r.length;o<s;o++){var l=r[o],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,\"\"),f=l.nTh;f.removeAttribute(\"aria-sort\"),l.bSortable?(0<a.length&&a[0].col==o?(f.setAttribute(\"aria-sort\",\"asc\"==a[0].dir?\"ascending\":\"descending\"),n=u[a[0].index+1]||u[0]):n=u[0],t=c+(\"asc\"===n?i.sSortAscending:i.sSortDescending)):t=c,f.setAttribute(\"aria-label\",t)}}function Ce(e,t,n,r){var a,i=e.aoColumns[t],o=e.aaSorting,s=i.asSorting,l=function(e,t){var n=e._idx;return n===$&&(n=B.inArray(e[1],s)),n+1<s.length?n+1:t?null:0};if(\"number\"==typeof o[0]&&(o=e.aaSorting=[o]),n&&e.oFeatures.bSortMulti){var u=B.inArray(t,st(o,\"0\"));-1!==u?(null===(a=l(o[u],!0))&&1===o.length&&(a=0),null===a?o.splice(u,1):(o[u][1]=s[a],o[u]._idx=a)):(o.push([t,s[0],0]),o[o.length-1]._idx=0)}else o.length&&o[0][0]==t?(a=l(o[0]),o.length=1,o[0][1]=s[a],o[0]._idx=a):(o.length=0,o.push([t,s[0]]),o[0]._idx=0);D(e),\"function\"==typeof r&&r(e)}function _e(t,e,n,r){var a=t.aoColumns[n];Fe(e,{},function(e){!1!==a.bSortable&&(t.oFeatures.bProcessing?(he(t,!0),setTimeout(function(){Ce(t,n,e.shiftKey,r),\"ssp\"!==qe(t)&&he(t,!1)},0)):Ce(t,n,e.shiftKey,r))})}function Ae(e){var t,n,r,a=e.aLastSort,i=e.oClasses.sSortColumn,o=Se(e),s=e.oFeatures;if(s.bSort&&s.bSortClasses){for(t=0,n=a.length;t<n;t++)r=a[t].src,B(st(e.aoData,\"anCells\",r)).removeClass(i+(t<2?t+1:3));for(t=0,n=o.length;t<n;t++)r=o[t].src,B(st(e.aoData,\"anCells\",r)).addClass(i+(t<2?t+1:3))}e.aLastSort=o}function Ne(e,t){var n,r,a,i=e.aoColumns[t],o=Ge.ext.order[i.sSortDataType];o&&(n=o.call(e.oInstance,e,t,c(e,t)));for(var s=Ge.ext.type.order[i.sType+\"-pre\"],l=0,u=e.aoData.length;l<u;l++)(r=e.aoData[l])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!o||(a=o?n[l]:g(e,l,t,\"sort\"),r._aSortData[t]=s?s(a):a)}function ke(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var e={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:B.extend(!0,[],n.aaSorting),search:te(n.oPreviousSearch),columns:B.map(n.aoColumns,function(e,t){return{visible:e.bVisible,search:te(n.aoPreSearchCols[t])}})};He(n,\"aoStateSaveParams\",\"stateSaveParams\",[n,e]),n.oSavedState=e,n.fnStateSaveCallback.call(n.oInstance,n,e)}}function Ie(a,e,i){var o,s,l=a.aoColumns,t=function(e){if(e&&e.time){var t=He(a,\"aoStateLoadParams\",\"stateLoadParams\",[a,e]);if(-1===B.inArray(!1,t)){var n=a.iStateDuration;if(0<n&&e.time<+new Date-1e3*n)i();else if(e.columns&&l.length!==e.columns.length)i();else{if(a.oLoadedState=B.extend(!0,{},e),e.start!==$&&(a._iDisplayStart=e.start,a.iInitDisplayStart=e.start),e.length!==$&&(a._iDisplayLength=e.length),e.order!==$&&(a.aaSorting=[],B.each(e.order,function(e,t){a.aaSorting.push(t[0]>=l.length?[0,t[1]]:t)})),e.search!==$&&B.extend(a.oPreviousSearch,ne(e.search)),e.columns)for(o=0,s=e.columns.length;o<s;o++){var r=e.columns[o];r.visible!==$&&(l[o].bVisible=r.visible),r.search!==$&&B.extend(a.aoPreSearchCols[o],ne(r.search))}He(a,\"aoStateLoaded\",\"stateLoaded\",[a,e]),i()}}else i()}else i()};if(a.oFeatures.bStateSave){var n=a.fnStateLoadCallback.call(a.oInstance,a,t);n!==$&&t(n)}else i()}function je(e){var t=Ge.settings,n=B.inArray(e,st(t,\"nTable\"));return-1!==n?t[n]:null}function Le(e,t,n,r){if(n=\"DataTables warning: \"+(e?\"table id=\"+e.sTableId+\" - \":\"\")+n,r&&(n+=\". For more information about this error, please see http://datatables.net/tn/\"+r),t)N.console&&console.log&&console.log(n);else{var a=Ge.ext,i=a.sErrMode||a.errMode;if(e&&He(e,null,\"error\",[e,r,n]),\"alert\"==i)alert(n);else{if(\"throw\"==i)throw new Error(n);\"function\"==typeof i&&i(e,r,n)}}}function Ee(n,r,e,t){B.isArray(e)?B.each(e,function(e,t){B.isArray(t)?Ee(n,r,t[0],t[1]):Ee(n,r,t)}):(t===$&&(t=e),r[e]!==$&&(n[t]=r[e]))}function Re(e,t,n){var r;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],B.isPlainObject(r)?(B.isPlainObject(e[a])||(e[a]={}),B.extend(!0,e[a],r)):n&&\"data\"!==a&&\"aaData\"!==a&&B.isArray(r)?e[a]=r.slice():e[a]=r);return e}function Fe(t,e,n){B(t).on(\"click.DT\",e,function(e){B(t).blur(),n(e)}).on(\"keypress.DT\",e,function(e){13===e.which&&(e.preventDefault(),n(e))}).on(\"selectstart.DT\",function(){return!1})}function Pe(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function He(t,e,n,r){var a=[];if(e&&(a=B.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==n){var i=B.Event(n+\".dt\");B(t.nTable).trigger(i,r),a.push(i.result)}return a}function Me(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;n<=t&&(t=n-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function Oe(e,t){var n=e.renderer,r=Ge.ext.renderer[t];return B.isPlainObject(n)&&n[t]?r[n[t]]||r._:\"string\"==typeof n&&r[n]||r._}function qe(e){return e.oFeatures.bServerSide?\"ssp\":e.ajax||e.sAjaxSource?\"ajax\":\"dom\"}function We(e,t){var n=[],r=$t.numbers_length,a=Math.floor(r/2);return t<=r?n=ut(0,t):e<=a?((n=ut(0,r-2)).push(\"ellipsis\"),n.push(t-1)):(t-1-a<=e?(n=ut(t-(r-2),t)).splice(0,0,\"ellipsis\"):((n=ut(e-a+2,e+a-1)).push(\"ellipsis\"),n.push(t-1),n.splice(0,0,\"ellipsis\")),n.splice(0,0,0)),n.DT_el=\"span\",n}function Be(n){B.each({num:function(e){return Ut(e,n)},\"num-fmt\":function(e){return Ut(e,n,et)},\"html-num\":function(e){return Ut(e,n,Ze)},\"html-num-fmt\":function(e){return Ut(e,n,Ze,et)}},function(e,t){Ue.type.order[e+n+\"-pre\"]=t,e.match(/^html\\-/)&&(Ue.type.search[e+n]=Ue.type.search.html)})}function $e(t){return function(){var e=[je(this[Ge.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ge.ext.internal[t].apply(this,e)}}var Ue,ze,Xe,Ve,Ge=function(D){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new ze(e?je(this[Ue.iApiIndex]):this)},this.fnAddData=function(e,t){var n=this.api(!0),r=B.isArray(e)&&(B.isArray(e[0])||B.isPlainObject(e[0]))?n.rows.add(e):n.row.add(e);return(t===$||t)&&n.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===$||e?t.draw(!1):\"\"===r.sX&&\"\"===r.sY||ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===$||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),a=r.rows(e),i=a.settings()[0],o=i.aoData[a[0][0]];return a.remove(),t&&t.call(this,i,o),(n===$||n)&&r.draw(),o},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,a,i){var o=this.api(!0);null===t||t===$?o.search(e,n,r,i):o.column(t).search(e,n,r,i),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e===$)return n.data().toArray();var r=e.nodeName?e.nodeName.toLowerCase():\"\";return t!==$||\"td\"==r||\"th\"==r?n.cell(e,t).data():n.row(e).data()||null},this.fnGetNodes=function(e){var t=this.api(!0);return e!==$?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if(\"TR\"==n)return t.row(e).index();if(\"TD\"!=n&&\"TH\"!=n)return null;var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===$||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===$||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return je(this[Ue.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,a){var i=this.api(!0);return n===$||null===n?i.row(t).data(e):i.cell(t,n).data(e),(a===$||a)&&i.columns.adjust(),(r===$||r)&&i.draw(),0},this.fnVersionCheck=Ue.fnVersionCheck;var T=this,C=D===$,_=this.length;for(var e in C&&(D={}),this.oApi=this.internal=Ue.internal,Ge.ext.internal)e&&(this[e]=$e(e));return this.each(function(){var i,o=1<_?Re({},D,!0):D,s=0,e=this.getAttribute(\"id\"),l=!1,t=Ge.defaults,u=B(this);if(\"table\"==this.nodeName.toLowerCase()){I(t),j(t.column),A(t,t,!0),A(t.column,t.column,!0),A(t,B.extend(o,u.data()),!0);var n=Ge.settings;for(s=0,i=n.length;s<i;s++){var r=n[s];if(r.nTable==this||r.nTHead&&r.nTHead.parentNode==this||r.nTFoot&&r.nTFoot.parentNode==this){var a=o.bRetrieve!==$?o.bRetrieve:t.bRetrieve,c=o.bDestroy!==$?o.bDestroy:t.bDestroy;if(C||a)return r.oInstance;if(c){r.oInstance.fnDestroy();break}return void Le(r,0,\"Cannot reinitialise DataTable\",3)}if(r.sTableId==this.id){n.splice(s,1);break}}null!==e&&\"\"!==e||(e=\"DataTables_Table_\"+Ge.ext._unique++,this.id=e);var f=B.extend(!0,{},Ge.models.oSettings,{sDestroyWidth:u[0].style.width,sInstance:e,sTableId:e});f.nTable=this,f.oApi=T.internal,f.oInit=o,n.push(f),f.oInstance=1===T.length?T:u.dataTable(),I(o),k(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=B.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=Re(B.extend(!0,{},t),o),Ee(f.oFeatures,o,[\"bPaginate\",\"bLengthChange\",\"bFilter\",\"bSort\",\"bSortMulti\",\"bInfo\",\"bProcessing\",\"bAutoWidth\",\"bSortClasses\",\"bServerSide\",\"bDeferRender\"]),Ee(f,o,[\"asStripeClasses\",\"ajax\",\"fnServerData\",\"fnFormatNumber\",\"sServerMethod\",\"aaSorting\",\"aaSortingFixed\",\"aLengthMenu\",\"sPaginationType\",\"sAjaxSource\",\"sAjaxDataProp\",\"iStateDuration\",\"sDom\",\"bSortCellsTop\",\"iTabIndex\",\"fnStateLoadCallback\",\"fnStateSaveCallback\",\"renderer\",\"searchDelay\",\"rowId\",[\"iCookieDuration\",\"iStateDuration\"],[\"oSearch\",\"oPreviousSearch\"],[\"aoSearchCols\",\"aoPreSearchCols\"],[\"iDisplayLength\",\"_iDisplayLength\"]]),Ee(f.oScroll,o,[[\"sScrollX\",\"sX\"],[\"sScrollXInner\",\"sXInner\"],[\"sScrollY\",\"sY\"],[\"bScrollCollapse\",\"bCollapse\"]]),Ee(f.oLanguage,o,\"fnInfoCallback\"),Pe(f,\"aoDrawCallback\",o.fnDrawCallback,\"user\"),Pe(f,\"aoServerParams\",o.fnServerParams,\"user\"),Pe(f,\"aoStateSaveParams\",o.fnStateSaveParams,\"user\"),Pe(f,\"aoStateLoadParams\",o.fnStateLoadParams,\"user\"),Pe(f,\"aoStateLoaded\",o.fnStateLoaded,\"user\"),Pe(f,\"aoRowCallback\",o.fnRowCallback,\"user\"),Pe(f,\"aoRowCreatedCallback\",o.fnCreatedRow,\"user\"),Pe(f,\"aoHeaderCallback\",o.fnHeaderCallback,\"user\"),Pe(f,\"aoFooterCallback\",o.fnFooterCallback,\"user\"),Pe(f,\"aoInitComplete\",o.fnInitComplete,\"user\"),Pe(f,\"aoPreDrawCallback\",o.fnPreDrawCallback,\"user\"),f.rowIdFn=q(o.rowId),L(f);var d=f.oClasses;if(B.extend(d,Ge.ext.classes,o.oClasses),u.addClass(d.sTable),f.iInitDisplayStart===$&&(f.iInitDisplayStart=o.iDisplayStart,f._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading){f.bDeferLoading=!0;var h=B.isArray(o.iDeferLoading);f._iRecordsDisplay=h?o.iDeferLoading[0]:o.iDeferLoading,f._iRecordsTotal=h?o.iDeferLoading[1]:o.iDeferLoading}var p=f.oLanguage;B.extend(!0,p,o.oLanguage),p.sUrl&&(B.ajax({dataType:\"json\",url:p.sUrl,success:function(e){k(e),A(t.oLanguage,e),B.extend(!0,p,e),oe(f)},error:function(){oe(f)}}),l=!0),null===o.asStripeClasses&&(f.asStripeClasses=[d.sStripeOdd,d.sStripeEven]);var g=f.asStripeClasses,m=u.children(\"tbody\").find(\"tr\").eq(0);-1!==B.inArray(!0,B.map(g,function(e){return m.hasClass(e)}))&&(B(\"tbody tr\",this).removeClass(g.join(\" \")),f.asDestroyStripes=g.slice());var v,y=[],b=this.getElementsByTagName(\"thead\");if(0!==b.length&&(W(f.aoHeader,b[0]),y=X(f)),null===o.aoColumns)for(v=[],s=0,i=y.length;s<i;s++)v.push(null);else v=o.aoColumns;for(s=0,i=v.length;s<i;s++)E(f,y?y[s]:null);if(H(f,o.aoColumnDefs,v,function(e,t){R(f,e,t)}),m.length){var w=function(e,t){return null!==e.getAttribute(\"data-\"+t)?t:null};B(m[0]).children(\"th, td\").each(function(e,t){var n=f.aoColumns[e];if(n.mData===e){var r=w(t,\"sort\")||w(t,\"order\"),a=w(t,\"filter\")||w(t,\"search\");null===r&&null===a||(n.mData={_:e+\".display\",sort:null!==r?e+\".@data-\"+r:$,type:null!==r?e+\".@data-\"+r:$,filter:null!==a?e+\".@data-\"+a:$},R(f,e))}})}var x=f.oFeatures,S=function(){if(o.aaSorting===$){var e=f.aaSorting;for(s=0,i=e.length;s<i;s++)e[s][1]=f.aoColumns[s].asSorting[0]}Ae(f),x.bSort&&Pe(f,\"aoDrawCallback\",function(){if(f.bSorted){var e=Se(f),n={};B.each(e,function(e,t){n[t.src]=t.dir}),He(f,null,\"order\",[f,e,n]),Te(f)}}),Pe(f,\"aoDrawCallback\",function(){(f.bSorted||\"ssp\"===qe(f)||x.bDeferRender)&&Ae(f)},\"sc\");var t=u.children(\"caption\").each(function(){this._captionSide=B(this).css(\"caption-side\")}),n=u.children(\"thead\");0===n.length&&(n=B(\"<thead/>\").appendTo(u)),f.nTHead=n[0];var r=u.children(\"tbody\");0===r.length&&(r=B(\"<tbody/>\").appendTo(u)),f.nTBody=r[0];var a=u.children(\"tfoot\");if(0===a.length&&0<t.length&&(\"\"!==f.oScroll.sX||\"\"!==f.oScroll.sY)&&(a=B(\"<tfoot/>\").appendTo(u)),0===a.length||0===a.children().length?u.addClass(d.sNoFooter):0<a.length&&(f.nTFoot=a[0],W(f.aoFooter,f.nTFoot)),o.aaData)for(s=0;s<o.aaData.length;s++)M(f,o.aaData[s]);else(f.bDeferLoading||\"dom\"==qe(f))&&O(f,B(f.nTBody).children(\"tr\"));f.aiDisplay=f.aiDisplayMaster.slice(),!(f.bInitialised=!0)===l&&oe(f)};o.bStateSave?(x.bStateSave=!0,Pe(f,\"aoDrawCallback\",ke,\"state_save\"),Ie(f,o,S)):S()}else Le(null,0,\"Non-table node initialisation (\"+this.nodeName+\")\",2)}),T=null,this},Je={},Ye=/[\\r\\n\\u2028]/g,Ze=/<.*?>/g,Ke=/^\\d{2,4}[\\.\\/\\-]\\d{1,2}[\\.\\/\\-]\\d{1,2}([T ]{1}\\d{1,2}[:\\.]\\d{2}([\\.:]\\d{2})?)?$/,Qe=new RegExp(\"(\\\\\"+[\"/\",\".\",\"*\",\"+\",\"?\",\"|\",\"(\",\")\",\"[\",\"]\",\"{\",\"}\",\"\\\\\",\"$\",\"^\",\"-\"].join(\"|\\\\\")+\")\",\"g\"),et=/[',$\\xa3\\u20ac\\xa5%\\u2009\\u202F\\u20BD\\u20a9\\u20BArfk\\u0243\\u039e]/gi,tt=function(e){return!e||!0===e||\"-\"===e},nt=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},rt=function(e,t){return Je[t]||(Je[t]=new RegExp(vt(t),\"g\")),\"string\"==typeof e&&\".\"!==t?e.replace(/\\./g,\"\").replace(Je[t],\".\"):e},at=function(e,t,n){var r=\"string\"==typeof e;return!!tt(e)||(t&&r&&(e=rt(e,t)),n&&r&&(e=e.replace(et,\"\")),!isNaN(parseFloat(e))&&isFinite(e))},it=function(e){return tt(e)||\"string\"==typeof e},ot=function(e,t,n){return!!tt(e)||(it(e)&&!!at(ft(e),t,n)||null)},st=function(e,t,n){var r=[],a=0,i=e.length;if(n!==$)for(;a<i;a++)e[a]&&e[a][t]&&r.push(e[a][t][n]);else for(;a<i;a++)e[a]&&r.push(e[a][t]);return r},lt=function(e,t,n,r){var a=[],i=0,o=t.length;if(r!==$)for(;i<o;i++)e[t[i]][n]&&a.push(e[t[i]][n][r]);else for(;i<o;i++)a.push(e[t[i]][n]);return a},ut=function(e,t){var n,r=[];t===$?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)r.push(a);return r},ct=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},ft=function(e){return e.replace(Ze,\"\")},dt=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],r=1,a=t.length;r<a;r++){if(t[r]===n)return!1;n=t[r]}return!0},ht=function(e){if(dt(e))return e.slice();var t,n,r,a=[],i=e.length,o=0;e:for(n=0;n<i;n++){for(t=e[n],r=0;r<o;r++)if(a[r]===t)continue e;a.push(t),o++}return a};Ge.util={throttle:function(r,e){var a,i,o=e!==$?e:200;return function(){var e=this,t=+new Date,n=arguments;a&&t<a+o?(clearTimeout(i),i=setTimeout(function(){a=$,r.apply(e,n)},o)):(a=t,r.apply(e,n))}},escapeRegex:function(e){return e.replace(Qe,\"\\\\$1\")}};var pt=function(e,t,n){e[t]!==$&&(e[n]=e[t])},gt=/\\[.*?\\]$/,mt=/\\(\\)$/,vt=Ge.util.escapeRegex,yt=B(\"<div>\")[0],bt=yt.textContent!==$,wt=/<.*?>/g,xt=Ge.util.throttle,St=[],Dt=Array.prototype,Tt=function(e){var t,n,r=Ge.settings,a=B.map(r,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&\"table\"===e.nodeName.toLowerCase()?-1!==(t=B.inArray(e,a))?[r[t]]:null:e&&\"function\"==typeof e.settings?e.settings().toArray():(\"string\"==typeof e?n=B(e):e instanceof B&&(n=e),n?n.map(function(){return-1!==(t=B.inArray(this,a))?r[t]:null}).toArray():void 0):[]};ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);var n=[],r=function(e){var t=Tt(e);t&&n.push.apply(n,t)};if(B.isArray(e))for(var a=0,i=e.length;a<i;a++)r(e[a]);else r(e);this.context=ht(n),t&&B.merge(this,t),this.selector={rows:null,cols:null,opts:null},ze.extend(this,this,St)},Ge.Api=ze,B.extend(ze.prototype,{any:function(){return 0!==this.count()},concat:Dt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new ze(t[e],this[e]):null},filter:function(e){var t=[];if(Dt.filter)t=Dt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new ze(this.context,t)},flatten:function(){var e=[];return new ze(this.context,e.concat.apply(e,this.toArray()))},join:Dt.join,indexOf:Dt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var a,i,o,s,l,u,c,f,d=[],h=this.context,p=this.selector;for(\"string\"==typeof e&&(r=n,n=t,t=e,e=!1),i=0,o=h.length;i<o;i++){var g=new ze(h[i]);if(\"table\"===t)(a=n.call(g,h[i],i))!==$&&d.push(a);else if(\"columns\"===t||\"rows\"===t)(a=n.call(g,h[i],this[i],i))!==$&&d.push(a);else if(\"column\"===t||\"column-rows\"===t||\"row\"===t||\"cell\"===t)for(c=this[i],\"column-rows\"===t&&(u=It(h[i],p.opts)),s=0,l=c.length;s<l;s++)f=c[s],(a=\"cell\"===t?n.call(g,h[i],f.row,f.column,i,s):n.call(g,h[i],f,i,s,u))!==$&&d.push(a)}if(d.length||r){var m=new ze(h,e?d.concat.apply([],d):d),v=m.selector;return v.rows=p.rows,v.cols=p.cols,v.opts=p.opts,m}return this},lastIndexOf:Dt.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Dt.map)t=Dt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new ze(this.context,t)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Dt.pop,push:Dt.push,reduce:Dt.reduce||function(e,t){return n(this,e,t,0,this.length,1)},reduceRight:Dt.reduceRight||function(e,t){return n(this,e,t,this.length-1,-1,-1)},reverse:Dt.reverse,selector:null,shift:Dt.shift,slice:function(){return new ze(this.context,this)},sort:Dt.sort,splice:Dt.splice,toArray:function(){return Dt.slice.call(this)},to$:function(){return B(this)},toJQuery:function(){return B(this)},unique:function(){return new ze(this.context,ht(this))},unshift:Dt.unshift}),ze.extend=function(e,t,n){if(n.length&&t&&(t instanceof ze||t.__dt_wrapper)){var r,a,i,o=function(t,n,r){return function(){var e=n.apply(t,arguments);return ze.extend(e,e,r.methodExt),e}};for(r=0,a=n.length;r<a;r++)t[(i=n[r]).name]=\"function\"===i.type?o(e,i.val,i):\"object\"===i.type?{}:i.val,t[i.name].__dt_wrapper=!0,ze.extend(e,t[i.name],i.propExt)}},ze.register=Xe=function(e,t){if(\n    6: B.isArray(e))for(var n=0,r=e.length;n<r;n++)ze.register(e[n],t);else{var a,i,o,s,l=e.split(\".\"),u=St,c=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(a=0,i=l.length;a<i;a++){var f=c(u,o=(s=-1!==l[a].indexOf(\"()\"))?l[a].replace(\"()\",\"\"):l[a]);f||(f={name:o,val:{},methodExt:[],propExt:[],type:\"object\"},u.push(f)),a===i-1?(f.val=t,f.type=\"function\"==typeof t?\"function\":B.isPlainObject(t)?\"object\":\"other\"):u=s?f.methodExt:f.propExt}}},ze.registerPlural=Ve=function(e,t,n){ze.register(e,n),ze.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof ze?e.length?B.isArray(e[0])?new ze(e.context,e[0]):e[0]:$:e})};var Ct=function(e,t){if(\"number\"==typeof e)return[t[e]];var n=B.map(t,function(e){return e.nTable});return B(n).filter(e).map(function(){var e=B.inArray(this,n);return t[e]}).toArray()};Xe(\"tables()\",function(e){return e?new ze(Ct(e,this.context)):this}),Xe(\"table()\",function(e){var t=this.tables(e),n=t.context;return n.length?new ze(n[0]):t}),Ve(\"tables().nodes()\",\"table().node()\",function(){return this.iterator(\"table\",function(e){return e.nTable},1)}),Ve(\"tables().body()\",\"table().body()\",function(){return this.iterator(\"table\",function(e){return e.nTBody},1)}),Ve(\"tables().header()\",\"table().header()\",function(){return this.iterator(\"table\",function(e){return e.nTHead},1)}),Ve(\"tables().footer()\",\"table().footer()\",function(){return this.iterator(\"table\",function(e){return e.nTFoot},1)}),Ve(\"tables().containers()\",\"table().container()\",function(){return this.iterator(\"table\",function(e){return e.nTableWrapper},1)}),Xe(\"draw()\",function(t){return this.iterator(\"table\",function(e){\"page\"===t?b(e):(\"string\"==typeof t&&(t=\"full-hold\"!==t),D(e,!1===t))})}),Xe(\"page()\",function(t){return t===$?this.page.info().page:this.iterator(\"table\",function(e){fe(e,t)})}),Xe(\"page.info()\",function(){if(0===this.context.length)return $;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),a=-1===n;return{page:a?0:Math.floor(t/n),pages:a?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:\"ssp\"===qe(e)}}),Xe(\"page.len()\",function(t){return t===$?0!==this.context.length?this.context[0]._iDisplayLength:$:this.iterator(\"table\",function(e){le(e,t)})});var _t=function(a,i,e){if(e){var t=new ze(a);t.one(\"draw\",function(){e(t.ajax.json())})}if(\"ssp\"==qe(a))D(a,i);else{he(a,!0);var n=a.jqXHR;n&&4!==n.readyState&&n.abort(),C(a,[],function(e){u(a);for(var t=V(a,e),n=0,r=t.length;n<r;n++)M(a,t[n]);D(a,i),he(a,!1)})}};Xe(\"ajax.json()\",function(){var e=this.context;if(0<e.length)return e[0].json}),Xe(\"ajax.params()\",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),Xe(\"ajax.reload()\",function(t,n){return this.iterator(\"table\",function(e){_t(e,!1===n,t)})}),Xe(\"ajax.url()\",function(t){var e=this.context;return t===$?0===e.length?$:(e=e[0]).ajax?B.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource:this.iterator(\"table\",function(e){B.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Xe(\"ajax.url().load()\",function(t,n){return this.iterator(\"table\",function(e){_t(e,!1===n,t)})});var At=function(e,t,n,r,a){var i,o,s,l,u,c,f=[],d=typeof t;for(t&&\"string\"!==d&&\"function\"!==d&&t.length!==$||(t=[t]),s=0,l=t.length;s<l;s++)for(u=0,c=(o=t[s]&&t[s].split&&!t[s].match(/[\\[\\(:]/)?t[s].split(\",\"):[t[s]]).length;u<c;u++)(i=n(\"string\"==typeof o[u]?B.trim(o[u]):o[u]))&&i.length&&(f=f.concat(i));var h=Ue.selector[e];if(h.length)for(s=0,l=h.length;s<l;s++)f=h[s](r,a,f);return ht(f)},Nt=function(e){return e||(e={}),e.filter&&e.search===$&&(e.search=e.filter),B.extend({search:\"none\",order:\"current\",page:\"all\"},e)},kt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},It=function(e,t){var n,r=[],a=e.aiDisplay,i=e.aiDisplayMaster,o=t.search,s=t.order,l=t.page;if(\"ssp\"==qe(e))return\"removed\"===o?[]:ut(0,i.length);if(\"current\"==l)for(c=e._iDisplayStart,f=e.fnDisplayEnd();c<f;c++)r.push(a[c]);else if(\"current\"==s||\"applied\"==s){if(\"none\"==o)r=i.slice();else if(\"applied\"==o)r=a.slice();else if(\"removed\"==o){for(var u={},c=0,f=a.length;c<f;c++)u[a[c]]=null;r=B.map(i,function(e){return u.hasOwnProperty(e)?null:e})}}else if(\"index\"==s||\"original\"==s)for(c=0,f=e.aoData.length;c<f;c++)\"none\"==o?r.push(c):(-1===(n=B.inArray(c,a))&&\"removed\"==o||0<=n&&\"applied\"==o)&&r.push(c);return r},jt=function(l,e,u){var c;return At(\"row\",e,function(n){var e=nt(n),r=l.aoData;if(null!==e&&!u)return[e];if(c||(c=It(l,u)),null!==e&&-1!==B.inArray(e,c))return[e];if(null===n||n===$||\"\"===n)return c;if(\"function\"==typeof n)return B.map(c,function(e){var t=r[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var t=n._DT_RowIndex,a=n._DT_CellIndex;if(t!==$)return r[t]&&r[t].nTr===n?[t]:[];if(a)return r[a.row]&&r[a.row].nTr===n.parentNode?[a.row]:[];var i=B(n).closest(\"*[data-dt-row]\");return i.length?[i.data(\"dt-row\")]:[]}if(\"string\"==typeof n&&\"#\"===n.charAt(0)){var o=l.aIds[n.replace(/^#/,\"\")];if(o!==$)return[o.idx]}var s=ct(lt(l.aoData,c,\"nTr\"));return B(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()},l,u)};Xe(\"rows()\",function(t,n){t===$?t=\"\":B.isPlainObject(t)&&(n=t,t=\"\"),n=Nt(n);var e=this.iterator(\"table\",function(e){return jt(e,t,n)},1);return e.selector.rows=t,e.selector.opts=n,e}),Xe(\"rows().nodes()\",function(){return this.iterator(\"row\",function(e,t){return e.aoData[t].nTr||$},1)}),Xe(\"rows().data()\",function(){return this.iterator(!0,\"rows\",function(e,t){return lt(e.aoData,t,\"_aData\")},1)}),Ve(\"rows().cache()\",\"row().cache()\",function(r){return this.iterator(\"row\",function(e,t){var n=e.aoData[t];return\"search\"===r?n._aFilterData:n._aSortData},1)}),Ve(\"rows().invalidate()\",\"row().invalidate()\",function(n){return this.iterator(\"row\",function(e,t){a(e,t,n)})}),Ve(\"rows().indexes()\",\"row().index()\",function(){return this.iterator(\"row\",function(e,t){return t},1)}),Ve(\"rows().ids()\",\"row().id()\",function(e){for(var t=[],n=this.context,r=0,a=n.length;r<a;r++)for(var i=0,o=this[r].length;i<o;i++){var s=n[r].rowIdFn(n[r].aoData[this[r][i]]._aData);t.push((!0===e?\"#\":\"\")+s)}return new ze(n,t)}),Ve(\"rows().remove()\",\"row().remove()\",function(){var d=this;return this.iterator(\"row\",function(e,t,n){var r,a,i,o,s,l,u=e.aoData,c=u[t];for(u.splice(t,1),r=0,a=u.length;r<a;r++)if(l=(s=u[r]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=r),null!==l)for(i=0,o=l.length;i<o;i++)l[i]._DT_CellIndex.row=r;h(e.aiDisplayMaster,t),h(e.aiDisplay,t),h(d[n],t,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,Me(e);var f=e.rowIdFn(c._aData);f!==$&&delete e.aIds[f]}),this.iterator(\"table\",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),Xe(\"rows.add()\",function(i){var e=this.iterator(\"table\",function(e){var t,n,r,a=[];for(n=0,r=i.length;n<r;n++)(t=i[n]).nodeName&&\"TR\"===t.nodeName.toUpperCase()?a.push(O(e,t)[0]):a.push(M(e,t));return a},1),t=this.rows(-1);return t.pop(),B.merge(t,e),t}),Xe(\"row()\",function(e,t){return kt(this.rows(e,t))}),Xe(\"row().data()\",function(e){var t=this.context;if(e===$)return t.length&&this.length?t[0].aoData[this[0]]._aData:$;var n=t[0].aoData[this[0]];return n._aData=e,B.isArray(e)&&n.nTr.id&&y(t[0].rowId)(e,n.nTr.id),a(t[0],this[0],\"data\"),this}),Xe(\"row().node()\",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),Xe(\"row.add()\",function(t){t instanceof B&&t.length&&(t=t[0]);var e=this.iterator(\"table\",function(e){return t.nodeName&&\"TR\"===t.nodeName.toUpperCase()?O(e,t)[0]:M(e,t)});return this.row(e[0])});var Lt=function(i,e,t,n){var o=[],s=function(e,t){if(B.isArray(e)||e instanceof B)for(var n=0,r=e.length;n<r;n++)s(e[n],t);else if(e.nodeName&&\"tr\"===e.nodeName.toLowerCase())o.push(e);else{var a=B(\"<tr><td/></tr>\").addClass(t);B(\"td\",a).addClass(t).html(e)[0].colSpan=F(i),o.push(a[0])}};s(t,n),e._details&&e._details.detach(),e._details=B(o),e._detailsShow&&e._details.insertAfter(e.nTr)},Et=function(e,t){var n=e.context;if(n.length){var r=n[0].aoData[t!==$?t:e[0]];r&&r._details&&(r._details.remove(),r._detailsShow=$,r._details=$)}},Rt=function(e,t){var n=e.context;if(n.length&&e.length){var r=n[0].aoData[e[0]];r._details&&((r._detailsShow=t)?r._details.insertAfter(r.nTr):r._details.detach(),Ft(n[0]))}},Ft=function(o){var a=new ze(o),e=\".dt.DT_details\",t=\"draw\"+e,n=\"column-visibility\"+e,r=\"destroy\"+e,s=o.aoData;a.off(t+\" \"+n+\" \"+r),0<st(s,\"_details\").length&&(a.on(t,function(e,t){o===t&&a.rows({page:\"current\"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),a.on(n,function(e,t){if(o===t)for(var n,r=F(t),a=0,i=s.length;a<i;a++)(n=s[a])._details&&n._details.children(\"td[colspan]\").attr(\"colspan\",r)}),a.on(r,function(e,t){if(o===t)for(var n=0,r=s.length;n<r;n++)s[n]._details&&Et(a,n)}))},Pt=\"\"+\"row().child\",Ht=Pt+\"()\";Xe(Ht,function(e,t){var n=this.context;return e===$?n.length&&this.length?n[0].aoData[this[0]]._details:$:(!0===e?this.child.show():!1===e?Et(this):n.length&&this.length&&Lt(n[0],n[0].aoData[this[0]],e,t),this)}),Xe([Pt+\".show()\",Ht+\".show()\"],function(){return Rt(this,!0),this}),Xe([Pt+\".hide()\",Ht+\".hide()\"],function(){return Rt(this,!1),this}),Xe([Pt+\".remove()\",Ht+\".remove()\"],function(){return Et(this),this}),Xe(Pt+\".isShown()\",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Mt=/^([^:]+):(name|visIdx|visible)$/,Ot=function(e,t,n,r,a){for(var i=[],o=0,s=a.length;o<s;o++)i.push(g(e,a[o],t));return i},qt=function(l,e,u){var c=l.aoColumns,f=st(c,\"sName\"),d=st(c,\"nTh\");return At(\"column\",e,function(n){var e=nt(n);if(\"\"===n)return ut(c.length);if(null!==e)return[0<=e?e:c.length+e];if(\"function\"==typeof n){var r=It(l,u);return B.map(c,function(e,t){return n(t,Ot(l,t,0,0,r),d[t])?t:null})}var a=\"string\"==typeof n?n.match(Mt):\"\";if(a)switch(a[2]){case\"visIdx\":case\"visible\":var t=parseInt(a[1],10);if(t<0){var i=B.map(c,function(e,t){return e.bVisible?t:null});return[i[i.length+t]]}return[z(l,t)];case\"name\":return B.map(f,function(e,t){return e===a[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var o=B(d).filter(n).map(function(){return B.inArray(this,d)}).toArray();if(o.length||!n.nodeName)return o;var s=B(n).closest(\"*[data-dt-column]\");return s.length?[s.data(\"dt-column\")]:[]},l,u)},Wt=function(e,t,n){var r,a,i,o,s=e.aoColumns,l=s[t],u=e.aoData;if(n===$)return l.bVisible;if(l.bVisible!==n){if(n){var c=B.inArray(!0,st(s,\"bVisible\"),t+1);for(a=0,i=u.length;a<i;a++)o=u[a].nTr,r=u[a].anCells,o&&o.insertBefore(r[t],r[c]||null)}else B(st(e.aoData,\"anCells\",t)).detach();l.bVisible=n}};Xe(\"columns()\",function(t,n){t===$?t=\"\":B.isPlainObject(t)&&(n=t,t=\"\"),n=Nt(n);var e=this.iterator(\"table\",function(e){return qt(e,t,n)},1);return e.selector.cols=t,e.selector.opts=n,e}),Ve(\"columns().header()\",\"column().header()\",function(){return this.iterator(\"column\",function(e,t){return e.aoColumns[t].nTh},1)}),Ve(\"columns().footer()\",\"column().footer()\",function(){return this.iterator(\"column\",function(e,t){return e.aoColumns[t].nTf},1)}),Ve(\"columns().data()\",\"column().data()\",function(){return this.iterator(\"column-rows\",Ot,1)}),Ve(\"columns().dataSrc()\",\"column().dataSrc()\",function(){return this.iterator(\"column\",function(e,t){return e.aoColumns[t].mData},1)}),Ve(\"columns().cache()\",\"column().cache()\",function(i){return this.iterator(\"column-rows\",function(e,t,n,r,a){return lt(e.aoData,a,\"search\"===i?\"_aFilterData\":\"_aSortData\",t)},1)}),Ve(\"columns().nodes()\",\"column().nodes()\",function(){return this.iterator(\"column-rows\",function(e,t,n,r,a){return lt(e.aoData,a,\"anCells\",t)},1)}),Ve(\"columns().visible()\",\"column().visible()\",function(n,r){var t=this,e=this.iterator(\"column\",function(e,t){if(n===$)return e.aoColumns[t].bVisible;Wt(e,t,n)});return n!==$&&this.iterator(\"table\",function(e){v(e,e.aoHeader),v(e,e.aoFooter),e.aiDisplay.length||B(e.nTBody).find(\"td[colspan]\").attr(\"colspan\",F(e)),ke(e),t.iterator(\"column\",function(e,t){He(e,null,\"column-visibility\",[e,t,n,r])}),(r===$||r)&&t.columns.adjust()}),e}),Ve(\"columns().indexes()\",\"column().index()\",function(n){return this.iterator(\"column\",function(e,t){return\"visible\"===n?c(e,t):t},1)}),Xe(\"columns.adjust()\",function(){return this.iterator(\"table\",function(e){U(e)},1)}),Xe(\"column.index()\",function(e,t){if(0!==this.context.length){var n=this.context[0];if(\"fromVisible\"===e||\"toData\"===e)return z(n,t);if(\"fromData\"===e||\"toVisible\"===e)return c(n,t)}}),Xe(\"column()\",function(e,t){return kt(this.columns(e,t))});var Bt=function(r,e,t){var a,i,o,s,l,u,c,f=r.aoData,d=It(r,t),n=ct(lt(f,d,\"anCells\")),h=B([].concat.apply([],n)),p=r.aoColumns.length;return At(\"cell\",e,function(e){var t=\"function\"==typeof e;if(null===e||e===$||t){for(i=[],o=0,s=d.length;o<s;o++)for(a=d[o],l=0;l<p;l++)u={row:a,column:l},t?(c=f[a],e(u,g(r,a,l),c.anCells?c.anCells[l]:null)&&i.push(u)):i.push(u);return i}if(B.isPlainObject(e))return e.column!==$&&e.row!==$&&-1!==B.inArray(e.row,d)?[e]:[];var n=h.filter(e).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return n.length||!e.nodeName?n:(c=B(e).closest(\"*[data-dt-row]\")).length?[{row:c.data(\"dt-row\"),column:c.data(\"dt-column\")}]:[]},r,t)};Xe(\"cells()\",function(t,e,n){if(B.isPlainObject(t)&&(t.row===$?(n=t,t=null):(n=e,e=null)),B.isPlainObject(e)&&(n=e,e=null),null===e||e===$)return this.iterator(\"table\",function(e){return Bt(e,t,Nt(n))});var r,a,i,o,s=n?{page:n.page,order:n.order,search:n.search}:{},l=this.columns(e,s),u=this.rows(t,s),c=this.iterator(\"table\",function(e,t){var n=[];for(r=0,a=u[t].length;r<a;r++)for(i=0,o=l[t].length;i<o;i++)n.push({row:u[t][r],column:l[t][i]});return n},1),f=n&&n.selected?this.cells(c,n):c;return B.extend(f.selector,{cols:e,rows:t,opts:n}),f}),Ve(\"cells().nodes()\",\"cell().node()\",function(){return this.iterator(\"cell\",function(e,t,n){var r=e.aoData[t];return r&&r.anCells?r.anCells[n]:$},1)}),Xe(\"cells().data()\",function(){return this.iterator(\"cell\",function(e,t,n){return g(e,t,n)},1)}),Ve(\"cells().cache()\",\"cell().cache()\",function(r){return r=\"search\"===r?\"_aFilterData\":\"_aSortData\",this.iterator(\"cell\",function(e,t,n){return e.aoData[t][r][n]},1)}),Ve(\"cells().render()\",\"cell().render()\",function(r){return this.iterator(\"cell\",function(e,t,n){return g(e,t,n,r)},1)}),Ve(\"cells().indexes()\",\"cell().index()\",function(){return this.iterator(\"cell\",function(e,t,n){return{row:t,column:n,columnVisible:c(e,n)}},1)}),Ve(\"cells().invalidate()\",\"cell().invalidate()\",function(r){return this.iterator(\"cell\",function(e,t,n){a(e,t,r,n)})}),Xe(\"cell()\",function(e,t,n){return kt(this.cells(e,t,n))}),Xe(\"cell().data()\",function(e){var t=this.context,n=this[0];return e===$?t.length&&n.length?g(t[0],n[0].row,n[0].column):$:(r(t[0],n[0].row,n[0].column,e),a(t[0],n[0].row,\"data\",n[0].column),this)}),Xe(\"order()\",function(t,e){var n=this.context;return t===$?0!==n.length?n[0].aaSorting:$:(\"number\"==typeof t?t=[[t,e]]:t.length&&!B.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator(\"table\",function(e){e.aaSorting=t.slice()}))}),Xe(\"order.listener()\",function(t,n,r){return this.iterator(\"table\",function(e){_e(e,t,n,r)})}),Xe(\"order.fixed()\",function(t){if(t)return this.iterator(\"table\",function(e){e.aaSortingFixed=B.extend(!0,{},t)});var e=this.context,n=e.length?e[0].aaSortingFixed:$;return B.isArray(n)?{pre:n}:n}),Xe([\"columns().order()\",\"column().order()\"],function(r){var a=this;return this.iterator(\"table\",function(e,t){var n=[];B.each(a[t],function(e,t){n.push([t,r])}),e.aaSorting=n})}),Xe(\"search()\",function(t,n,r,a){var e=this.context;return t===$?0!==e.length?e[0].oPreviousSearch.sSearch:$:this.iterator(\"table\",function(e){e.oFeatures.bFilter&&J(e,B.extend({},e.oPreviousSearch,{sSearch:t+\"\",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===a||a}),1)})}),Ve(\"columns().search()\",\"column().search()\",function(r,a,i,o){return this.iterator(\"column\",function(e,t){var n=e.aoPreSearchCols;if(r===$)return n[t].sSearch;e.oFeatures.bFilter&&(B.extend(n[t],{sSearch:r+\"\",bRegex:null!==a&&a,bSmart:null===i||i,bCaseInsensitive:null===o||o}),J(e,e.oPreviousSearch,1))})}),Xe(\"state()\",function(){return this.context.length?this.context[0].oSavedState:null}),Xe(\"state.clear()\",function(){return this.iterator(\"table\",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Xe(\"state.loaded()\",function(){return this.context.length?this.context[0].oLoadedState:null}),Xe(\"state.save()\",function(){return this.iterator(\"table\",function(e){ke(e)})}),Ge.versionCheck=Ge.fnVersionCheck=function(e){for(var t,n,r=Ge.version.split(\".\"),a=e.split(\".\"),i=0,o=a.length;i<o;i++)if((t=parseInt(r[i],10)||0)!==(n=parseInt(a[i],10)||0))return n<t;return!0},Ge.isDataTable=Ge.fnIsDataTable=function(e){var a=B(e).get(0),i=!1;return e instanceof Ge.Api||(B.each(Ge.settings,function(e,t){var n=t.nScrollHead?B(\"table\",t.nScrollHead)[0]:null,r=t.nScrollFoot?B(\"table\",t.nScrollFoot)[0]:null;t.nTable!==a&&n!==a&&r!==a||(i=!0)}),i)},Ge.tables=Ge.fnTables=function(t){var e=!1;B.isPlainObject(t)&&(e=t.api,t=t.visible);var n=B.map(Ge.settings,function(e){if(!t||t&&B(e.nTable).is(\":visible\"))return e.nTable});return e?new ze(n):n},Ge.camelToHungarian=A,Xe(\"$()\",function(e,t){var n=this.rows(t).nodes(),r=B(n);return B([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),B.each([\"on\",\"one\",\"off\"],function(e,n){Xe(n+\"()\",function(){var e=Array.prototype.slice.call(arguments);e[0]=B.map(e[0].split(/\\s/),function(e){return e.match(/\\.dt\\b/)?e:e+\".dt\"}).join(\" \");var t=B(this.tables().nodes());return t[n].apply(t,e),this})}),Xe(\"clear()\",function(){return this.iterator(\"table\",function(e){u(e)})}),Xe(\"settings()\",function(){return new ze(this.context,this.context)}),Xe(\"init()\",function(){var e=this.context;return e.length?e[0].oInit:null}),Xe(\"data()\",function(){return this.iterator(\"table\",function(e){return st(e.aoData,\"_aData\")}).flatten()}),Xe(\"destroy()\",function(p){return p=p||!1,this.iterator(\"table\",function(t){var n,e=t.nTableWrapper.parentNode,r=t.oClasses,a=t.nTable,i=t.nTBody,o=t.nTHead,s=t.nTFoot,l=B(a),u=B(i),c=B(t.nTableWrapper),f=B.map(t.aoData,function(e){return e.nTr});t.bDestroying=!0,He(t,\"aoDestroyCallback\",\"destroy\",[t]),p||new ze(t).columns().visible(!0),c.off(\".DT\").find(\":not(tbody *)\").off(\".DT\"),B(N).off(\".DT-\"+t.sInstance),a!=o.parentNode&&(l.children(\"thead\").detach(),l.append(o)),s&&a!=s.parentNode&&(l.children(\"tfoot\").detach(),l.append(s)),t.aaSorting=[],t.aaSortingFixed=[],Ae(t),B(f).removeClass(t.asStripeClasses.join(\" \")),B(\"th, td\",o).removeClass(r.sSortable+\" \"+r.sSortableAsc+\" \"+r.sSortableDesc+\" \"+r.sSortableNone),u.children().detach(),u.append(f);var d=p?\"remove\":\"detach\";l[d](),c[d](),!p&&e&&(e.insertBefore(a,t.nTableReinsertBefore),l.css(\"width\",t.sDestroyWidth).removeClass(r.sTable),(n=t.asDestroyStripes.length)&&u.children().each(function(e){B(this).addClass(t.asDestroyStripes[e%n])}));var h=B.inArray(t,Ge.settings);-1!==h&&Ge.settings.splice(h,1)})}),B.each([\"column\",\"row\",\"cell\"],function(e,l){Xe(l+\"s().every()\",function(i){var o=this.selector.opts,s=this;return this.iterator(l,function(e,t,n,r,a){i.call(s[l](t,\"cell\"===l?n:o,\"cell\"===l?o:$),t,n,r,a)})})}),Xe(\"i18n()\",function(e,t,n){var r=this.context[0],a=q(e)(r.oLanguage);return a===$&&(a=t),n!==$&&B.isPlainObject(a)&&(a=a[n]!==$?a[n]:a._),a.replace(\"%d\",n)}),Ge.version=\"1.10.20\",Ge.settings=[],Ge.models={},Ge.models.oSearch={bCaseInsensitive:!0,sSearch:\"\",bRegex:!1,bSmart:!0},Ge.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:\"\",src:null,idx:-1},Ge.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:\"std\",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ge.defaults={aaData:null,aaSorting:[[0,\"asc\"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem(\"DataTables_\"+e.sInstance+\"_\"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem(\"DataTables_\"+e.sInstance+\"_\"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:\": activate to sort column ascending\",sSortDescending:\": activate to sort column descending\"},oPaginate:{sFirst:\"First\",sLast:\"Last\",sNext:\"Next\",sPrevious:\"Previous\"},sEmptyTable:\"No data available in table\",sInfo:\"Showing _START_ to _END_ of _TOTAL_ entries\",sInfoEmpty:\"Showing 0 to 0 of 0 entries\",sInfoFiltered:\"(filtered from _MAX_ total entries)\",sInfoPostFix:\"\",sDecimal:\"\",sThousands:\",\",sLengthMenu:\"Show _MENU_ entries\",sLoadingRecords:\"Loading...\",sProcessing:\"Processing...\",sSearch:\"Search:\",sSearchPlaceholder:\"\",sUrl:\"\",sZeroRecords:\"No matching records found\"},oSearch:B.extend({},Ge.models.oSearch),sAjaxDataProp:\"data\",sAjaxSource:null,sDom:\"lfrtip\",searchDelay:null,sPaginationType:\"simple_numbers\",sScrollX:\"\",sScrollXInner:\"\",sScrollY:\"\",sServerMethod:\"GET\",renderer:null,rowId:\"DT_RowId\"},o(Ge.defaults),Ge.defaults.column={aDataSort:null,iDataSort:-1,asSorting:[\"asc\",\"desc\"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:\"td\",sClass:\"\",sContentPadding:\"\",sDefaultContent:null,sName:\"\",sSortDataType:\"std\",sTitle:null,sType:null,sWidth:null},o(Ge.defaults.column),Ge.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:\"\",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:\"two_button\",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:$,oAjaxData:$,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return\"ssp\"==qe(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return\"ssp\"==qe(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,a=this.oFeatures,i=a.bPaginate;return a.bServerSide?!1===i||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!i||r<n||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ge.ext=Ue={buttons:{},classes:{},build:\"dt/dt-1.10.20\",errMode:\"alert\",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ge.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ge.version},B.extend(Ue,{afnFiltering:Ue.search,aTypes:Ue.type.detect,ofnSearch:Ue.type.search,oSort:Ue.type.order,afnSortData:Ue.order,aoFeatures:Ue.feature,oApi:Ue.internal,oStdClasses:Ue.classes,oPagination:Ue.pager}),B.extend(Ge.ext.classes,{sTable:\"dataTable\",sNoFooter:\"no-footer\",sPageButton:\"paginate_button\",sPageButtonActive:\"current\",sPageButtonDisabled:\"disabled\",sStripeOdd:\"odd\",sStripeEven:\"even\",sRowEmpty:\"dataTables_empty\",sWrapper:\"dataTables_wrapper\",sFilter:\"dataTables_filter\",sInfo:\"dataTables_info\",sPaging:\"dataTables_paginate paging_\",sLength:\"dataTables_length\",sProcessing:\"dataTables_processing\",sSortAsc:\"sorting_asc\",sSortDesc:\"sorting_desc\",sSortable:\"sorting\",sSortableAsc:\"sorting_asc_disabled\",sSortableDesc:\"sorting_desc_disabled\",sSortableNone:\"sorting_disabled\",sSortColumn:\"sorting_\",sFilterInput:\"\",sLengthSelect:\"\",sScrollWrapper:\"dataTables_scroll\",sScrollHead:\"dataTables_scrollHead\",sScrollHeadInner:\"dataTables_scrollHeadInner\",sScrollBody:\"dataTables_scrollBody\",sScrollFoot:\"dataTables_scrollFoot\",sScrollFootInner:\"dataTables_scrollFootInner\",sHeaderTH:\"\",sFooterTH:\"\",sSortJUIAsc:\"\",sSortJUIDesc:\"\",sSortJUI:\"\",sSortJUIAscAllowed:\"\",sSortJUIDescAllowed:\"\",sSortJUIWrapper:\"\",sSortIcon:\"\",sJUIHeader:\"\",sJUIFooter:\"\"});var $t=Ge.ext.pager;B.extend($t,{simple:function(){return[\"previous\",\"next\"]},full:function(){return[\"first\",\"previous\",\"next\",\"last\"]},numbers:function(e,t){return[We(e,t)]},simple_numbers:function(e,t){return[\"previous\",We(e,t),\"next\"]},full_numbers:function(e,t){return[\"first\",\"previous\",We(e,t),\"next\",\"last\"]},first_last_numbers:function(e,t){return[\"first\",We(e,t),\"last\"]},_numbers:We,numbers_length:7}),B.extend(!0,Ge.ext.renderer,{pageButton:{_:function(u,e,c,t,f,d){var h,p,n,g=u.oClasses,m=u.oLanguage.oPaginate,v=u.oLanguage.oAria.paginate||{},y=0,b=function(e,t){var n,r,a,i,o=g.sPageButtonDisabled,s=function(e){fe(u,e.data.action,!0)};for(n=0,r=t.length;n<r;n++)if(a=t[n],B.isArray(a)){var l=B(\"<\"+(a.DT_el||\"div\")+\"/>\").appendTo(e);b(l,a)}else{switch(h=null,p=a,i=u.iTabIndex,a){case\"ellipsis\":e.append('<span class=\"ellipsis\">&#x2026;</span>');break;case\"first\":h=m.sFirst,0===f&&(i=-1,p+=\" \"+o);break;case\"previous\":h=m.sPrevious,0===f&&(i=-1,p+=\" \"+o);break;case\"next\":h=m.sNext,f===d-1&&(i=-1,p+=\" \"+o);break;case\"last\":h=m.sLast,f===d-1&&(i=-1,p+=\" \"+o);break;default:h=a+1,p=f===a?g.sPageButtonActive:\"\"}null!==h&&(Fe(B(\"<a>\",{\"class\":g.sPageButton+\" \"+p,\"aria-controls\":u.sTableId,\"aria-label\":v[a],\"data-dt-idx\":y,tabindex:i,id:0===c&&\"string\"==typeof a?u.sTableId+\"_\"+a:null}).html(h).appendTo(e),{action:a},s),y++)}};try{n=B(e).find(w.activeElement).data(\"dt-idx\")}catch(r){}b(B(e).empty(),t),n!==$&&B(e).find(\"[data-dt-idx=\"+n+\"]\").focus()}}}),B.extend(Ge.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return at(e,n)?\"num\"+n:null},function(e){if(e&&!(e instanceof Date)&&!Ke.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||tt(e)?\"date\":null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n,!0)?\"num-fmt\"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n)?\"html-num\"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n,!0)?\"html-num-fmt\"+n:null},function(e){return tt(e)||\"string\"==typeof e&&-1!==e.indexOf(\"<\")?\"html\":null}]),B.extend(Ge.ext.type.search,{html:function(e){return tt(e)?e:\"string\"==typeof e?e.replace(Ye,\" \").replace(Ze,\"\"):\"\"},string:function(e){return tt(e)?e:\"string\"==typeof e?e.replace(Ye,\" \"):e}});var Ut=function(e,t,n,r){return 0===e||e&&\"-\"!==e?(t&&(e=rt(e,t)),e.replace&&(n&&(e=e.replace(n,\"\")),r&&(e=e.replace(r,\"\"))),1*e):-Infinity};B.extend(Ue.type.order,{\"date-pre\":function(e){var t=Date.parse(e);return isNaN(t)?-Infinity:t},\"html-pre\":function(e){return tt(e)?\"\":e.replace?e.replace(/<.*?>/g,\"\").toLowerCase():e+\"\"},\"string-pre\":function(e){return tt(e)?\"\":\"string\"==typeof e?e.toLowerCase():e.toString?e.toString():\"\"},\"string-asc\":function(e,t){return e<t?-1:t<e?1:0},\"string-desc\":function(e,t){return e<t?1:t<e?-1:0}}),Be(\"\"),B.extend(!0,Ge.ext.renderer,{header:{_:function(i,o,s,l){B(i.nTable).on(\"order.dt.DT\",function(e,t,n,r){if(i===t){var a=s.idx;o.removeClass(s.sSortingClass+\" \"+l.sSortAsc+\" \"+l.sSortDesc).addClass(\"asc\"==r[a]?l.sSortAsc:\"desc\"==r[a]?l.sSortDesc:s.sSortingClass)}})},jqueryui:function(i,o,s,l){B(\"<div/>\").addClass(l.sSortJUIWrapper).append(o.contents()).append(B(\"<span/>\").addClass(l.sSortIcon+\" \"+s.sSortingClassJUI)).appendTo(o),B(i.nTable).on(\"order.dt.DT\",function(e,t,n,r){if(i===t){var a=s.idx;o.removeClass(l.sSortAsc+\" \"+l.sSortDesc).addClass(\"asc\"==r[a]?l.sSortAsc:\"desc\"==r[a]?l.sSortDesc:s.sSortingClass),o.find(\"span.\"+l.sSortIcon).removeClass(l.sSortJUIAsc+\" \"+l.sSortJUIDesc+\" \"+l.sSortJUI+\" \"+l.sSortJUIAscAllowed+\" \"+l.sSortJUIDescAllowed).addClass(\"asc\"==r[a]?l.sSortJUIAsc:\"desc\"==r[a]?l.sSortJUIDesc:s.sSortingClassJUI)}})}}});var zt=function(e){return\"string\"==typeof e?e.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\"):e};return Ge.render={number:function(i,o,s,l,u){return{display:function(e){if(\"number\"!=typeof e&&\"string\"!=typeof e)return e;var t=e<0?\"-\":\"\",n=parseFloat(e);if(isNaN(n))return zt(e);n=n.toFixed(s),e=Math.abs(n);var r=parseInt(e,10),a=s?o+(e-r).toFixed(s).substring(2):\"\";return t+(l||\"\")+r.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,i)+a+(u||\"\")}}},text:function(){return{display:zt,filter:zt}}},B.extend(Ge.ext.internal,{_fnExternApiFunc:$e,_fnBuildAjax:C,_fnAjaxUpdate:_,_fnAjaxParameters:i,_fnAjaxUpdateDraw:s,_fnAjaxDataSrc:V,_fnAddColumn:E,_fnColumnOptions:R,_fnAdjustColumnSizing:U,_fnVisibleToColumnIndex:z,_fnColumnIndexToVisible:c,_fnVisbleColumns:F,_fnGetColumns:P,_fnColumnTypes:l,_fnApplyColumnDefs:H,_fnHungarianMap:o,_fnCamelToHungarian:A,_fnLanguageCompat:k,_fnBrowserDetect:L,_fnAddData:M,_fnAddTr:O,_fnNodeToDataIndex:e,_fnNodeToColumnIndex:t,_fnGetCellData:g,_fnSetCellData:r,_fnSplitObjNotation:m,_fnGetObjectDataFn:q,_fnSetObjectDataFn:y,_fnGetDataMaster:x,_fnClearTable:u,_fnDeleteIndex:h,_fnInvalidate:a,_fnGetRowElements:f,_fnCreateTr:S,_fnBuildHead:d,_fnDrawHead:v,_fnDraw:b,_fnReDraw:D,_fnAddOptionsHtml:T,_fnDetectHeader:W,_fnGetUniqueThs:X,_fnFeatureHtmlFilter:G,_fnFilterComplete:J,_fnFilterCustom:Y,_fnFilterColumn:Z,_fnFilter:K,_fnFilterCreateSearch:Q,_fnEscapeRegex:vt,_fnFilterData:ee,_fnFeatureHtmlInfo:re,_fnUpdateInfo:ae,_fnInfoMacros:ie,_fnInitialise:oe,_fnInitComplete:se,_fnLengthChange:le,_fnFeatureHtmlLength:ue,_fnFeatureHtmlPaginate:ce,_fnPageChange:fe,_fnFeatureHtmlProcessing:de,_fnProcessingDisplay:he,_fnFeatureHtmlTable:pe,_fnScrollDraw:ge,_fnApplyToChildren:me,_fnCalculateColumnWidths:ve,_fnThrottle:xt,_fnConvertToWidth:ye,_fnGetWidestNode:be,_fnGetMaxLenString:we,_fnStringToCss:xe,_fnSortFlatten:Se,_fnSort:De,_fnSortAria:Te,_fnSortListener:Ce,_fnSortAttachListener:_e,_fnSortingClasses:Ae,_fnSortData:Ne,_fnSaveState:ke,_fnLoadState:Ie,_fnSettingsFromNode:je,_fnLog:Le,_fnMap:Ee,_fnBindAction:Fe,_fnCallbackReg:Pe,_fnCallbackFire:He,_fnLengthOverflow:Me,_fnRenderer:Oe,_fnDataSource:qe,_fnRowAttributes:p,_fnExtend:Re,_fnCalculateEnd:function(){}}),((B.fn.dataTable=Ge).$=B).fn.dataTableSettings=Ge.settings,B.fn.dataTableExt=Ge.ext,B.fn.DataTable=function(e){return B(this).dataTable(e).api()},B.each(Ge,function(e,t){B.fn.DataTable[e]=t}),B.fn.dataTable}),function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"object\"==typeof module&&\"object\"==typeof module.exports?e(require(\"jquery\")):e(jQuery)}(function(d){function n(){var e=o.settings;if(e.autoDispose&&!d.contains(document.documentElement,this))return d(this).timeago(\"dispose\"),this;var t=r(this);return isNaN(t.datetime)||(0===e.cutoff||Math.abs(i(t.datetime))<e.cutoff?d(this).text(a(t.datetime)):0<d(this).attr(\"title\").length&&d(this).text(d(this).attr(\"title\"))),this}function r(e){if(!(e=d(e)).data(\"timeago\")){e.data(\"timeago\",{datetime:o.datetime(e)});var t=d.trim(e.text())\n    7  ;o.settings.localeTitle?e.attr(\"title\",e.data(\"timeago\").datetime.toLocaleString()):!(0<t.length)||o.isTime(e)&&e.attr(\"title\")||e.attr(\"title\",t)}return e.data(\"timeago\")}function a(e){return o.inWords(i(e))}function i(e){return(new Date).getTime()-e.getTime()}d.timeago=function(e){return e instanceof Date?a(e):a(\"string\"==typeof e?d.timeago.parse(e):\"number\"==typeof e?new Date(e):d.timeago.datetime(e))};var o=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:\"ago\",suffixFromNow:\"from now\",inPast:\"any moment now\",seconds:\"less than a minute\",minute:\"about a minute\",minutes:\"%d minutes\",hour:\"about an hour\",hours:\"about %d hours\",day:\"a day\",days:\"%d days\",month:\"about a month\",months:\"%d months\",year:\"about a year\",years:\"%d years\",wordSeparator:\" \",numbers:[]}},inWords:function(a){function e(e,t){var n=d.isFunction(e)?e(t,a):e,r=i.numbers&&i.numbers[t]||t;return n.replace(/%d/i,r)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw\"timeago allowPast and allowFuture settings can not both be set to false.\";var i=this.settings.strings,t=i.prefixAgo,n=i.suffixAgo;if(this.settings.allowFuture&&a<0&&(t=i.prefixFromNow,n=i.suffixFromNow),!this.settings.allowPast&&0<=a)return this.settings.strings.inPast;var r=Math.abs(a)/1e3,o=r/60,s=o/60,l=s/24,u=l/365,c=r<45&&e(i.seconds,Math.round(r))||r<90&&e(i.minute,1)||o<45&&e(i.minutes,Math.round(o))||o<90&&e(i.hour,1)||s<24&&e(i.hours,Math.round(s))||s<42&&e(i.day,1)||l<30&&e(i.days,Math.round(l))||l<45&&e(i.month,1)||l<365&&e(i.months,Math.round(l/30))||u<1.5&&e(i.year,1)||e(i.years,Math.round(u)),f=i.wordSeparator||\"\";return i.wordSeparator===undefined&&(f=\" \"),d.trim([t,c,n].join(f))},parse:function(e){var t=d.trim(e);return t=(t=(t=(t=(t=t.replace(/\\.\\d+/,\"\")).replace(/-/,\"/\").replace(/-/,\"/\")).replace(/T/,\" \").replace(/Z/,\" UTC\")).replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/,\" $1$2\")).replace(/([\\+\\-]\\d\\d)$/,\" $100\"),new Date(t)},datetime:function(e){var t=o.isTime(e)?d(e).attr(\"datetime\"):d(e).attr(\"title\");return o.parse(t)},isTime:function(e){return\"time\"===d(e).get(0).tagName.toLowerCase()}});var s={init:function(){s.dispose.call(this);var e=d.proxy(n,this);e();var t=o.settings;0<t.refreshMillis&&(this._timeagoInterval=setInterval(e,t.refreshMillis))},update:function(e){var t=e instanceof Date?e:o.parse(e);d(this).data(\"timeago\",{datetime:t}),o.settings.localeTitle&&d(this).attr(\"title\",t.toLocaleString()),n.apply(this)},updateFromDOM:function(){d(this).data(\"timeago\",{datetime:o.parse(o.isTime(this)?d(this).attr(\"datetime\"):d(this).attr(\"title\"))}),n.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};d.fn.timeago=function(e,t){var n=e?s[e]:s.init;if(!n)throw new Error(\"Unknown function name '\"+e+\"' for timeago\");return this.each(function(){n.call(this,t)}),this},document.createElement(\"abbr\"),document.createElement(\"time\")}),$(document).ready(function(){var t,n;$(\".file_list\").dataTable({order:[[1,\"asc\"]],paging:!1}),$(\"a.src_link\").click(function(){var e=$($(this).attr(\"href\"));e.hasClass(\"highlighted\")||(e.find(\"pre code\").each(function(e,t){hljs.highlightBlock(t,\"  \")}),e.addClass(\"highlighted\"))}),$(\"a.src_link\").colorbox({transition:\"none\",inline:!0,opacity:1,width:\"95%\",height:\"95%\",onLoad:function(){t=n||window.location.hash.substring(1),n=this.href.split(\"#\")[1],window.location.hash=n,$(\".file_list_container\").hide()},onCleanup:function(){t&&t!=n?($('a[href=\"#'+t+'\"]').click(),n=t):($(\".group_tabs a:first\").click(),t=n,n=\"#_AllFiles\"),window.location.hash=n;var e=$(\".group_tabs li.active a\").attr(\"class\");$(\"#\"+e+\".file_list_container\").show()}}),window.onpopstate=function(){\"#_\"==window.location.hash.substring(0,2)?($.colorbox.close(),n=window.location.hash.substring(1)):$(\"#colorbox\").is(\":hidden\")&&$('a.src_link[href=\"'+window.location.hash+'\"]').colorbox({open:!0})},$(\".source_files\").hide(),$(\".file_list_container\").hide(),$(\".file_list_container h2\").each(function(){var e=$(this).parent().attr(\"id\"),t=$(this).find(\".group_name\").first().html(),n=$(this).find(\".covered_percent\").first().html();$(\".group_tabs\").append('<li><a href=\"#'+e+'\">'+t+\" (\"+n+\")</a></li>\")}),$(\".group_tabs a\").each(function(){$(this).addClass($(this).attr(\"href\").replace(\"#\",\"\"))}),$(\".group_tabs\").on(\"focus\",\"a\",function(){$(this).blur()});var e=$('link[rel=\"shortcut icon\"]').attr(\"href\");if($(\".group_tabs\").on(\"click\",\"a\",function(){return $(this).parent().hasClass(\"active\")||($(\".group_tabs a\").parent().removeClass(\"active\"),$(this).parent().addClass(\"active\"),$(\".file_list_container\").hide(),$(\".file_list_container\"+$(this).attr(\"href\")).show(),window.location.href=window.location.href.split(\"#\")[0]+$(this).attr(\"href\").replace(\"#\",\"#_\"),$('link[rel=\"shortcut icon\"]').remove(),$(\"head\").append('<link rel=\"shortcut icon\" type=\"image/png\" href=\"'+e+'\" />')),!1}),window.location.hash){var r=window.location.hash.substring(1);40==r.length?$('a.src_link[href=\"#'+r+'\"]').click():$(\".group_tabs a.\"+r.replace(\"_\",\"\")).click()}else $(\".group_tabs a:first\").click();$(\"abbr.timeago\").timeago(),$(\"#loading\").fadeOut(),$(\"#wrapper\").show(),$(\".dataTables_filter input\").focus()});\n\n/home/guhurak/Documents/back-end/db/schema.rb:\n  949      t.datetime \"created_at\", precision: 6, null: false\n  950      t.datetime \"updated_at\", precision: 6, null: false\n  951:     t.boolean \"manual_mode\", default: false, null: false\n  952    end\n  953  \n\n/home/guhurak/Documents/back-end/db/migrate/20191223153840_init_schema.rb:\n  746        t.datetime \"created_at\", precision: 6, null: false\n  747        t.datetime \"updated_at\", precision: 6, null: false\n  748:       t.boolean \"manual_mode\", default: false, null: false\n  749      end\n  750      create_table \"football_teams\" do |t|\n\n/home/guhurak/Documents/back-end/log/test.log:\n    <binary>\n\n/home/guhurak/Documents/back-end/spec/rails_helper.rb:\n   29  # The following line is provided for convenience purposes. It has the downside\n   30  # of increasing the boot-up time by auto-requiring all files in the support\n   31: # directory. Alternatively, in the individual `*_spec.rb` files, manually\n   32  # require only the support files necessary.\n   33  #\n\n/home/guhurak/Documents/back-end/test/test_helper.rb:\n    1: # about counter caches : for now, we try to put them on fixtures manually. It reflects the best what is happening in production.\n    2  # An other optin would be to initalize those counters before all the tests.\n    3  # An other option would be de disable counter cache in test. (https://stackoverflow.com/questions/28604763/write-fixtures-with-counter-cache-columns)\n\n/home/guhurak/Documents/back-end/test/controllers/admin/pigeon_lofts_controller_test.rb:\n   16    end\n   17  \n   18:   test \"should create a manual pigeon_loft\" do\n   19:     post admin_pigeon_lofts_path(pigeon_loft: { title: \"bonjour\", body: \"c'est moi\", pigeon_type: \"manual\", annonce_clonable: false, all_communities: false, all_client: false, all_opened: true, start_at: DateTime.now + 1.hour, end_at: DateTime.now + 5.hour, send_notification: true, only_administrators_can_see: true, store_link: false, external_link: nil }, template_id: nil)\n   20      if Pigeon.find_by(title: \"bonjour\")\n   21        assert_response :succes\n   ..\n   29  \n   30    test \"should update start_date and title of pigeon_loft\" do\n   31:     patch admin_pigeon_loft_path(id: PigeonLoft.first.id, pigeon_loft: { title: \"bonsoir\", body: \"c'est moi\", pigeon_type: \"manual\", annonce_clonable: false, all_communities: false, all_client: false, all_opened: true, start_at: DateTime.now + 2.hour, end_at: DateTime.now + 5.hour, send_notification: true, only_administrators_can_see: true, store_link: false, external_link: nil }, template_id: nil)\n   32      if Pigeon.find_by(title: \"bonsoir\")\n   33        assert_response :succes\n   ..\n   36  \n   37    test \"should destroy a pigeon_loft\" do\n   38:     post admin_pigeon_lofts_path(pigeon_loft: { title: \"pigeon à détruire\", body: \"c'est lui\", pigeon_type: \"manual\", annonce_clonable: false, all_communities: false, all_client: false, all_opened: true, start_at: DateTime.now + 1.hour, end_at: DateTime.now + 5.hour, send_notification: true, only_administrators_can_see: true, store_link: false, external_link: nil }, template_id: nil)\n   39      pigeon_loft = PigeonLoft.last\n   40      delete admin_pigeon_loft_path(id: pigeon_loft.id)\n\n/home/guhurak/Documents/back-end/test/fixtures/pigeon_lofts.yml:\n    6  #\n    7  one:\n    8:   pigeon_type: manual\n    9    title: bonjour\n   10    body: body\n\n/home/guhurak/Documents/back-end/test/models/compteur_test.rb:\n    2  \n    3  class CompteurTest < ActiveSupport::TestCase\n    4:   test 'should not send notifications when user manually change the date' do\n    5      compteur = compteurs(:last_record_yesterday)\n    6      assert_no_difference 'Notification.count' do\n    .\n   10    end\n   11  \n   12:   test 'should not send notifications when user manually change the best record' do\n   13      compteur = compteurs(:last_record_yesterday)\n   14      assert_no_difference 'Notification.count' do\n\n/home/guhurak/Documents/back-end/test/models/user_test.rb:\n    3  class UserTest < ActiveSupport::TestCase\n    4    # note : with fixtures, callbacks on creation are not called.\n    5:   # That's why we build manually settint preferences\n    6    test 'should have a default setting preference' do\n    7      assert users(:michael).setting_preference\n\n/home/guhurak/Documents/back-end/vendor/assets/javascripts/jquery.atwho.js:\n  160            this.iframe = null;\n  161            if ($.fn.atwho.debug) {\n  162:             throw new Error(\"iframe auto-discovery is failed.\\nPlease use `setIframe` to set the target iframe manually.\\n\" + error);\n  163            }\n  164          }\n\n/home/guhurak/Documents/back-end/vendor/assets/javascripts/tether.js:\n    1: !function(t,e){\"function\"==typeof define&&define.amd?define(e):\"object\"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,o){\"use strict\";function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t){var e=getComputedStyle(t)||{},o=e.position,i=[];if(\"fixed\"===o)return[t];for(var n=t;n=n.parentNode;){var r=void 0;try{r=getComputedStyle(n)}catch(s){}if(\"undefined\"==typeof r||null===r)return i.push(n),i;var a=r,f=a.overflow,h=a.overflowX,l=a.overflowY;/(auto|scroll)/.test(f+l+h)&&(\"absolute\"!==o||[\"relative\",\"absolute\",\"fixed\"].indexOf(r.position)>=0)&&i.push(n)}return i.push(document.body),i}function r(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var o=e.documentElement,i={},n=t.getBoundingClientRect();for(var r in n)i[r]=n[r];var s=x(e);return i.top-=s.top,i.left-=s.left,\"undefined\"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),\"undefined\"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-o.clientTop,i.left=i.left-o.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function s(t){return t.offsetParent||document.documentElement}function a(){var t=document.createElement(\"div\");t.style.width=\"100%\",t.style.height=\"200px\";var e=document.createElement(\"div\");f(e.style,{position:\"absolute\",top:0,left:0,pointerEvents:\"none\",visibility:\"hidden\",width:\"200px\",height:\"150px\",overflow:\"hidden\"}),e.appendChild(t),document.body.appendChild(e);var o=t.offsetWidth;e.style.overflow=\"scroll\";var i=t.offsetWidth;o===i&&(i=e.clientWidth),document.body.removeChild(e);var n=o-i;return{width:n,height:n}}function f(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var o in e)({}).hasOwnProperty.call(e,o)&&(t[o]=e[o])}),t}function h(t,e){if(\"undefined\"!=typeof t.classList)e.split(\" \").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var o=new RegExp(\"(^| )\"+e.split(\" \").join(\"|\")+\"( |$)\",\"gi\"),i=u(t).replace(o,\" \");p(t,i)}}function l(t,e){if(\"undefined\"!=typeof t.classList)e.split(\" \").forEach(function(e){e.trim()&&t.classList.add(e)});else{h(t,e);var o=u(t)+(\" \"+e);p(t,o)}}function d(t,e){if(\"undefined\"!=typeof t.classList)return t.classList.contains(e);var o=u(t);return new RegExp(\"(^| )\"+e+\"( |$)\",\"gi\").test(o)}function u(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className}function p(t,e){t.setAttribute(\"class\",e)}function c(t,e,o){o.forEach(function(o){-1===e.indexOf(o)&&d(t,o)&&h(t,o)}),e.forEach(function(e){d(t,e)||l(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function g(t,e){var o=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+o>=e&&e>=t-o}function m(){return\"undefined\"!=typeof performance&&\"undefined\"!=typeof performance.now?performance.now():+new Date}function v(){for(var t={top:0,left:0},e=arguments.length,o=Array(e),i=0;e>i;i++)o[i]=arguments[i];return o.forEach(function(e){var o=e.top,i=e.left;\"string\"==typeof o&&(o=parseFloat(o,10)),\"string\"==typeof i&&(i=parseFloat(i,10)),t.top+=o,t.left+=i}),t}function y(t,e){return\"string\"==typeof t.left&&-1!==t.left.indexOf(\"%\")&&(t.left=parseFloat(t.left,10)/100*e.width),\"string\"==typeof t.top&&-1!==t.top.indexOf(\"%\")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function b(t,e){return\"scrollParent\"===e?e=t.scrollParents[0]:\"window\"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),\"undefined\"!=typeof e.nodeType&&!function(){var t=r(e),o=t,i=getComputedStyle(e);e=[o.left,o.top,t.width+o.left,t.height+o.top],U.forEach(function(t,o){t=t[0].toUpperCase()+t.substr(1),\"Top\"===t||\"Left\"===t?e[o]+=parseFloat(i[\"border\"+t+\"Width\"]):e[o]-=parseFloat(i[\"border\"+t+\"Width\"])})}(),e}var w=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),C=void 0;\"undefined\"==typeof C&&(C={modules:[]});var O=function(){var t=0;return function(){return++t}}(),E={},x=function(t){var e=t._tetherZeroElement;\"undefined\"==typeof e&&(e=t.createElement(\"div\"),e.setAttribute(\"data-tether-id\",O()),f(e.style,{top:0,left:0,position:\"absolute\"}),t.body.appendChild(e),t._tetherZeroElement=e);var o=e.getAttribute(\"data-tether-id\");if(\"undefined\"==typeof E[o]){E[o]={};var i=e.getBoundingClientRect();for(var n in i)E[o][n]=i[n];T(function(){delete E[o]})}return E[o]},A=[],T=function(t){A.push(t)},S=function(){for(var t=void 0;t=A.pop();)t()},W=function(){function t(){i(this,t)}return w(t,[{key:\"on\",value:function(t,e,o){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];\"undefined\"==typeof this.bindings&&(this.bindings={}),\"undefined\"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:o,once:i})}},{key:\"once\",value:function(t,e,o){this.on(t,e,o,!0)}},{key:\"off\",value:function(t,e){if(\"undefined\"==typeof this.bindings||\"undefined\"==typeof this.bindings[t])if(\"undefined\"==typeof e)delete this.bindings[t];else for(var o=0;o<this.bindings[t].length;)this.bindings[t][o].handler===e?this.bindings[t].splice(o,1):++o}},{key:\"trigger\",value:function(t){if(\"undefined\"!=typeof this.bindings&&this.bindings[t]){for(var e=0,o=arguments.length,i=Array(o>1?o-1:0),n=1;o>n;n++)i[n-1]=arguments[n];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],s=r.handler,a=r.ctx,f=r.once,h=a;\"undefined\"==typeof h&&(h=this),s.apply(h,i),f?this.bindings[t].splice(e,1):++e}}}}]),t}();C.Utils={getScrollParents:n,getBounds:r,getOffsetParent:s,extend:f,addClass:l,removeClass:h,hasClass:d,updateClasses:c,defer:T,flush:S,uniqueId:O,Evented:W,getScrollBarSize:a};var M=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(f){n=!0,r=f}finally{try{!i&&a[\"return\"]&&a[\"return\"]()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),w=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();if(\"undefined\"==typeof C)throw new Error(\"You must include the utils.js file before tether.js\");var P=C.Utils,n=P.getScrollParents,r=P.getBounds,s=P.getOffsetParent,f=P.extend,l=P.addClass,h=P.removeClass,c=P.updateClasses,T=P.defer,S=P.flush,a=P.getScrollBarSize,k=function(){if(\"undefined\"==typeof document)return\"\";for(var t=document.createElement(\"div\"),e=[\"transform\",\"webkitTransform\",\"OTransform\",\"MozTransform\",\"msTransform\"],o=0;o<e.length;++o){var i=e[o];if(void 0!==t.style[i])return i}}(),B=[],_=function(){B.forEach(function(t){t.position(!1)}),S()};!function(){var t=null,e=null,o=null,i=function n(){return\"undefined\"!=typeof e&&e>16?(e=Math.min(e-16,250),void(o=setTimeout(n,250))):void(\"undefined\"!=typeof t&&m()-t<10||(\"undefined\"!=typeof o&&(clearTimeout(o),o=null),t=m(),_(),e=m()-t))};\"undefined\"!=typeof window&&\"undefined\"!=typeof window.addEventListener&&[\"resize\",\"scroll\",\"touchmove\"].forEach(function(t){window.addEventListener(t,i)})}();var z={center:\"center\",left:\"right\",right:\"left\"},L={middle:\"middle\",top:\"bottom\",bottom:\"top\"},Y={top:0,left:0,middle:\"50%\",center:\"50%\",bottom:\"100%\",right:\"100%\"},H=function(t,e){var o=t.left,i=t.top;return\"auto\"===o&&(o=z[e.left]),\"auto\"===i&&(i=L[e.top]),{left:o,top:i}},F=function(t){var e=t.left,o=t.top;return\"undefined\"!=typeof Y[t.left]&&(e=Y[t.left]),\"undefined\"!=typeof Y[t.top]&&(o=Y[t.top]),{left:e,top:o}},X=function(t){var e=t.split(\" \"),o=M(e,2),i=o[0],n=o[1];return{top:i,left:n}},j=X,N=function(){function t(e){var o=this;i(this,t),this.position=this.position.bind(this),B.push(this),this.history=[],this.setOptions(e,!1),C.modules.forEach(function(t){\"undefined\"!=typeof t.initialize&&t.initialize.call(o)}),this.position()}return w(t,[{key:\"getClass\",value:function(){var t=arguments.length<=0||void 0===arguments[0]?\"\":arguments[0],e=this.options.classes;return\"undefined\"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+\"-\"+t:t}},{key:\"setOptions\",value:function(t){var e=this,o=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i={offset:\"0 0\",targetOffset:\"0 0\",targetAttachment:\"auto auto\",classPrefix:\"tether\"};this.options=f(i,t);var r=this.options,s=r.element,a=r.target,h=r.targetModifier;if(this.element=s,this.target=a,this.targetModifier=h,\"viewport\"===this.target?(this.target=document.body,this.targetModifier=\"visible\"):\"scroll-handle\"===this.target&&(this.target=document.body,this.targetModifier=\"scroll-handle\"),[\"element\",\"target\"].forEach(function(t){if(\"undefined\"==typeof e[t])throw new Error(\"Tether Error: Both element and target must be defined\");\"undefined\"!=typeof e[t].jquery?e[t]=e[t][0]:\"string\"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),l(this.element,this.getClass(\"element\")),this.options.addTargetClasses!==!1&&l(this.target,this.getClass(\"target\")),!this.options.attachment)throw new Error(\"Tether Error: You must provide an attachment\");this.targetAttachment=j(this.options.targetAttachment),this.attachment=j(this.options.attachment),this.offset=X(this.options.offset),this.targetOffset=X(this.options.targetOffset),\"undefined\"!=typeof this.scrollParents&&this.disable(),\"scroll-handle\"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=n(this.target),this.options.enabled!==!1&&this.enable(o)}},{key:\"getTargetBounds\",value:function(){if(\"undefined\"==typeof this.targetModifier)return r(this.target);if(\"visible\"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=r(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if(\"scroll-handle\"===this.targetModifier){var t=void 0,o=this.target;o===document.body?(o=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=r(o);var i=getComputedStyle(o),n=o.scrollWidth>o.clientWidth||[i.overflow,i.overflowX].indexOf(\"scroll\")>=0||this.target!==document.body,s=0;n&&(s=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-s,e={width:15,height:.975*a*(a/o.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},f=0;408>a&&this.target===document.body&&(f=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var h=this.target.scrollTop/(o.scrollHeight-a);return e.top=h*(a-e.height-f)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:\"clearCache\",value:function(){this._cache={}}},{key:\"cache\",value:function(t,e){return\"undefined\"==typeof this._cache&&(this._cache={}),\"undefined\"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:\"enable\",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&l(this.target,this.getClass(\"enabled\")),l(this.element,this.getClass(\"enabled\")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==document&&e.addEventListener(\"scroll\",t.position)}),e&&this.position()}},{key:\"disable\",value:function(){var t=this;h(this.target,this.getClass(\"enabled\")),h(this.element,this.getClass(\"enabled\")),this.enabled=!1,\"undefined\"!=typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener(\"scroll\",t.position)})}},{key:\"destroy\",value:function(){var t=this;this.disable(),B.forEach(function(e,o){return e===t?void B.splice(o,1):void 0})}},{key:\"updateAttachClasses\",value:function(t,e){var o=this;t=t||this.attachment,e=e||this.targetAttachment;var i=[\"left\",\"top\",\"bottom\",\"right\",\"middle\",\"center\"];\"undefined\"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),\"undefined\"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;t.top&&n.push(this.getClass(\"element-attached\")+\"-\"+t.top),t.left&&n.push(this.getClass(\"element-attached\")+\"-\"+t.left),e.top&&n.push(this.getClass(\"target-attached\")+\"-\"+e.top),e.left&&n.push(this.getClass(\"target-attached\")+\"-\"+e.left);var r=[];i.forEach(function(t){r.push(o.getClass(\"element-attached\")+\"-\"+t),r.push(o.getClass(\"target-attached\")+\"-\"+t)}),T(function(){\"undefined\"!=typeof o._addAttachClasses&&(c(o.element,o._addAttachClasses,r),o.options.addTargetClasses!==!1&&c(o.target,o._addAttachClasses,r),delete o._addAttachClasses)})}},{key:\"position\",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var o=H(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,o);var i=this.cache(\"element-bounds\",function(){return r(t.element)}),n=i.width,f=i.height;if(0===n&&0===f&&\"undefined\"!=typeof this.lastSize){var h=this.lastSize;n=h.width,f=h.height}else this.lastSize={width:n,height:f};var l=this.cache(\"target-bounds\",function(){return t.getTargetBounds()}),d=l,u=y(F(this.attachment),{width:n,height:f}),p=y(F(o),d),c=y(this.offset,{width:n,height:f}),g=y(this.targetOffset,d);u=v(u,c),p=v(p,g);for(var m=l.left+p.left-u.left,b=l.top+p.top-u.top,w=0;w<C.modules.length;++w){var O=C.modules[w],E=O.position.call(this,{left:m,top:b,targetAttachment:o,targetPos:l,elementPos:i,offset:u,targetOffset:p,manualOffset:c,manualTargetOffset:g,scrollbarSize:A,attachment:this.attachment});if(E===!1)return!1;\"undefined\"!=typeof E&&\"object\"==typeof E&&(b=E.top,m=E.left)}var x={page:{top:b,left:m},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-f+innerHeight,left:m-pageXOffset,right:pageXOffset-m-n+innerWidth}},A=void 0;return document.body.scrollWidth>window.innerWidth&&(A=this.cache(\"scrollbar-size\",a),x.viewport.bottom-=A.height),document.body.scrollHeight>window.innerHeight&&(A=this.cache(\"scrollbar-size\",a),x.viewport.right-=A.width),(-1===[\"\",\"static\"].indexOf(document.body.style.position)||-1===[\"\",\"static\"].indexOf(document.body.parentElement.style.position))&&(x.page.bottom=document.body.scrollHeight-b-f,x.page.right=document.body.scrollWidth-m-n),\"undefined\"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&\"undefined\"==typeof this.targetModifier&&!function(){var e=t.cache(\"target-offsetparent\",function(){return s(t.target)}),o=t.cache(\"target-offsetparent-bounds\",function(){return r(e)}),i=getComputedStyle(e),n=o,a={};if([\"Top\",\"Left\",\"Bottom\",\"Right\"].forEach(function(t){a[t.toLowerCase()]=parseFloat(i[\"border\"+t+\"Width\"])}),o.right=document.body.scrollWidth-o.left-n.width+a.right,o.bottom=document.body.scrollHeight-o.top-n.height+a.bottom,x.page.top>=o.top+a.top&&x.page.bottom>=o.bottom&&x.page.left>=o.left+a.left&&x.page.right>=o.right){var f=e.scrollTop,h=e.scrollLeft;x.offset={top:x.page.top-o.top+f-a.top,left:x.page.left-o.left+h-a.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),e&&S(),!0}}},{key:\"move\",value:function(t){var e=this;if(\"undefined\"!=typeof this.element.parentNode){var o={};for(var i in t){o[i]={};for(var n in t[i]){for(var r=!1,a=0;a<this.history.length;++a){var h=this.history[a];if(\"undefined\"!=typeof h[i]&&!g(h[i][n],t[i][n])){r=!0;break}}r||(o[i][n]=!0)}}var l={top:\"\",left:\"\",right:\"\",bottom:\"\"},d=function(t,o){var i=\"undefined\"!=typeof e.options.optimizations,n=i?e.options.optimizations.gpu:null;if(n!==!1){var r=void 0,s=void 0;t.top?(l.top=0,r=o.top):(l.bottom=0,r=-o.bottom),t.left?(l.left=0,s=o.left):(l.right=0,s=-o.right),l[k]=\"translateX(\"+Math.round(s)+\"px) translateY(\"+Math.round(r)+\"px)\",\"msTransform\"!==k&&(l[k]+=\" translateZ(0)\")}else t.top?l.top=o.top+\"px\":l.bottom=o.bottom+\"px\",t.left?l.left=o.left+\"px\":l.right=o.right+\"px\"},u=!1;if((o.page.top||o.page.bottom)&&(o.page.left||o.page.right)?(l.position=\"absolute\",d(o.page,t.page)):(o.viewport.top||o.viewport.bottom)&&(o.viewport.left||o.viewport.right)?(l.position=\"fixed\",d(o.viewport,t.viewport)):\"undefined\"!=typeof o.offset&&o.offset.top&&o.offset.left?!function(){l.position=\"absolute\";var i=e.cache(\"target-offsetparent\",function(){return s(e.target)});s(e.element)!==i&&T(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),d(o.offset,t.offset),u=!0}():(l.position=\"absolute\",d({top:!0,left:!0},t.page)),!u){for(var p=!0,c=this.element.parentNode;c&&\"BODY\"!==c.tagName;){if(\"static\"!==getComputedStyle(c).position){p=!1;break}c=c.parentNode}p||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var m={},v=!1;for(var n in l){var y=l[n],b=this.element.style[n];b!==y&&(v=!0,m[n]=y)}v&&T(function(){f(e.element.style,m)})}}}]),t}();N.modules=[],C.position=_;var R=f(N,C),M=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(f){n=!0,r=f}finally{try{!i&&a[\"return\"]&&a[\"return\"]()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),P=C.Utils,r=P.getBounds,f=P.extend,c=P.updateClasses,T=P.defer,U=[\"left\",\"top\",\"right\",\"bottom\"];C.modules.push({position:function(t){var e=this,o=t.top,i=t.left,n=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache(\"element-bounds\",function(){return r(e.element)}),a=s.height,h=s.width;if(0===h&&0===a&&\"undefined\"!=typeof this.lastSize){var l=this.lastSize;h=l.width,a=l.height}var d=this.cache(\"target-bounds\",function(){return e.getTargetBounds()}),u=d.height,p=d.width,g=[this.getClass(\"pinned\"),this.getClass(\"out-of-bounds\")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,o=t.pinnedClass;e&&g.push(e),o&&g.push(o)}),g.forEach(function(t){[\"left\",\"top\",\"right\",\"bottom\"].forEach(function(e){g.push(t+\"-\"+e)})});var m=[],v=f({},n),y=f({},this.attachment);return this.options.constraints.forEach(function(t){var r=t.to,s=t.attachment,f=t.pin;\"undefined\"==typeof s&&(s=\"\");var l=void 0,d=void 0;if(s.indexOf(\" \")>=0){var c=s.split(\" \"),g=M(c,2);d=g[0],l=g[1]}else l=d=s;var w=b(e,r);(\"target\"===d||\"both\"===d)&&(o<w[1]&&\"top\"===v.top&&(o+=u,v.top=\"bottom\"),o+a>w[3]&&\"bottom\"===v.top&&(o-=u,v.top=\"top\")),\"together\"===d&&(\"top\"===v.top&&(\"bottom\"===y.top&&o<w[1]?(o+=u,v.top=\"bottom\",o+=a,y.top=\"top\"):\"top\"===y.top&&o+a>w[3]&&o-(a-u)>=w[1]&&(o-=a-u,v.top=\"bottom\",y.top=\"bottom\")),\"bottom\"===v.top&&(\"top\"===y.top&&o+a>w[3]?(o-=u,v.top=\"top\",o-=a,y.top=\"bottom\"):\"bottom\"===y.top&&o<w[1]&&o+(2*a-u)<=w[3]&&(o+=a-u,v.top=\"top\",y.top=\"top\")),\"middle\"===v.top&&(o+a>w[3]&&\"top\"===y.top?(o-=a,y.top=\"bottom\"):o<w[1]&&\"bottom\"===y.top&&(o+=a,y.top=\"top\"))),(\"target\"===l||\"both\"===l)&&(i<w[0]&&\"left\"===v.left&&(i+=p,v.left=\"right\"),i+h>w[2]&&\"right\"===v.left&&(i-=p,v.left=\"left\")),\"together\"===l&&(i<w[0]&&\"left\"===v.left?\"right\"===y.left?(i+=p,v.left=\"right\",i+=h,y.left=\"left\"):\"left\"===y.left&&(i+=p,v.left=\"right\",i-=h,y.left=\"right\"):i+h>w[2]&&\"right\"===v.left?\"left\"===y.left?(i-=p,v.left=\"left\",i-=h,y.left=\"right\"):\"right\"===y.left&&(i-=p,v.left=\"left\",i+=h,y.left=\"left\"):\"center\"===v.left&&(i+h>w[2]&&\"left\"===y.left?(i-=h,y.left=\"right\"):i<w[0]&&\"right\"===y.left&&(i+=h,y.left=\"left\"))),(\"element\"===d||\"both\"===d)&&(o<w[1]&&\"bottom\"===y.top&&(o+=a,y.top=\"top\"),o+a>w[3]&&\"top\"===y.top&&(o-=a,y.top=\"bottom\")),(\"element\"===l||\"both\"===l)&&(i<w[0]&&(\"right\"===y.left?(i+=h,y.left=\"left\"):\"center\"===y.left&&(i+=h/2,y.left=\"left\")),i+h>w[2]&&(\"left\"===y.left?(i-=h,y.left=\"right\"):\"center\"===y.left&&(i-=h/2,y.left=\"right\"))),\"string\"==typeof f?f=f.split(\",\").map(function(t){return t.trim()}):f===!0&&(f=[\"top\",\"left\",\"right\",\"bottom\"]),f=f||[];var C=[],O=[];o<w[1]&&(f.indexOf(\"top\")>=0?(o=w[1],C.push(\"top\")):O.push(\"top\")),o+a>w[3]&&(f.indexOf(\"bottom\")>=0?(o=w[3]-a,C.push(\"bottom\")):O.push(\"bottom\")),i<w[0]&&(f.indexOf(\"left\")>=0?(i=w[0],C.push(\"left\")):O.push(\"left\")),i+h>w[2]&&(f.indexOf(\"right\")>=0?(i=w[2]-h,C.push(\"right\")):O.push(\"right\")),C.length&&!function(){var t=void 0;t=\"undefined\"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass(\"pinned\"),m.push(t),C.forEach(function(e){m.push(t+\"-\"+e)})}(),O.length&&!function(){var t=void 0;t=\"undefined\"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass(\"out-of-bounds\"),m.push(t),O.forEach(function(e){m.push(t+\"-\"+e)})}(),(C.indexOf(\"left\")>=0||C.indexOf(\"right\")>=0)&&(y.left=v.left=!1),(C.indexOf(\"top\")>=0||C.indexOf(\"bottom\")>=0)&&(y.top=v.top=!1),(v.top!==n.top||v.left!==n.left||y.top!==e.attachment.top||y.left!==e.attachment.left)&&e.updateAttachClasses(y,v)}),T(function(){e.options.addTargetClasses!==!1&&c(e.target,m,g),c(e.element,m,g)}),{top:o,left:i}}});var P=C.Utils,r=P.getBounds,c=P.updateClasses,T=P.defer;C.modules.push({position:function(t){var e=this,o=t.top,i=t.left,n=this.cache(\"element-bounds\",function(){return r(e.element)}),s=n.height,a=n.width,f=this.getTargetBounds(),h=o+s,l=i+a,d=[];o<=f.bottom&&h>=f.top&&[\"left\",\"right\"].forEach(function(t){var e=f[t];(e===i||e===l)&&d.push(t)}),i<=f.right&&l>=f.left&&[\"top\",\"bottom\"].forEach(function(t){var e=f[t];(e===o||e===h)&&d.push(t)});var u=[],p=[],g=[\"left\",\"top\",\"right\",\"bottom\"];return u.push(this.getClass(\"abutted\")),g.forEach(function(t){u.push(e.getClass(\"abutted\")+\"-\"+t)}),d.length&&p.push(this.getClass(\"abutted\")),d.forEach(function(t){p.push(e.getClass(\"abutted\")+\"-\"+t)}),T(function(){e.options.addTargetClasses!==!1&&c(e.target,p,u),c(e.element,p,u)}),!0}});var M=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(f){n=!0,r=f}finally{try{!i&&a[\"return\"]&&a[\"return\"]()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();return C.modules.push({position:function(t){var e=t.top,o=t.left;if(this.options.shift){var i=this.options.shift;\"function\"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:o}));var n=void 0,r=void 0;if(\"string\"==typeof i){i=i.split(\" \"),i[1]=i[1]||i[0];var s=i,a=M(s,2);n=a[0],r=a[1],n=parseFloat(n,10),r=parseFloat(r,10)}else n=i.top,r=i.left;return e+=n,o+=r,{top:e,left:o}}}}),R});\n    2  \n\n/home/guhurak/Documents/back-end/vendor/assets/javascripts/bootstrap/tooltip.js:\n  269      FOCUS: 'focus',\n  270      CLICK: 'click',\n  271:     MANUAL: 'manual'\n  272      /**\n  273       * ------------------------------------------------------------------------\n  ...\n  632              return _this4.toggle(event);\n  633            });\n  634:         } else if (trigger !== Trigger.MANUAL) {\n  635            var eventIn = trigger === Trigger.HOVER ? _this4.constructor.Event.MOUSEENTER : _this4.constructor.Event.FOCUSIN;\n  636            var eventOut = trigger === Trigger.HOVER ? _this4.constructor.Event.MOUSELEAVE : _this4.constructor.Event.FOCUSOUT;\n  ...\n  650        if (this.config.selector) {\n  651          this.config = _objectSpread({}, this.config, {\n  652:           trigger: 'manual',\n  653            selector: ''\n  654          });\n\n145 matches across 63 files\n",
			"settings":
			{
				"buffer_size": 746497,
				"line_ending": "Unix",
				"name": "Find Results",
				"scratch": true
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/services/push_log_service.rb",
			"settings":
			{
				"buffer_size": 1488,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/models/ios_device.rb",
			"settings":
			{
				"buffer_size": 3398,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/models/android_device.rb",
			"settings":
			{
				"buffer_size": 1904,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/models/log_ios_push.rb",
			"settings":
			{
				"buffer_size": 3038,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/services/communaute_reminders_manager.rb",
			"settings":
			{
				"buffer_size": 1155,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/controllers/administration/communaute_accesses_controller.rb",
			"settings":
			{
				"buffer_size": 9161,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/index.html.erb",
			"settings":
			{
				"buffer_size": 8354,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/controllers/ideas_controller.rb",
			"settings":
			{
				"buffer_size": 2204,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/jobs/notify_everybody_in_communaute_job.rb",
			"settings":
			{
				"buffer_size": 266,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/controllers/admin_controller.rb",
			"settings":
			{
				"buffer_size": 4749,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "<div class=\"card\">\n  <div class=\"card-body\">\n    <%= link_to 'retour', :admin %>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>id</th>\n          <th>uuid</th>\n          <th>online</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <% @result.each do |box| %>\n          <tr>\n            <td><%= box[\"id\"] %></td>\n            <td><%= box[\"uuid\"] %></td>\n            <td><% if box[\"online\"] == true %>Allumée<% else %>Éteinte<% end %></td>\n            <td>\n              <%= link_to \"Redémarrer\", reboot_admin_steeple_box_path(box[\"id\"]), method: :post, remote: true, class: \"btn-steeple\" %>\n              <%= link_to \"Supprimer\", admin_steeple_box_path(box[\"id\"]), method: :delete, remote: true, class: \"btn-outline-danger\" %>\n            </td>\n          </tr>\n        <% end %>\n      </tbody>\n    </table>\n  </div>\n</div>\n",
			"file": "/home/guhurak/Documents/back-end/app/views/admin/steeple_boxes/index.html.erb",
			"file_size": 870,
			"file_write_time": 132543120953821404,
			"settings":
			{
				"buffer_size": 867,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/docs/database.md",
			"settings":
			{
				"buffer_size": 5470,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/models/notification.rb",
			"settings":
			{
				"buffer_size": 23752,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/models/idea.rb",
			"settings":
			{
				"buffer_size": 1427,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/home/guhurak/Documents/back-end/app/controllers/api/v1/modules/ideas_controller.rb",
			"settings":
			{
				"buffer_size": 1977,
				"line_ending": "Unix"
			}
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"prj",
				"Project Manager: Remove Project"
			],
			[
				"proje",
				"Project Manager"
			],
			[
				"pro",
				"Project Manager"
			],
			[
				"p",
				"Project Manager"
			],
			[
				"pr",
				"Project Manager"
			],
			[
				"proj",
				"Project Manager"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"ayu",
				"ayu: Activate theme"
			],
			[
				"install",
				"Install Package Control"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/guhurak/Documents/back-end",
		"/home/guhurak/Documents/back-end/app",
		"/home/guhurak/Documents/back-end/app/services",
		"/home/guhurak/Documents/back-end/app/views",
		"/home/guhurak/Documents/back-end/app/views/administration",
		"/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses",
		"/home/guhurak/Documents/back-end/config",
		"/home/guhurak/Documents/back-end/config/environments",
		"/home/guhurak/Documents/back-end/coverage"
	],
	"file_history":
	[
		"/home/guhurak/Documents/back-end/app/views/admin/steeple_boxes/reboot.js.erb",
		"/home/guhurak/Documents/back-end/app/services/modules/ligue1.rb",
		"/home/guhurak/Documents/back-end/app/services/anonymizer_service.rb",
		"/home/guhurak/Documents/back-end/app/javascript/views/coach/suivi_client.vue",
		"/home/guhurak/Documents/back-end/app/views/admin/coachs.html.erb",
		"/home/guhurak/Documents/back-end/app/services/suivi_client_service.rb",
		"/home/guhurak/Documents/back-end/.env.local",
		"/home/guhurak/Documents/back-end/app/models/pigeon_loft.rb",
		"/home/guhurak/Documents/back-end/app/models/communaute.rb",
		"/home/guhurak/Documents/back-end/app/services/pigeon_loft_external_service.rb",
		"/home/guhurak/Documents/back-end/app/controllers/admin/pigeon_lofts_controller.rb",
		"/home/guhurak/Documents/back-end/app/models/communaute_access.rb",
		"/home/guhurak/Documents/back-end/app/models/members_export.rb",
		"/home/guhurak/Documents/back-end/db/schema.rb",
		"/home/guhurak/Documents/back-end/app/controllers/application_controller.rb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/application_controller.rb",
		"/home/guhurak/Documents/back-end/app/controllers/administration/extensions_auths_controller.rb",
		"/home/guhurak/Documents/back-end/app/models/annonce.rb",
		"/home/guhurak/Documents/back-end/app/models/mention.rb",
		"/home/guhurak/Documents/back-end/app/controllers/administration/user_communautes_controller.rb",
		"/home/guhurak/Documents/back-end/db/migrate/20200827151051_add_well_being_modul.rb",
		"/home/guhurak/Documents/back-end/config/routes.rb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/notifications_controller.rb",
		"/home/guhurak/Documents/back-end/app/helpers/mention_helper.rb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/mapper/notifications.rb",
		"/home/guhurak/Documents/back-end/app/services/dynamic_text_service.rb",
		"/home/guhurak/Documents/back-end/app/services/identity_providers/compare_service.rb",
		"/home/guhurak/Documents/back-end/app/models/user_communaute.rb",
		"/home/guhurak/Documents/back-end/app/models/identity_provider.rb",
		"/home/guhurak/Documents/back-end/app/models/user.rb",
		"/home/guhurak/Documents/back-end/app/javascript/web/admin/steeple_meteo.js",
		"/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/_status.html.erb",
		"/home/guhurak/Documents/back-end/app/services/apm_service.rb",
		"/home/guhurak/Documents/back-end/app/controllers/administration/communaute_accesses_controller.rb",
		"/home/guhurak/Documents/back-end/coverage/index.html",
		"/home/guhurak/Documents/back-end/spec/rails_helper.rb",
		"/home/guhurak/Documents/back-end/.env.test.local",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/communautes_controller.rb",
		"/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/index.html.erb",
		"/home/guhurak/Documents/back-end/config/application.rb",
		"/home/guhurak/Documents/back-end/config/environments/development.rb",
		"/home/guhurak/Documents/back-end/app/jobs/admin/auto_scale_heroku_worker_job.rb",
		"/home/guhurak/Documents/back-end/app/jobs/scheduler/two_am_job.rb",
		"/home/guhurak/Documents/back-end/app/models/notification.rb",
		"/home/guhurak/Documents/back-end/app/jobs/admin/restart_dynos_job.rb",
		"/home/guhurak/Documents/back-end/app/channels/annonces_channel.rb",
		"/home/guhurak/Documents/back-end/cable/config.ru",
		"/home/guhurak/Documents/back-end/app/models/modul.rb",
		"/home/guhurak/Documents/back-end/spec/models/moduls/random_draw_spec.rb",
		"/home/guhurak/Documents/back-end/app/views/administration/custom_modules/_custom_module_preview.html.erb",
		"/home/guhurak/Documents/back-end/app/views/layouts/application.html.erb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/annonces_controller.rb",
		"/home/guhurak/Documents/back-end/app/javascript/vue/components/campaign.vue",
		"/home/guhurak/Documents/back-end/.env.development.local",
		"/home/guhurak/Documents/back-end/app/views/admin/campaigns/index.html.erb",
		"/home/guhurak/Documents/back-end/yarn.lock",
		"/home/guhurak/Documents/back-end/app/models/custom_module.rb",
		"/home/guhurak/Documents/back-end/Gemfile",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/communaute_accesses_controller.rb",
		"/home/guhurak/Documents/back-end/lib/encryptor.rb",
		"/home/guhurak/Documents/back-end/app/jobs/v2/send_notification_job.rb",
		"/home/guhurak/Documents/back-end/app/models/pusher/android.rb",
		"/home/guhurak/Documents/back-end/app/services/notification_creator_service.rb",
		"/home/guhurak/Documents/back-end/app/jobs/notify_everybody_in_communaute_job.rb",
		"/home/guhurak/Documents/back-end/app/jobs/v2/publish_scheduled_annonce_job.rb",
		"/home/guhurak/Documents/back-end/app/views/admin/devices/_bug.html.erb",
		"/home/guhurak/Documents/back-end/app/views/admin/devices/show.html.erb",
		"/home/guhurak/Documents/back-end/app/views/admin/devices/_table.html.erb",
		"/home/guhurak/Documents/back-end/app/views/admin/devices/index.html.erb",
		"/home/guhurak/Documents/back-end/app/views/admin/stats.html.erb",
		"/home/guhurak/Documents/back-end/app/controllers/admin/devices_controller.rb",
		"/home/guhurak/Documents/back-end/lib/tasks/consistency.rake",
		"/home/guhurak/Documents/back-end/app/jobs/modules/well_being/send_votes_job.rb",
		"/home/guhurak/Documents/back-end/app/views/modules/well_being/_show.html.erb",
		"/home/guhurak/Documents/back-end/config/puma.rb",
		"/home/guhurak/Documents/back-end/app/javascript/translation.js",
		"/home/guhurak/Documents/back-end/app/javascript/global/after_xhr.js",
		"/home/guhurak/Documents/back-end/app/models/feu.rb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/tunnel_controller.rb",
		"/home/guhurak/Documents/back-end/app/controllers/tunnel_controller.rb",
		"/home/guhurak/Documents/back-end/app/jobs/clean_old_well_being_votes_job.rb",
		"/home/guhurak/Documents/back-end/app/javascript/vue/components/wellBeingResults.vue",
		"/home/guhurak/Documents/back-end/app/controllers/scim/groups_controller.rb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/users_controller.rb",
		"/home/guhurak/Documents/back-end/config/locales/modul/en.yml",
		"/home/guhurak/Documents/back-end/config/locales/views/modules/modules.en.yml",
		"/home/guhurak/Documents/back-end/config/locales/views/modules/modules.fr.yml",
		"/home/guhurak/Documents/back-end/app/jobs/scheduler/height_pm_job.rb",
		"/home/guhurak/Documents/back-end/.env",
		"/home/guhurak/Documents/back-end/.env.development",
		"/home/guhurak/Documents/back-end/app/jobs/birthday_events_watcher_job.rb",
		"/home/guhurak/Documents/back-end/app/jobs/destroy_user_job.rb",
		"/home/guhurak/Documents/back-end/config/storage.yml",
		"/home/guhurak/Documents/back-end/app/controllers/annonces_controller.rb",
		"/home/guhurak/Documents/back-end/app/controllers/api/v1/custom_modules_controller.rb",
		"/home/guhurak/Documents/back-end/app/views/modules/well_being/_form.html.erb",
		"/home/guhurak/Documents/back-end/Procfile",
		"/home/guhurak/Documents/back-end/app/jobs/notification_seen_job.rb",
		"/home/guhurak/Documents/back-end/app/javascript/vue/pages/CustomModuleUsersSelector.vue",
		"/home/guhurak/Documents/back-end/config/locales/modul/fr.yml",
		"/home/guhurak/Documents/back-end/app/views/admin/communautes/auto_login_tokens.html.erb",
		"/home/guhurak/Documents/back-end/docs/database.md",
		"/home/guhurak/Documents/back-end/app/services/image_service.rb",
		"/home/guhurak/Documents/back-end/app/jobs/temporary/image_system_update_job.rb",
		"/home/guhurak/Documents/back-end/docs/Install.md"
	],
	"find":
	{
		"height": 25.0
	},
	"find_in_files":
	{
		"height": 134.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"manual",
			"notification",
			"send_pronostics_results_if_needed",
			"CommunauteRemindersManager",
			"NotifyEverybodyInCommunauteJob",
			"notify_everybody_in_communaute",
			"registered_by_licences",
			"percentGetter",
			"def coach",
			"render_forbidden",
			"remote: true",
			"http",
			"ini",
			"ini.parse",
			"ini",
			"mention",
			"community_1_id_index",
			"retreive_or_create_the_mentions",
			"DynamicTextService",
			"{user_name}",
			"PigeonLoftExternalService",
			"comment",
			"ApmService",
			"value_lines_to_update",
			"update",
			"update_members",
			"quit_communaute_mere",
			"ca_id_to_v",
			"compare_service",
			"canonical_ids",
			"apply_communaute_access",
			"CompareService",
			"compare_service",
			"values",
			"communaute_accesses_to_delete",
			"action_cab",
			"action-cab",
			"redis",
			"AnnoncesChannel",
			"add-advice",
			"advice",
			"eu-west-1",
			"operating_mother_community",
			"operated_by_mere",
			"operating_mother_community",
			"heroku",
			"cable",
			"cable_url",
			"trigger_module",
			"DateTime",
			"custom_module_preview",
			"scheduled_at_changed?",
			"scheduled_at",
			"send_i",
			"Encryptor",
			"prefilled_access",
			"NotificationCreatorService",
			"line_chart",
			"render partial",
			"lighten",
			"notify_everybody_in_communaute",
			"NotifyEverybodyInCommunauteJob",
			"publish_now",
			"PublishScheduledAnnonceJob",
			"last_time_sent",
			"nofollow",
			"feu",
			"DestroyUserJob",
			"X-Frame-Options",
			"action_dispach",
			"default_hearder",
			"csrf",
			"render_not_found",
			"can_be_posted_to",
			"DYNO_NBR",
			"auto_scale",
			"customizable",
			"scim_response",
			"persi",
			"persistant",
			"persistent",
			"WellBeingResults: () => import('../vue/components/wellBeingResults.vue')",
			"{\n",
			"hash",
			"\n      question: \"Comment vous sentez-vous aujourd'hui ?\"",
			"3",
			"question affichée",
			"BirthdayEventsWatcherJob",
			"AWS_DEV_SECRET_ACCESS_KEY",
			"aws_s3_bucket",
			"login",
			"Bien être",
			"old_images_seen",
			"JsonConfig.find_by(identifier: 'old_images_seen')",
			" ("
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 8,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "/home/guhurak/Documents/back-end/config/routes.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 34151,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6273.0,
						"zoom_level": 1.0
					},
					"stack_index": 19,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "/home/guhurak/Documents/back-end/app/views/admin/root.html.erb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9358,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Rails/HTML (Rails).sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 924.0,
						"zoom_level": 1.0
					},
					"stack_index": 18,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "/home/guhurak/Documents/back-end/app/controllers/admin/steeple_boxes_controller.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 599,
						"regions":
						{
						},
						"selection":
						[
							[
								438,
								438
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 16,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "/home/guhurak/Documents/back-end/app/views/admin/steeple_boxes/destroy.js.erb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"open_with_edit": true,
							"syntax": "Packages/Ruby on Rails snippets/JavaScript (Rails).tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"type": "text"
				},
				{
					"buffer": 4,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 746497,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions":
								[
									[
										173,
										185
									],
									[
										253,
										265
									],
									[
										706,
										718
									],
									[
										831,
										843
									],
									[
										1481,
										1493
									],
									[
										2260,
										2272
									],
									[
										2795,
										2807
									],
									[
										3773,
										3785
									],
									[
										4141,
										4153
									],
									[
										4750,
										4762
									],
									[
										4841,
										4853
									],
									[
										4972,
										4984
									],
									[
										5142,
										5154
									],
									[
										5202,
										5214
									],
									[
										5291,
										5303
									],
									[
										5347,
										5359
									],
									[
										5685,
										5697
									],
									[
										5718,
										5730
									],
									[
										5966,
										5978
									],
									[
										6278,
										6290
									],
									[
										6390,
										6402
									],
									[
										6425,
										6437
									],
									[
										6471,
										6483
									],
									[
										6513,
										6525
									],
									[
										6711,
										6723
									],
									[
										6760,
										6772
									],
									[
										7118,
										7130
									],
									[
										7382,
										7394
									],
									[
										7581,
										7593
									],
									[
										8026,
										8038
									],
									[
										8441,
										8453
									],
									[
										8619,
										8631
									],
									[
										8961,
										8973
									],
									[
										9227,
										9239
									],
									[
										9426,
										9438
									],
									[
										9446,
										9458
									],
									[
										9646,
										9658
									],
									[
										9890,
										9902
									],
									[
										10045,
										10057
									],
									[
										10146,
										10158
									],
									[
										10320,
										10332
									],
									[
										10513,
										10525
									],
									[
										10914,
										10926
									],
									[
										10979,
										10991
									],
									[
										11008,
										11020
									],
									[
										11108,
										11120
									],
									[
										11175,
										11187
									],
									[
										11296,
										11308
									],
									[
										11351,
										11363
									],
									[
										11380,
										11392
									],
									[
										11464,
										11476
									],
									[
										11511,
										11523
									],
									[
										11611,
										11623
									],
									[
										11697,
										11709
									],
									[
										11726,
										11738
									],
									[
										11974,
										11986
									],
									[
										11989,
										12001
									],
									[
										12049,
										12061
									],
									[
										12139,
										12151
									],
									[
										12193,
										12205
									],
									[
										12299,
										12311
									],
									[
										12628,
										12640
									],
									[
										12956,
										12968
									],
									[
										13243,
										13255
									],
									[
										13537,
										13549
									],
									[
										13875,
										13887
									],
									[
										13900,
										13912
									],
									[
										14154,
										14166
									],
									[
										14180,
										14192
									],
									[
										14494,
										14506
									],
									[
										14522,
										14534
									],
									[
										14549,
										14561
									],
									[
										14712,
										14724
									],
									[
										14789,
										14801
									],
									[
										14817,
										14829
									],
									[
										14844,
										14856
									],
									[
										14960,
										14972
									],
									[
										15138,
										15150
									],
									[
										15233,
										15245
									],
									[
										15262,
										15274
									],
									[
										15532,
										15544
									],
									[
										15707,
										15719
									],
									[
										15787,
										15799
									],
									[
										15803,
										15815
									],
									[
										15882,
										15894
									],
									[
										15899,
										15911
									],
									[
										16113,
										16125
									],
									[
										16130,
										16142
									],
									[
										16331,
										16343
									],
									[
										16348,
										16360
									],
									[
										16423,
										16435
									],
									[
										16440,
										16452
									],
									[
										16600,
										16612
									],
									[
										16616,
										16628
									],
									[
										16795,
										16807
									],
									[
										16819,
										16831
									],
									[
										16874,
										16886
									],
									[
										16899,
										16911
									],
									[
										17051,
										17063
									],
									[
										17067,
										17079
									],
									[
										17118,
										17130
									],
									[
										17432,
										17444
									],
									[
										17847,
										17859
									],
									[
										17879,
										17891
									],
									[
										17914,
										17926
									],
									[
										18185,
										18197
									],
									[
										18608,
										18620
									],
									[
										18630,
										18642
									],
									[
										18740,
										18752
									],
									[
										18808,
										18820
									],
									[
										18830,
										18842
									],
									[
										19093,
										19105
									],
									[
										19122,
										19134
									],
									[
										19296,
										19308
									],
									[
										19335,
										19347
									],
									[
										19426,
										19438
									],
									[
										19699,
										19711
									],
									[
										19883,
										19895
									],
									[
										20150,
										20162
									],
									[
										20486,
										20498
									],
									[
										20881,
										20893
									],
									[
										21183,
										21195
									],
									[
										21470,
										21482
									],
									[
										21766,
										21778
									],
									[
										21944,
										21956
									],
									[
										22031,
										22043
									],
									[
										22060,
										22072
									],
									[
										22205,
										22217
									],
									[
										22221,
										22233
									],
									[
										22294,
										22306
									],
									[
										22310,
										22322
									],
									[
										22388,
										22400
									],
									[
										22404,
										22416
									],
									[
										22425,
										22437
									],
									[
										22447,
										22459
									],
									[
										22460,
										22472
									],
									[
										22508,
										22520
									],
									[
										22590,
										22602
									],
									[
										22750,
										22762
									],
									[
										23057,
										23069
									],
									[
										23256,
										23268
									],
									[
										23544,
										23556
									],
									[
										23601,
										23613
									],
									[
										23791,
										23803
									],
									[
										23829,
										23841
									],
									[
										23866,
										23878
									],
									[
										23908,
										23920
									],
									[
										23929,
										23941
									],
									[
										23974,
										23986
									],
									[
										24080,
										24092
									],
									[
										24208,
										24220
									],
									[
										24307,
										24319
									],
									[
										24380,
										24392
									],
									[
										24483,
										24495
									],
									[
										24568,
										24580
									],
									[
										24777,
										24789
									],
									[
										24874,
										24886
									],
									[
										24954,
										24966
									],
									[
										25090,
										25102
									],
									[
										25360,
										25372
									],
									[
										25650,
										25662
									],
									[
										25836,
										25848
									],
									[
										25863,
										25875
									],
									[
										25876,
										25888
									],
									[
										25930,
										25942
									],
									[
										25962,
										25974
									],
									[
										26003,
										26015
									],
									[
										26047,
										26059
									],
									[
										26085,
										26097
									],
									[
										26126,
										26138
									],
									[
										26222,
										26234
									],
									[
										26320,
										26332
									],
									[
										26384,
										26396
									],
									[
										26456,
										26468
									],
									[
										26599,
										26611
									],
									[
										26660,
										26672
									],
									[
										26727,
										26739
									],
									[
										26824,
										26836
									],
									[
										26938,
										26950
									],
									[
										26999,
										27011
									],
									[
										27065,
										27077
									],
									[
										27280,
										27292
									],
									[
										27354,
										27366
									],
									[
										27584,
										27596
									],
									[
										27647,
										27659
									],
									[
										27850,
										27862
									],
									[
										27972,
										27984
									],
									[
										28053,
										28065
									],
									[
										28162,
										28174
									],
									[
										28236,
										28248
									],
									[
										28373,
										28385
									],
									[
										28474,
										28486
									],
									[
										28535,
										28547
									],
									[
										28637,
										28649
									],
									[
										28754,
										28766
									],
									[
										28818,
										28830
									],
									[
										28924,
										28936
									],
									[
										28985,
										28997
									],
									[
										29052,
										29064
									],
									[
										29172,
										29184
									],
									[
										29288,
										29300
									],
									[
										29362,
										29374
									],
									[
										29434,
										29446
									],
									[
										29543,
										29555
									],
									[
										29617,
										29629
									],
									[
										29724,
										29736
									],
									[
										29841,
										29853
									],
									[
										29925,
										29937
									],
									[
										30017,
										30029
									],
									[
										30139,
										30151
									],
									[
										30198,
										30210
									],
									[
										30262,
										30274
									],
									[
										30357,
										30369
									],
									[
										30425,
										30437
									],
									[
										30546,
										30558
									],
									[
										30632,
										30644
									],
									[
										30775,
										30787
									],
									[
										30893,
										30905
									],
									[
										30961,
										30973
									],
									[
										31035,
										31047
									],
									[
										31270,
										31282
									],
									[
										31450,
										31462
									],
									[
										31501,
										31513
									],
									[
										31514,
										31526
									],
									[
										31542,
										31554
									],
									[
										31604,
										31616
									],
									[
										31640,
										31652
									],
									[
										31657,
										31669
									],
									[
										31701,
										31713
									],
									[
										31784,
										31796
									],
									[
										31866,
										31878
									],
									[
										32102,
										32114
									],
									[
										32350,
										32362
									],
									[
										32378,
										32390
									],
									[
										32575,
										32587
									],
									[
										32818,
										32830
									],
									[
										32845,
										32857
									],
									[
										33166,
										33178
									],
									[
										33548,
										33560
									],
									[
										33870,
										33882
									],
									[
										34242,
										34254
									],
									[
										34634,
										34646
									],
									[
										34965,
										34977
									],
									[
										35521,
										35533
									],
									[
										35816,
										35828
									],
									[
										36017,
										36029
									],
									[
										36098,
										36110
									],
									[
										36182,
										36194
									],
									[
										36574,
										36586
									],
									[
										36638,
										36650
									],
									[
										36671,
										36683
									],
									[
										36971,
										36983
									],
									[
										37051,
										37063
									],
									[
										37111,
										37123
									],
									[
										37147,
										37159
									],
									[
										37197,
										37209
									],
									[
										37247,
										37259
									],
									[
										37319,
										37331
									],
									[
										37540,
										37552
									],
									[
										37647,
										37659
									],
									[
										37942,
										37954
									],
									[
										38001,
										38013
									],
									[
										38173,
										38185
									],
									[
										38370,
										38382
									],
									[
										38631,
										38643
									],
									[
										38710,
										38722
									],
									[
										38855,
										38867
									],
									[
										38925,
										38937
									],
									[
										39075,
										39087
									],
									[
										39115,
										39127
									],
									[
										39207,
										39219
									],
									[
										39439,
										39451
									],
									[
										39700,
										39712
									],
									[
										39749,
										39761
									],
									[
										40127,
										40139
									],
									[
										40185,
										40197
									],
									[
										40230,
										40242
									],
									[
										40285,
										40297
									],
									[
										40586,
										40598
									],
									[
										41019,
										41031
									],
									[
										41154,
										41166
									],
									[
										41190,
										41202
									],
									[
										41522,
										41534
									],
									[
										41603,
										41615
									],
									[
										41746,
										41758
									],
									[
										41920,
										41932
									],
									[
										42150,
										42162
									],
									[
										42210,
										42222
									],
									[
										42254,
										42266
									],
									[
										42305,
										42317
									],
									[
										42458,
										42470
									],
									[
										42586,
										42598
									],
									[
										42691,
										42703
									],
									[
										42710,
										42722
									],
									[
										42723,
										42735
									],
									[
										42825,
										42837
									],
									[
										42872,
										42884
									],
									[
										42918,
										42930
									],
									[
										42982,
										42994
									],
									[
										43006,
										43018
									],
									[
										43060,
										43072
									],
									[
										43141,
										43153
									],
									[
										43329,
										43341
									],
									[
										43435,
										43447
									],
									[
										43635,
										43647
									],
									[
										43802,
										43814
									],
									[
										43833,
										43845
									],
									[
										43883,
										43895
									],
									[
										44287,
										44299
									],
									[
										44360,
										44372
									],
									[
										44433,
										44445
									],
									[
										44608,
										44620
									],
									[
										44694,
										44706
									],
									[
										44778,
										44790
									],
									[
										44820,
										44832
									],
									[
										44865,
										44877
									],
									[
										44903,
										44915
									],
									[
										44943,
										44955
									],
									[
										44991,
										45003
									],
									[
										45034,
										45046
									],
									[
										45085,
										45097
									],
									[
										45123,
										45135
									],
									[
										45289,
										45301
									],
									[
										45338,
										45350
									],
									[
										45394,
										45406
									],
									[
										45468,
										45480
									],
									[
										45521,
										45533
									],
									[
										45577,
										45589
									],
									[
										45634,
										45646
									],
									[
										45762,
										45774
									],
									[
										45859,
										45871
									],
									[
										45938,
										45950
									],
									[
										45996,
										46008
									],
									[
										46060,
										46072
									],
									[
										46117,
										46129
									],
									[
										46227,
										46239
									],
									[
										46365,
										46377
									],
									[
										46384,
										46396
									],
									[
										46596,
										46608
									],
									[
										46620,
										46632
									],
									[
										46691,
										46703
									],
									[
										46748,
										46760
									],
									[
										46853,
										46865
									],
									[
										47009,
										47021
									],
									[
										47094,
										47106
									],
									[
										47244,
										47256
									],
									[
										47317,
										47329
									],
									[
										47429,
										47441
									],
									[
										47693,
										47705
									],
									[
										47928,
										47940
									],
									[
										47957,
										47969
									],
									[
										48325,
										48337
									],
									[
										48715,
										48727
									],
									[
										48886,
										48898
									],
									[
										48944,
										48956
									],
									[
										48981,
										48993
									],
									[
										49006,
										49018
									],
									[
										49194,
										49206
									],
									[
										49311,
										49323
									],
									[
										49440,
										49452
									],
									[
										49690,
										49702
									],
									[
										49730,
										49742
									],
									[
										49882,
										49894
									],
									[
										50127,
										50139
									],
									[
										50193,
										50205
									],
									[
										50260,
										50272
									],
									[
										50345,
										50357
									],
									[
										50374,
										50386
									],
									[
										50446,
										50458
									],
									[
										50588,
										50600
									],
									[
										50640,
										50652
									],
									[
										50672,
										50684
									],
									[
										50884,
										50896
									],
									[
										51182,
										51194
									],
									[
										51334,
										51346
									],
									[
										51621,
										51633
									],
									[
										52030,
										52042
									],
									[
										52240,
										52252
									],
									[
										52292,
										52304
									],
									[
										52538,
										52550
									],
									[
										52604,
										52616
									],
									[
										52995,
										53007
									],
									[
										53072,
										53084
									],
									[
										53345,
										53357
									],
									[
										53518,
										53530
									],
									[
										53733,
										53745
									],
									[
										53767,
										53779
									],
									[
										53955,
										53967
									],
									[
										54276,
										54288
									],
									[
										54391,
										54403
									],
									[
										54420,
										54432
									],
									[
										54435,
										54447
									],
									[
										54511,
										54523
									],
									[
										54547,
										54559
									],
									[
										54630,
										54642
									],
									[
										54687,
										54699
									],
									[
										54705,
										54717
									],
									[
										54762,
										54774
									],
									[
										54816,
										54828
									],
									[
										55013,
										55025
									],
									[
										55068,
										55080
									],
									[
										55357,
										55369
									],
									[
										55409,
										55421
									],
									[
										55452,
										55464
									],
									[
										55504,
										55516
									],
									[
										55521,
										55533
									],
									[
										55550,
										55562
									],
									[
										55574,
										55586
									],
									[
										55726,
										55738
									],
									[
										55819,
										55831
									],
									[
										55847,
										55859
									],
									[
										55871,
										55883
									],
									[
										56032,
										56044
									],
									[
										56123,
										56135
									],
									[
										56151,
										56163
									],
									[
										56175,
										56187
									],
									[
										56385,
										56397
									],
									[
										56537,
										56549
									],
									[
										56684,
										56696
									],
									[
										56799,
										56811
									],
									[
										56826,
										56838
									],
									[
										57034,
										57046
									],
									[
										57241,
										57253
									],
									[
										57443,
										57455
									],
									[
										57650,
										57662
									],
									[
										57866,
										57878
									],
									[
										58097,
										58109
									],
									[
										58328,
										58340
									],
									[
										58568,
										58580
									],
									[
										58788,
										58800
									],
									[
										59009,
										59021
									],
									[
										59207,
										59219
									],
									[
										59402,
										59414
									],
									[
										59602,
										59614
									],
									[
										59801,
										59813
									],
									[
										60006,
										60018
									],
									[
										60199,
										60211
									],
									[
										60389,
										60401
									],
									[
										60592,
										60604
									],
									[
										60796,
										60808
									],
									[
										60979,
										60991
									],
									[
										61168,
										61180
									],
									[
										61371,
										61383
									],
									[
										61574,
										61586
									],
									[
										61761,
										61773
									],
									[
										61960,
										61972
									],
									[
										62167,
										62179
									],
									[
										62559,
										62571
									],
									[
										62745,
										62757
									],
									[
										62801,
										62813
									],
									[
										62964,
										62976
									],
									[
										63070,
										63082
									],
									[
										63307,
										63319
									],
									[
										63362,
										63374
									],
									[
										63641,
										63653
									],
									[
										63901,
										63913
									],
									[
										64166,
										64178
									],
									[
										64445,
										64457
									],
									[
										64700,
										64712
									],
									[
										64845,
										64857
									],
									[
										64858,
										64870
									],
									[
										65042,
										65054
									],
									[
										65065,
										65077
									],
									[
										65091,
										65103
									],
									[
										65180,
										65192
									],
									[
										65196,
										65208
									],
									[
										65276,
										65288
									],
									[
										65377,
										65389
									],
									[
										65615,
										65627
									],
									[
										65986,
										65998
									],
									[
										66192,
										66204
									],
									[
										66389,
										66401
									],
									[
										66997,
										67009
									],
									[
										67123,
										67135
									],
									[
										67323,
										67335
									],
									[
										67404,
										67416
									],
									[
										67434,
										67446
									],
									[
										67561,
										67573
									],
									[
										67591,
										67603
									],
									[
										67716,
										67728
									],
									[
										67746,
										67758
									],
									[
										67911,
										67923
									],
									[
										67941,
										67953
									],
									[
										68072,
										68084
									],
									[
										68102,
										68114
									],
									[
										68250,
										68262
									],
									[
										68302,
										68314
									],
									[
										68318,
										68330
									],
									[
										68341,
										68353
									],
									[
										68389,
										68401
									],
									[
										68474,
										68486
									],
									[
										68557,
										68569
									],
									[
										68706,
										68718
									],
									[
										68878,
										68890
									],
									[
										68912,
										68924
									],
									[
										69202,
										69214
									],
									[
										69255,
										69267
									],
									[
										69393,
										69405
									],
									[
										69517,
										69529
									],
									[
										69544,
										69556
									],
									[
										69711,
										69723
									],
									[
										69821,
										69833
									],
									[
										69924,
										69936
									],
									[
										70022,
										70034
									],
									[
										70116,
										70128
									],
									[
										70213,
										70225
									],
									[
										70314,
										70326
									],
									[
										70403,
										70415
									],
									[
										70502,
										70514
									],
									[
										70532,
										70544
									],
									[
										70569,
										70581
									],
									[
										70623,
										70635
									],
									[
										70688,
										70700
									],
									[
										70718,
										70730
									],
									[
										70735,
										70747
									],
									[
										70834,
										70846
									],
									[
										70915,
										70927
									],
									[
										70952,
										70964
									],
									[
										71058,
										71070
									],
									[
										71140,
										71152
									],
									[
										71347,
										71359
									],
									[
										71420,
										71432
									],
									[
										71505,
										71517
									],
									[
										71545,
										71557
									],
									[
										71752,
										71764
									],
									[
										71961,
										71973
									],
									[
										72279,
										72291
									],
									[
										72815,
										72827
									],
									[
										73045,
										73057
									],
									[
										73327,
										73339
									],
									[
										73596,
										73608
									],
									[
										73883,
										73895
									],
									[
										74065,
										74077
									],
									[
										74447,
										74459
									],
									[
										74677,
										74689
									],
									[
										75133,
										75145
									],
									[
										75368,
										75380
									],
									[
										75510,
										75522
									],
									[
										75683,
										75695
									],
									[
										75776,
										75788
									],
									[
										75906,
										75918
									],
									[
										76059,
										76071
									],
									[
										76183,
										76195
									],
									[
										76435,
										76447
									],
									[
										76735,
										76747
									],
									[
										76946,
										76958
									],
									[
										77206,
										77218
									],
									[
										77643,
										77655
									],
									[
										78004,
										78016
									],
									[
										78182,
										78194
									],
									[
										78222,
										78234
									],
									[
										78651,
										78663
									],
									[
										78893,
										78905
									],
									[
										79231,
										79243
									],
									[
										79349,
										79361
									],
									[
										79606,
										79618
									],
									[
										79872,
										79884
									],
									[
										80145,
										80157
									],
									[
										80246,
										80258
									],
									[
										80535,
										80547
									],
									[
										80680,
										80692
									],
									[
										80933,
										80945
									],
									[
										80963,
										80975
									],
									[
										81000,
										81012
									],
									[
										81060,
										81072
									],
									[
										81194,
										81206
									],
									[
										81371,
										81383
									],
									[
										81401,
										81413
									],
									[
										81438,
										81450
									],
									[
										81498,
										81510
									],
									[
										81632,
										81644
									],
									[
										81805,
										81817
									],
									[
										81835,
										81847
									],
									[
										81883,
										81895
									],
									[
										81941,
										81953
									],
									[
										82071,
										82083
									],
									[
										82293,
										82305
									],
									[
										82631,
										82643
									],
									[
										82863,
										82875
									],
									[
										83032,
										83044
									],
									[
										83156,
										83168
									],
									[
										83378,
										83390
									],
									[
										83728,
										83740
									],
									[
										83892,
										83904
									],
									[
										84168,
										84180
									],
									[
										84395,
										84407
									],
									[
										84435,
										84447
									],
									[
										84497,
										84509
									],
									[
										84577,
										84589
									],
									[
										84673,
										84685
									],
									[
										84889,
										84901
									],
									[
										85162,
										85174
									],
									[
										85734,
										85746
									],
									[
										85982,
										85994
									],
									[
										86134,
										86146
									],
									[
										86158,
										86170
									],
									[
										86221,
										86233
									],
									[
										86248,
										86260
									],
									[
										86277,
										86289
									],
									[
										86334,
										86346
									],
									[
										86379,
										86391
									],
									[
										86439,
										86451
									],
									[
										86510,
										86522
									],
									[
										86571,
										86583
									],
									[
										86732,
										86744
									],
									[
										86789,
										86801
									],
									[
										86811,
										86823
									],
									[
										86885,
										86897
									],
									[
										86923,
										86935
									],
									[
										86964,
										86976
									],
									[
										87207,
										87219
									],
									[
										87403,
										87415
									],
									[
										87598,
										87610
									],
									[
										87788,
										87800
									],
									[
										87830,
										87842
									],
									[
										87894,
										87906
									],
									[
										87981,
										87993
									],
									[
										88046,
										88058
									],
									[
										88148,
										88160
									],
									[
										88370,
										88382
									],
									[
										88791,
										88803
									],
									[
										89224,
										89236
									],
									[
										89682,
										89694
									],
									[
										89705,
										89717
									],
									[
										89956,
										89968
									],
									[
										90280,
										90292
									],
									[
										90600,
										90612
									],
									[
										90625,
										90637
									],
									[
										90648,
										90660
									],
									[
										90862,
										90874
									],
									[
										91111,
										91123
									],
									[
										91273,
										91285
									],
									[
										91479,
										91491
									],
									[
										91776,
										91788
									],
									[
										91971,
										91983
									],
									[
										92194,
										92206
									],
									[
										92429,
										92441
									],
									[
										92589,
										92601
									],
									[
										93048,
										93060
									],
									[
										93339,
										93351
									],
									[
										93488,
										93500
									],
									[
										93575,
										93587
									],
									[
										93798,
										93810
									],
									[
										93893,
										93905
									],
									[
										93995,
										94007
									],
									[
										94091,
										94103
									],
									[
										94179,
										94191
									],
									[
										94356,
										94368
									],
									[
										94592,
										94604
									],
									[
										94623,
										94635
									],
									[
										94785,
										94797
									],
									[
										95107,
										95119
									],
									[
										95557,
										95569
									],
									[
										95608,
										95620
									],
									[
										95662,
										95674
									],
									[
										95883,
										95895
									],
									[
										96121,
										96133
									],
									[
										96432,
										96444
									],
									[
										96743,
										96755
									],
									[
										96943,
										96955
									],
									[
										97075,
										97087
									],
									[
										97316,
										97328
									],
									[
										97565,
										97577
									],
									[
										97813,
										97825
									],
									[
										98021,
										98033
									],
									[
										98337,
										98349
									],
									[
										98631,
										98643
									],
									[
										98924,
										98936
									],
									[
										99216,
										99228
									],
									[
										99415,
										99427
									],
									[
										99605,
										99617
									],
									[
										99789,
										99801
									],
									[
										99999,
										100011
									],
									[
										100227,
										100239
									],
									[
										100432,
										100444
									],
									[
										100646,
										100658
									],
									[
										100906,
										100918
									],
									[
										101144,
										101156
									],
									[
										101322,
										101334
									],
									[
										101480,
										101492
									],
									[
										101823,
										101835
									],
									[
										102061,
										102073
									],
									[
										102388,
										102400
									],
									[
										102718,
										102730
									],
									[
										102980,
										102992
									],
									[
										103512,
										103524
									],
									[
										103720,
										103732
									],
									[
										103900,
										103912
									],
									[
										104143,
										104155
									],
									[
										104188,
										104200
									],
									[
										104237,
										104249
									],
									[
										104311,
										104323
									],
									[
										104460,
										104472
									],
									[
										104860,
										104872
									],
									[
										105053,
										105065
									],
									[
										105251,
										105263
									],
									[
										105469,
										105481
									],
									[
										105608,
										105620
									],
									[
										105896,
										105908
									],
									[
										106110,
										106122
									],
									[
										106549,
										106561
									],
									[
										106747,
										106759
									],
									[
										107028,
										107040
									],
									[
										107071,
										107083
									],
									[
										107438,
										107450
									],
									[
										107528,
										107540
									],
									[
										107599,
										107611
									],
									[
										107805,
										107817
									],
									[
										107976,
										107988
									],
									[
										108153,
										108165
									],
									[
										108253,
										108265
									],
									[
										108351,
										108363
									],
									[
										108567,
										108579
									],
									[
										108713,
										108725
									],
									[
										108853,
										108865
									],
									[
										108906,
										108918
									],
									[
										109061,
										109073
									],
									[
										109275,
										109287
									],
									[
										109384,
										109396
									],
									[
										109499,
										109511
									],
									[
										109616,
										109628
									],
									[
										109736,
										109748
									],
									[
										109843,
										109855
									],
									[
										109943,
										109955
									],
									[
										110049,
										110061
									],
									[
										110270,
										110282
									],
									[
										110475,
										110487
									],
									[
										110677,
										110689
									],
									[
										110713,
										110725
									],
									[
										111301,
										111313
									],
									[
										111330,
										111342
									],
									[
										111672,
										111684
									],
									[
										111769,
										111781
									],
									[
										112060,
										112072
									],
									[
										112281,
										112293
									],
									[
										112533,
										112545
									],
									[
										112726,
										112738
									],
									[
										112932,
										112944
									],
									[
										112985,
										112997
									],
									[
										113041,
										113053
									],
									[
										113156,
										113168
									],
									[
										113251,
										113263
									],
									[
										113376,
										113388
									],
									[
										113661,
										113673
									],
									[
										113863,
										113875
									],
									[
										114153,
										114165
									],
									[
										114393,
										114405
									],
									[
										114488,
										114500
									],
									[
										114522,
										114534
									],
									[
										114807,
										114819
									],
									[
										114848,
										114860
									],
									[
										115078,
										115090
									],
									[
										115223,
										115235
									],
									[
										115331,
										115343
									],
									[
										115443,
										115455
									],
									[
										115509,
										115521
									],
									[
										115617,
										115629
									],
									[
										115738,
										115750
									],
									[
										115841,
										115853
									],
									[
										115883,
										115895
									],
									[
										115910,
										115922
									],
									[
										115996,
										116008
									],
									[
										116040,
										116052
									],
									[
										116235,
										116247
									],
									[
										116403,
										116415
									],
									[
										116507,
										116519
									],
									[
										116712,
										116724
									],
									[
										116816,
										116828
									],
									[
										117112,
										117124
									],
									[
										117209,
										117221
									],
									[
										117518,
										117530
									],
									[
										117769,
										117781
									],
									[
										117795,
										117807
									],
									[
										117810,
										117822
									],
									[
										117867,
										117879
									],
									[
										117900,
										117912
									],
									[
										118038,
										118050
									],
									[
										118052,
										118064
									],
									[
										118266,
										118278
									],
									[
										118310,
										118322
									],
									[
										118325,
										118337
									],
									[
										118420,
										118432
									],
									[
										118504,
										118516
									],
									[
										118698,
										118710
									],
									[
										118740,
										118752
									],
									[
										118765,
										118777
									],
									[
										119011,
										119023
									],
									[
										119258,
										119270
									],
									[
										119284,
										119296
									],
									[
										119299,
										119311
									],
									[
										119356,
										119368
									],
									[
										119389,
										119401
									],
									[
										119523,
										119535
									],
									[
										119537,
										119549
									],
									[
										119827,
										119839
									],
									[
										119853,
										119865
									],
									[
										119868,
										119880
									],
									[
										119925,
										119937
									],
									[
										119969,
										119981
									],
									[
										120048,
										120060
									],
									[
										120209,
										120221
									],
									[
										120238,
										120250
									],
									[
										120253,
										120265
									],
									[
										120271,
										120283
									],
									[
										120525,
										120537
									],
									[
										120626,
										120638
									],
									[
										120882,
										120894
									],
									[
										120985,
										120997
									],
									[
										121229,
										121241
									],
									[
										121686,
										121698
									],
									[
										122104,
										122116
									],
									[
										122171,
										122183
									],
									[
										122434,
										122446
									],
									[
										122611,
										122623
									],
									[
										122824,
										122836
									],
									[
										123026,
										123038
									],
									[
										123084,
										123096
									],
									[
										123319,
										123331
									],
									[
										123423,
										123435
									],
									[
										123682,
										123694
									],
									[
										123978,
										123990
									],
									[
										124170,
										124182
									],
									[
										124375,
										124387
									],
									[
										124704,
										124716
									],
									[
										124886,
										124898
									],
									[
										125056,
										125068
									],
									[
										125241,
										125253
									],
									[
										125396,
										125408
									],
									[
										125915,
										125927
									],
									[
										126222,
										126234
									],
									[
										126421,
										126433
									],
									[
										126499,
										126511
									],
									[
										126667,
										126679
									],
									[
										126987,
										126999
									],
									[
										127462,
										127474
									],
									[
										127721,
										127733
									],
									[
										128132,
										128144
									],
									[
										128177,
										128189
									],
									[
										128425,
										128437
									],
									[
										128470,
										128482
									],
									[
										128821,
										128833
									],
									[
										128961,
										128973
									],
									[
										129407,
										129419
									],
									[
										129846,
										129858
									],
									[
										130200,
										130212
									],
									[
										130575,
										130587
									],
									[
										130601,
										130613
									],
									[
										131069,
										131081
									],
									[
										131161,
										131173
									],
									[
										131561,
										131573
									],
									[
										131860,
										131872
									],
									[
										132004,
										132016
									],
									[
										132018,
										132030
									],
									[
										132061,
										132073
									],
									[
										132075,
										132087
									],
									[
										132330,
										132342
									],
									[
										132385,
										132397
									],
									[
										132416,
										132428
									],
									[
										132751,
										132763
									],
									[
										132843,
										132855
									],
									[
										133053,
										133065
									],
									[
										133397,
										133409
									],
									[
										133439,
										133451
									],
									[
										133778,
										133790
									],
									[
										134098,
										134110
									],
									[
										134136,
										134148
									],
									[
										134462,
										134474
									],
									[
										134607,
										134619
									],
									[
										134649,
										134661
									],
									[
										134675,
										134687
									],
									[
										134744,
										134756
									],
									[
										135138,
										135150
									],
									[
										135189,
										135201
									],
									[
										135220,
										135232
									],
									[
										135234,
										135246
									],
									[
										135294,
										135306
									],
									[
										135477,
										135489
									],
									[
										135573,
										135585
									],
									[
										135653,
										135665
									],
									[
										135692,
										135704
									],
									[
										135733,
										135745
									],
									[
										135792,
										135804
									],
									[
										135828,
										135840
									],
									[
										135864,
										135876
									],
									[
										135916,
										135928
									],
									[
										135986,
										135998
									],
									[
										136041,
										136053
									],
									[
										136208,
										136220
									],
									[
										136262,
										136274
									],
									[
										136300,
										136312
									],
									[
										136465,
										136477
									],
									[
										136549,
										136561
									],
									[
										136630,
										136642
									],
									[
										136849,
										136861
									],
									[
										136879,
										136891
									],
									[
										136893,
										136905
									],
									[
										137114,
										137126
									],
									[
										137174,
										137186
									],
									[
										137200,
										137212
									],
									[
										137233,
										137245
									],
									[
										137286,
										137298
									],
									[
										137353,
										137365
									],
									[
										137381,
										137393
									],
									[
										137429,
										137441
									],
									[
										137478,
										137490
									],
									[
										137553,
										137565
									],
									[
										137585,
										137597
									],
									[
										137601,
										137613
									],
									[
										137826,
										137838
									],
									[
										137886,
										137898
									],
									[
										137912,
										137924
									],
									[
										137945,
										137957
									],
									[
										137998,
										138010
									],
									[
										138065,
										138077
									],
									[
										138093,
										138105
									],
									[
										138141,
										138153
									],
									[
										138190,
										138202
									],
									[
										138251,
										138263
									],
									[
										138507,
										138519
									],
									[
										138704,
										138716
									],
									[
										138734,
										138746
									],
									[
										138749,
										138761
									],
									[
										138892,
										138904
									],
									[
										138949,
										138961
									],
									[
										138979,
										138991
									],
									[
										138994,
										139006
									],
									[
										139162,
										139174
									],
									[
										139221,
										139233
									],
									[
										139286,
										139298
									],
									[
										139446,
										139458
									],
									[
										139469,
										139481
									],
									[
										139539,
										139551
									],
									[
										139594,
										139606
									],
									[
										139655,
										139667
									],
									[
										139764,
										139776
									],
									[
										139856,
										139868
									],
									[
										139954,
										139966
									],
									[
										140043,
										140055
									],
									[
										140076,
										140088
									],
									[
										140258,
										140270
									],
									[
										140310,
										140322
									],
									[
										140409,
										140421
									],
									[
										140588,
										140600
									],
									[
										140705,
										140717
									],
									[
										140734,
										140746
									],
									[
										140967,
										140979
									],
									[
										140981,
										140993
									],
									[
										141006,
										141018
									],
									[
										141020,
										141032
									],
									[
										141038,
										141050
									],
									[
										141292,
										141304
									],
									[
										141391,
										141403
									],
									[
										141444,
										141456
									],
									[
										141754,
										141766
									],
									[
										141920,
										141932
									],
									[
										142281,
										142293
									],
									[
										142565,
										142577
									],
									[
										142907,
										142919
									],
									[
										142997,
										143009
									],
									[
										143115,
										143127
									],
									[
										143214,
										143226
									],
									[
										143335,
										143347
									],
									[
										143535,
										143547
									],
									[
										143701,
										143713
									],
									[
										143764,
										143776
									],
									[
										143897,
										143909
									],
									[
										144292,
										144304
									],
									[
										144384,
										144396
									],
									[
										144491,
										144503
									],
									[
										144893,
										144905
									],
									[
										144978,
										144990
									],
									[
										145282,
										145294
									],
									[
										145737,
										145749
									],
									[
										146005,
										146017
									],
									[
										146079,
										146091
									],
									[
										146160,
										146172
									],
									[
										146190,
										146202
									],
									[
										146205,
										146217
									],
									[
										146575,
										146587
									],
									[
										146656,
										146668
									],
									[
										146687,
										146699
									],
									[
										146717,
										146729
									],
									[
										147044,
										147056
									],
									[
										147125,
										147137
									],
									[
										147156,
										147168
									],
									[
										147182,
										147194
									],
									[
										147387,
										147399
									],
									[
										147503,
										147515
									],
									[
										147534,
										147546
									],
									[
										147555,
										147567
									],
									[
										147786,
										147798
									],
									[
										147902,
										147914
									],
									[
										147933,
										147945
									],
									[
										147954,
										147966
									],
									[
										148256,
										148268
									],
									[
										148287,
										148299
									],
									[
										148319,
										148331
									],
									[
										148650,
										148662
									],
									[
										149190,
										149202
									],
									[
										149721,
										149733
									],
									[
										149822,
										149834
									],
									[
										149918,
										149930
									],
									[
										150047,
										150059
									],
									[
										150140,
										150152
									],
									[
										150238,
										150250
									],
									[
										150588,
										150600
									],
									[
										151020,
										151032
									],
									[
										151340,
										151352
									],
									[
										151451,
										151463
									],
									[
										151710,
										151722
									],
									[
										151951,
										151963
									],
									[
										152142,
										152154
									],
									[
										152569,
										152581
									],
									[
										152609,
										152621
									],
									[
										152909,
										152921
									],
									[
										152953,
										152965
									],
									[
										153060,
										153072
									],
									[
										153391,
										153403
									],
									[
										153780,
										153792
									],
									[
										154138,
										154150
									],
									[
										154373,
										154385
									],
									[
										154426,
										154438
									],
									[
										154815,
										154827
									],
									[
										155089,
										155101
									],
									[
										155146,
										155158
									],
									[
										155204,
										155216
									],
									[
										155267,
										155279
									],
									[
										155666,
										155678
									],
									[
										156112,
										156124
									],
									[
										156132,
										156144
									],
									[
										156367,
										156379
									],
									[
										156466,
										156478
									],
									[
										156496,
										156508
									],
									[
										156714,
										156726
									],
									[
										156747,
										156759
									],
									[
										156882,
										156894
									],
									[
										157294,
										157306
									],
									[
										157369,
										157381
									],
									[
										157806,
										157818
									],
									[
										158273,
										158285
									],
									[
										158383,
										158395
									],
									[
										158907,
										158919
									],
									[
										159297,
										159309
									],
									[
										159643,
										159655
									],
									[
										160167,
										160179
									],
									[
										160211,
										160223
									],
									[
										160318,
										160330
									],
									[
										160537,
										160549
									],
									[
										160620,
										160632
									],
									[
										160660,
										160672
									],
									[
										160717,
										160729
									],
									[
										160751,
										160763
									],
									[
										160787,
										160799
									],
									[
										160828,
										160840
									],
									[
										160875,
										160887
									],
									[
										160924,
										160936
									],
									[
										161101,
										161113
									],
									[
										161248,
										161260
									],
									[
										161283,
										161295
									],
									[
										161310,
										161322
									],
									[
										161362,
										161374
									],
									[
										161418,
										161430
									],
									[
										161581,
										161593
									],
									[
										161653,
										161665
									],
									[
										161751,
										161763
									],
									[
										162214,
										162226
									],
									[
										162501,
										162513
									],
									[
										162572,
										162584
									],
									[
										162602,
										162614
									],
									[
										162770,
										162782
									],
									[
										162803,
										162815
									],
									[
										162933,
										162945
									],
									[
										163241,
										163253
									],
									[
										163441,
										163453
									],
									[
										163485,
										163497
									],
									[
										163667,
										163679
									],
									[
										163949,
										163961
									],
									[
										164065,
										164077
									],
									[
										164137,
										164149
									],
									[
										164404,
										164416
									],
									[
										164458,
										164470
									],
									[
										164710,
										164722
									],
									[
										164933,
										164945
									],
									[
										165005,
										165017
									],
									[
										165103,
										165115
									],
									[
										165566,
										165578
									],
									[
										165853,
										165865
									],
									[
										165924,
										165936
									],
									[
										165954,
										165966
									],
									[
										166122,
										166134
									],
									[
										166155,
										166167
									],
									[
										166285,
										166297
									],
									[
										166572,
										166584
									],
									[
										166854,
										166866
									],
									[
										166970,
										166982
									],
									[
										167042,
										167054
									],
									[
										167309,
										167321
									],
									[
										167363,
										167375
									],
									[
										167615,
										167627
									],
									[
										167880,
										167892
									],
									[
										168131,
										168143
									],
									[
										168489,
										168501
									],
									[
										168743,
										168755
									],
									[
										168981,
										168993
									],
									[
										169381,
										169393
									],
									[
										169807,
										169819
									],
									[
										170578,
										170590
									],
									[
										170632,
										170644
									],
									[
										170968,
										170980
									],
									[
										170982,
										170994
									],
									[
										171039,
										171051
									],
									[
										171350,
										171362
									],
									[
										171448,
										171460
									],
									[
										171900,
										171912
									],
									[
										172186,
										172198
									],
									[
										172257,
										172269
									],
									[
										172287,
										172299
									],
									[
										172455,
										172467
									],
									[
										172488,
										172500
									],
									[
										172618,
										172630
									],
									[
										172905,
										172917
									],
									[
										173187,
										173199
									],
									[
										173303,
										173315
									],
									[
										173375,
										173387
									],
									[
										173642,
										173654
									],
									[
										173696,
										173708
									],
									[
										173948,
										173960
									],
									[
										174446,
										174458
									],
									[
										174460,
										174472
									],
									[
										174507,
										174519
									],
									[
										174521,
										174533
									],
									[
										174964,
										174976
									],
									[
										174978,
										174990
									],
									[
										175258,
										175270
									],
									[
										175709,
										175721
									],
									[
										175967,
										175979
									],
									[
										176384,
										176396
									],
									[
										176558,
										176570
									],
									[
										176781,
										176793
									],
									[
										176835,
										176847
									],
									[
										177019,
										177031
									],
									[
										177033,
										177045
									],
									[
										177090,
										177102
									],
									[
										177169,
										177181
									],
									[
										177414,
										177426
									],
									[
										177428,
										177440
									],
									[
										177475,
										177487
									],
									[
										177489,
										177501
									],
									[
										177661,
										177673
									],
									[
										177675,
										177687
									],
									[
										177823,
										177835
									],
									[
										178025,
										178037
									],
									[
										178151,
										178163
									],
									[
										178437,
										178449
									],
									[
										178491,
										178503
									],
									[
										178559,
										178571
									],
									[
										178573,
										178585
									],
									[
										178630,
										178642
									],
									[
										178689,
										178701
									],
									[
										178718,
										178730
									],
									[
										178731,
										178743
									],
									[
										178804,
										178816
									],
									[
										178818,
										178830
									],
									[
										178865,
										178877
									],
									[
										178879,
										178891
									],
									[
										178962,
										178974
									],
									[
										179032,
										179044
									],
									[
										179046,
										179058
									],
									[
										179142,
										179154
									],
									[
										179185,
										179197
									],
									[
										179977,
										179989
									],
									[
										181591,
										181603
									],
									[
										181875,
										181887
									],
									[
										182840,
										182852
									],
									[
										184685,
										184697
									],
									[
										184984,
										184996
									],
									[
										185876,
										185888
									],
									[
										187723,
										187735
									],
									[
										188023,
										188035
									],
									[
										188432,
										188444
									],
									[
										189040,
										189052
									],
									[
										189274,
										189286
									],
									[
										190088,
										190100
									],
									[
										190421,
										190433
									],
									[
										190487,
										190499
									],
									[
										190554,
										190566
									],
									[
										190643,
										190655
									],
									[
										191024,
										191036
									],
									[
										191318,
										191330
									],
									[
										192260,
										192272
									],
									[
										192939,
										192951
									],
									[
										193159,
										193171
									],
									[
										193225,
										193237
									],
									[
										193292,
										193304
									],
									[
										193381,
										193393
									],
									[
										193679,
										193691
									],
									[
										193853,
										193865
									],
									[
										194152,
										194164
									],
									[
										194477,
										194489
									],
									[
										194588,
										194600
									],
									[
										194654,
										194666
									],
									[
										194721,
										194733
									],
									[
										194810,
										194822
									],
									[
										194969,
										194981
									],
									[
										195035,
										195047
									],
									[
										195162,
										195174
									],
									[
										195300,
										195312
									],
									[
										195380,
										195392
									],
									[
										195393,
										195405
									],
									[
										195428,
										195440
									],
									[
										195455,
										195467
									],
									[
										195501,
										195513
									],
									[
										195529,
										195541
									],
									[
										195802,
										195814
									],
									[
										196059,
										196071
									],
									[
										196458,
										196470
									],
									[
										196549,
										196561
									],
									[
										196662,
										196674
									],
									[
										196761,
										196773
									],
									[
										196852,
										196864
									],
									[
										196972,
										196984
									],
									[
										197182,
										197194
									],
									[
										197312,
										197324
									],
									[
										197543,
										197555
									],
									[
										197560,
										197572
									],
									[
										197793,
										197805
									],
									[
										197810,
										197822
									],
									[
										197854,
										197866
									],
									[
										197871,
										197883
									],
									[
										198114,
										198126
									],
									[
										198131,
										198143
									],
									[
										198289,
										198301
									],
									[
										198303,
										198315
									],
									[
										198526,
										198538
									],
									[
										198543,
										198555
									],
									[
										198864,
										198876
									],
									[
										198878,
										198890
									],
									[
										199093,
										199105
									],
									[
										199281,
										199293
									],
									[
										199503,
										199515
									],
									[
										199646,
										199658
									],
									[
										199691,
										199703
									],
									[
										199729,
										199741
									],
									[
										199925,
										199937
									],
									[
										200081,
										200093
									],
									[
										200146,
										200158
									],
									[
										200386,
										200398
									],
									[
										200530,
										200542
									],
									[
										200646,
										200658
									],
									[
										200717,
										200729
									],
									[
										200773,
										200785
									],
									[
										201019,
										201031
									],
									[
										201047,
										201059
									],
									[
										201146,
										201158
									],
									[
										201303,
										201315
									],
									[
										201420,
										201432
									],
									[
										201491,
										201503
									],
									[
										201798,
										201810
									],
									[
										201864,
										201876
									],
									[
										201993,
										202005
									],
									[
										202359,
										202371
									],
									[
										202425,
										202437
									],
									[
										202546,
										202558
									],
									[
										202864,
										202876
									],
									[
										202968,
										202980
									],
									[
										203141,
										203153
									],
									[
										203245,
										203257
									],
									[
										203418,
										203430
									],
									[
										203522,
										203534
									],
									[
										203824,
										203836
									],
									[
										203895,
										203907
									],
									[
										204033,
										204045
									],
									[
										204519,
										204531
									],
									[
										204785,
										204797
									],
									[
										205045,
										205057
									],
									[
										205276,
										205288
									],
									[
										205442,
										205454
									],
									[
										205849,
										205861
									],
									[
										206319,
										206331
									],
									[
										206644,
										206656
									],
									[
										206818,
										206830
									],
									[
										206878,
										206890
									],
									[
										206954,
										206966
									],
									[
										207026,
										207038
									],
									[
										207114,
										207126
									],
									[
										207184,
										207196
									],
									[
										207270,
										207282
									],
									[
										207328,
										207340
									],
									[
										207402,
										207414
									],
									[
										207453,
										207465
									],
									[
										207520,
										207532
									],
									[
										207576,
										207588
									],
									[
										207648,
										207660
									],
									[
										207725,
										207737
									],
									[
										207818,
										207830
									],
									[
										207904,
										207916
									],
									[
										208006,
										208018
									],
									[
										208087,
										208099
									],
									[
										208184,
										208196
									],
									[
										208266,
										208278
									],
									[
										208364,
										208376
									],
									[
										208423,
										208435
									],
									[
										208498,
										208510
									],
									[
										208555,
										208567
									],
									[
										208628,
										208640
									],
									[
										208686,
										208698
									],
									[
										208760,
										208772
									],
									[
										208835,
										208847
									],
									[
										208926,
										208938
									],
									[
										208977,
										208989
									],
									[
										209044,
										209056
									],
									[
										209080,
										209092
									],
									[
										209119,
										209131
									],
									[
										209155,
										209167
									],
									[
										209210,
										209222
									],
									[
										209274,
										209286
									],
									[
										209354,
										209366
									],
									[
										209417,
										209429
									],
									[
										209496,
										209508
									],
									[
										209557,
										209569
									],
									[
										209634,
										209646
									],
									[
										209687,
										209699
									],
									[
										209916,
										209928
									],
									[
										210208,
										210220
									],
									[
										210414,
										210426
									],
									[
										210661,
										210673
									],
									[
										210816,
										210828
									],
									[
										211045,
										211057
									],
									[
										211189,
										211201
									],
									[
										211441,
										211453
									],
									[
										211654,
										211666
									],
									[
										211900,
										211912
									],
									[
										212442,
										212454
									],
									[
										212521,
										212533
									],
									[
										212758,
										212770
									],
									[
										212929,
										212941
									],
									[
										213035,
										213047
									],
									[
										213081,
										213093
									],
									[
										213176,
										213188
									],
									[
										213565,
										213577
									],
									[
										213874,
										213886
									],
									[
										214135,
										214147
									],
									[
										214161,
										214173
									],
									[
										214423,
										214435
									],
									[
										214449,
										214461
									],
									[
										214763,
										214775
									],
									[
										214778,
										214790
									],
									[
										214977,
										214989
									],
									[
										214992,
										215004
									],
									[
										215135,
										215147
									],
									[
										215183,
										215195
									],
									[
										215228,
										215240
									],
									[
										215364,
										215376
									],
									[
										215412,
										215424
									],
									[
										215457,
										215469
									],
									[
										215569,
										215581
									],
									[
										215852,
										215864
									],
									[
										215889,
										215901
									],
									[
										216085,
										216097
									],
									[
										216387,
										216399
									],
									[
										216424,
										216436
									],
									[
										216675,
										216687
									],
									[
										216691,
										216703
									],
									[
										216956,
										216968
									],
									[
										216972,
										216984
									],
									[
										217286,
										217298
									],
									[
										217597,
										217609
									],
									[
										217917,
										217929
									],
									[
										218023,
										218035
									],
									[
										218426,
										218438
									],
									[
										218809,
										218821
									],
									[
										218923,
										218935
									],
									[
										219195,
										219207
									],
									[
										219337,
										219349
									],
									[
										219368,
										219380
									],
									[
										219412,
										219424
									],
									[
										219463,
										219475
									],
									[
										219648,
										219660
									],
									[
										219868,
										219880
									],
									[
										220026,
										220038
									],
									[
										220063,
										220075
									],
									[
										220117,
										220129
									],
									[
										220177,
										220189
									],
									[
										220395,
										220407
									],
									[
										220636,
										220648
									],
									[
										220892,
										220904
									],
									[
										221183,
										221195
									],
									[
										221248,
										221260
									],
									[
										221292,
										221304
									],
									[
										221735,
										221747
									],
									[
										221809,
										221821
									],
									[
										221868,
										221880
									],
									[
										222258,
										222270
									],
									[
										222309,
										222321
									],
									[
										222542,
										222554
									],
									[
										222592,
										222604
									],
									[
										222790,
										222802
									],
									[
										222840,
										222852
									],
									[
										223051,
										223063
									],
									[
										223101,
										223113
									],
									[
										223362,
										223374
									],
									[
										223422,
										223434
									],
									[
										223664,
										223676
									],
									[
										223723,
										223735
									],
									[
										223936,
										223948
									],
									[
										223995,
										224007
									],
									[
										224226,
										224238
									],
									[
										224285,
										224297
									],
									[
										224657,
										224669
									],
									[
										224714,
										224726
									],
									[
										224796,
										224808
									],
									[
										225195,
										225207
									],
									[
										225568,
										225580
									],
									[
										225691,
										225703
									],
									[
										226191,
										226203
									],
									[
										226241,
										226253
									],
									[
										226351,
										226363
									],
									[
										226608,
										226620
									],
									[
										227058,
										227070
									],
									[
										227187,
										227199
									],
									[
										227652,
										227664
									],
									[
										227702,
										227714
									],
									[
										227736,
										227748
									],
									[
										227801,
										227813
									],
									[
										227904,
										227916
									],
									[
										227945,
										227957
									],
									[
										227998,
										228010
									],
									[
										228145,
										228157
									],
									[
										228171,
										228183
									],
									[
										228218,
										228230
									],
									[
										228283,
										228295
									],
									[
										228351,
										228363
									],
									[
										228388,
										228400
									],
									[
										228487,
										228499
									],
									[
										228713,
										228725
									],
									[
										229034,
										229046
									],
									[
										229451,
										229463
									],
									[
										229619,
										229631
									],
									[
										229858,
										229870
									],
									[
										230075,
										230087
									],
									[
										230233,
										230245
									],
									[
										230280,
										230292
									],
									[
										230319,
										230331
									],
									[
										230404,
										230416
									],
									[
										230503,
										230515
									],
									[
										230702,
										230714
									],
									[
										230937,
										230949
									],
									[
										231043,
										231055
									],
									[
										231231,
										231243
									],
									[
										231353,
										231365
									],
									[
										231674,
										231686
									],
									[
										231824,
										231836
									],
									[
										232078,
										232090
									],
									[
										232384,
										232396
									],
									[
										232664,
										232676
									],
									[
										232813,
										232825
									],
									[
										232865,
										232877
									],
									[
										232914,
										232926
									],
									[
										233007,
										233019
									],
									[
										233132,
										233144
									],
									[
										233388,
										233400
									],
									[
										233518,
										233530
									],
									[
										233672,
										233684
									],
									[
										233791,
										233803
									],
									[
										234071,
										234083
									],
									[
										234263,
										234275
									],
									[
										234435,
										234447
									],
									[
										234623,
										234635
									],
									[
										234808,
										234820
									],
									[
										234997,
										235009
									],
									[
										235172,
										235184
									],
									[
										235363,
										235375
									],
									[
										235542,
										235554
									],
									[
										235879,
										235891
									],
									[
										235927,
										235939
									],
									[
										236287,
										236299
									],
									[
										236323,
										236335
									],
									[
										236695,
										236707
									],
									[
										236733,
										236745
									],
									[
										237108,
										237120
									],
									[
										237153,
										237165
									],
									[
										237531,
										237543
									],
									[
										237576,
										237588
									],
									[
										237936,
										237948
									],
									[
										237964,
										237976
									],
									[
										238337,
										238349
									],
									[
										238379,
										238391
									],
									[
										238741,
										238753
									],
									[
										238787,
										238799
									],
									[
										239164,
										239176
									],
									[
										239200,
										239212
									],
									[
										239453,
										239465
									],
									[
										239486,
										239498
									],
									[
										239676,
										239688
									],
									[
										239940,
										239952
									],
									[
										240181,
										240193
									],
									[
										240353,
										240365
									],
									[
										240503,
										240515
									],
									[
										240516,
										240528
									],
									[
										240678,
										240690
									],
									[
										240837,
										240849
									],
									[
										241001,
										241013
									],
									[
										241168,
										241180
									],
									[
										241329,
										241341
									],
									[
										241493,
										241505
									],
									[
										241656,
										241668
									],
									[
										241826,
										241838
									],
									[
										242013,
										242025
									],
									[
										242208,
										242220
									],
									[
										242392,
										242404
									],
									[
										242576,
										242588
									],
									[
										242766,
										242778
									],
									[
										242986,
										242998
									],
									[
										243173,
										243185
									],
									[
										243357,
										243369
									],
									[
										243546,
										243558
									],
									[
										243743,
										243755
									],
									[
										243940,
										243952
									],
									[
										244137,
										244149
									],
									[
										244323,
										244335
									],
									[
										244511,
										244523
									],
									[
										244705,
										244717
									],
									[
										244925,
										244937
									],
									[
										245117,
										245129
									],
									[
										245314,
										245326
									],
									[
										245509,
										245521
									],
									[
										245696,
										245708
									],
									[
										245880,
										245892
									],
									[
										246105,
										246117
									],
									[
										246298,
										246310
									],
									[
										246485,
										246497
									],
									[
										246672,
										246684
									],
									[
										246856,
										246868
									],
									[
										247046,
										247058
									],
									[
										247233,
										247245
									],
									[
										247423,
										247435
									],
									[
										247620,
										247632
									],
									[
										247815,
										247827
									],
									[
										248010,
										248022
									],
									[
										248207,
										248219
									],
									[
										248437,
										248449
									],
									[
										248637,
										248649
									],
									[
										248844,
										248856
									],
									[
										249059,
										249071
									],
									[
										249269,
										249281
									],
									[
										249451,
										249463
									],
									[
										249638,
										249650
									],
									[
										249819,
										249831
									],
									[
										250010,
										250022
									],
									[
										250210,
										250222
									],
									[
										250419,
										250431
									],
									[
										250630,
										250642
									],
									[
										250824,
										250836
									],
									[
										251015,
										251027
									],
									[
										251212,
										251224
									],
									[
										251410,
										251422
									],
									[
										251570,
										251582
									],
									[
										251728,
										251740
									],
									[
										251905,
										251917
									],
									[
										251947,
										251959
									],
									[
										252191,
										252203
									],
									[
										252352,
										252364
									],
									[
										252526,
										252538
									],
									[
										252539,
										252551
									],
									[
										252690,
										252702
									],
									[
										252883,
										252895
									],
									[
										252919,
										252931
									],
									[
										252936,
										252948
									],
									[
										253103,
										253115
									],
									[
										253333,
										253345
									],
									[
										253522,
										253534
									],
									[
										253690,
										253702
									],
									[
										253996,
										254008
									],
									[
										254161,
										254173
									],
									[
										254339,
										254351
									],
									[
										254497,
										254509
									],
									[
										254672,
										254684
									],
									[
										254689,
										254701
									],
									[
										254841,
										254853
									],
									[
										254865,
										254877
									],
									[
										255116,
										255128
									],
									[
										255287,
										255299
									],
									[
										255467,
										255479
									],
									[
										255618,
										255630
									],
									[
										255642,
										255654
									],
									[
										255815,
										255827
									],
									[
										256003,
										256015
									],
									[
										256308,
										256320
									],
									[
										256584,
										256596
									],
									[
										256854,
										256866
									],
									[
										257103,
										257115
									],
									[
										257363,
										257375
									],
									[
										257529,
										257541
									],
									[
										257559,
										257571
									],
									[
										257778,
										257790
									],
									[
										257808,
										257820
									],
									[
										258024,
										258036
									],
									[
										258054,
										258066
									],
									[
										258312,
										258324
									],
									[
										258342,
										258354
									],
									[
										258561,
										258573
									],
									[
										258591,
										258603
									],
									[
										258858,
										258870
									],
									[
										259033,
										259045
									],
									[
										259049,
										259061
									],
									[
										259072,
										259084
									],
									[
										259243,
										259255
									],
									[
										259451,
										259463
									],
									[
										259605,
										259617
									],
									[
										259856,
										259868
									],
									[
										260023,
										260035
									],
									[
										260202,
										260214
									],
									[
										260360,
										260372
									],
									[
										260566,
										260578
									],
									[
										260593,
										260605
									],
									[
										260840,
										260852
									],
									[
										260997,
										261009
									],
									[
										261233,
										261245
									],
									[
										261464,
										261476
									],
									[
										261691,
										261703
									],
									[
										261921,
										261933
									],
									[
										262155,
										262167
									],
									[
										262377,
										262389
									],
									[
										262548,
										262560
									],
									[
										262578,
										262590
									],
									[
										262730,
										262742
									],
									[
										262788,
										262800
									],
									[
										262959,
										262971
									],
									[
										263112,
										263124
									],
									[
										263129,
										263141
									],
									[
										263311,
										263323
									],
									[
										263475,
										263487
									],
									[
										263635,
										263647
									],
									[
										263848,
										263860
									],
									[
										264053,
										264065
									],
									[
										264307,
										264319
									],
									[
										264512,
										264524
									],
									[
										264714,
										264726
									],
									[
										264758,
										264770
									],
									[
										264938,
										264950
									],
									[
										265132,
										265144
									],
									[
										265329,
										265341
									],
									[
										265540,
										265552
									],
									[
										265714,
										265726
									],
									[
										265971,
										265983
									],
									[
										266202,
										266214
									],
									[
										266451,
										266463
									],
									[
										266705,
										266717
									],
									[
										267052,
										267064
									],
									[
										267323,
										267335
									],
									[
										267606,
										267618
									],
									[
										267775,
										267787
									],
									[
										267991,
										268003
									],
									[
										268141,
										268153
									],
									[
										268425,
										268437
									],
									[
										268682,
										268694
									],
									[
										268851,
										268863
									],
									[
										269041,
										269053
									],
									[
										269296,
										269308
									],
									[
										269523,
										269535
									],
									[
										269861,
										269873
									],
									[
										270016,
										270028
									],
									[
										270251,
										270263
									],
									[
										270492,
										270504
									],
									[
										270737,
										270749
									],
									[
										270931,
										270943
									],
									[
										271088,
										271100
									],
									[
										271276,
										271288
									],
									[
										271433,
										271445
									],
									[
										271660,
										271672
									],
									[
										271894,
										271906
									],
									[
										272088,
										272100
									],
									[
										272285,
										272297
									],
									[
										272436,
										272448
									],
									[
										272723,
										272735
									],
									[
										272876,
										272888
									],
									[
										273069,
										273081
									],
									[
										273279,
										273291
									],
									[
										273504,
										273516
									],
									[
										273725,
										273737
									],
									[
										273953,
										273965
									],
									[
										274175,
										274187
									],
									[
										274389,
										274401
									],
									[
										274692,
										274704
									],
									[
										274885,
										274897
									],
									[
										274916,
										274928
									],
									[
										275112,
										275124
									],
									[
										275370,
										275382
									],
									[
										275586,
										275598
									],
									[
										275764,
										275776
									],
									[
										275941,
										275953
									],
									[
										276156,
										276168
									],
									[
										276487,
										276499
									],
									[
										276895,
										276907
									],
									[
										277298,
										277310
									],
									[
										277601,
										277613
									],
									[
										277812,
										277824
									],
									[
										278150,
										278162
									],
									[
										278485,
										278497
									],
									[
										278825,
										278837
									],
									[
										279096,
										279108
									],
									[
										279488,
										279500
									],
									[
										279860,
										279872
									],
									[
										280230,
										280242
									],
									[
										280601,
										280613
									],
									[
										280872,
										280884
									],
									[
										281140,
										281152
									],
									[
										281402,
										281414
									],
									[
										281717,
										281729
									],
									[
										282029,
										282041
									],
									[
										282322,
										282334
									],
									[
										282630,
										282642
									],
									[
										282987,
										282999
									],
									[
										283317,
										283329
									],
									[
										283596,
										283608
									],
									[
										283848,
										283860
									],
									[
										284166,
										284178
									],
									[
										284504,
										284516
									],
									[
										284933,
										284945
									],
									[
										285353,
										285365
									],
									[
										285714,
										285726
									],
									[
										286129,
										286141
									],
									[
										286437,
										286449
									],
									[
										286702,
										286714
									],
									[
										287053,
										287065
									],
									[
										287107,
										287119
									],
									[
										287288,
										287300
									],
									[
										287494,
										287506
									],
									[
										287736,
										287748
									],
									[
										288250,
										288262
									],
									[
										288548,
										288560
									],
									[
										288854,
										288866
									],
									[
										289183,
										289195
									],
									[
										289396,
										289408
									],
									[
										289773,
										289785
									],
									[
										290079,
										290091
									],
									[
										290408,
										290420
									],
									[
										290605,
										290617
									],
									[
										290860,
										290872
									],
									[
										290903,
										290915
									],
									[
										291088,
										291100
									],
									[
										291270,
										291282
									],
									[
										291448,
										291460
									],
									[
										291695,
										291707
									],
									[
										291873,
										291885
									],
									[
										292036,
										292048
									],
									[
										292264,
										292276
									],
									[
										292443,
										292455
									],
									[
										292665,
										292677
									],
									[
										292854,
										292866
									],
									[
										293074,
										293086
									],
									[
										293258,
										293270
									],
									[
										293516,
										293528
									],
									[
										293692,
										293704
									],
									[
										293882,
										293894
									],
									[
										294073,
										294085
									],
									[
										294269,
										294281
									],
									[
										294462,
										294474
									],
									[
										294661,
										294673
									],
									[
										294841,
										294853
									],
									[
										295025,
										295037
									],
									[
										295222,
										295234
									],
									[
										295421,
										295433
									],
									[
										295620,
										295632
									],
									[
										295898,
										295910
									],
									[
										296068,
										296080
									],
									[
										296252,
										296264
									],
									[
										296436,
										296448
									],
									[
										296599,
										296611
									],
									[
										296795,
										296807
									],
									[
										297001,
										297013
									],
									[
										297205,
										297217
									],
									[
										297420,
										297432
									],
									[
										297466,
										297478
									],
									[
										297654,
										297666
									],
									[
										297843,
										297855
									],
									[
										298043,
										298055
									],
									[
										298219,
										298231
									],
									[
										298392,
										298404
									],
									[
										298547,
										298559
									],
									[
										298791,
										298803
									],
									[
										298986,
										298998
									],
									[
										299156,
										299168
									],
									[
										299311,
										299323
									],
									[
										299408,
										299420
									],
									[
										299564,
										299576
									],
									[
										299759,
										299771
									],
									[
										299954,
										299966
									],
									[
										300194,
										300206
									],
									[
										300426,
										300438
									],
									[
										300666,
										300678
									],
									[
										300896,
										300908
									],
									[
										301129,
										301141
									],
									[
										301438,
										301450
									],
									[
										301637,
										301649
									],
									[
										301695,
										301707
									],
									[
										301851,
										301863
									],
									[
										302017,
										302029
									],
									[
										302261,
										302273
									],
									[
										302492,
										302504
									],
									[
										302654,
										302666
									],
									[
										302839,
										302851
									],
									[
										303098,
										303110
									],
									[
										303263,
										303275
									],
									[
										303475,
										303487
									],
									[
										303649,
										303661
									],
									[
										303826,
										303838
									],
									[
										303999,
										304011
									],
									[
										304368,
										304380
									],
									[
										304555,
										304567
									],
									[
										304726,
										304738
									],
									[
										304937,
										304949
									],
									[
										305112,
										305124
									],
									[
										305375,
										305387
									],
									[
										305593,
										305605
									],
									[
										305846,
										305858
									],
									[
										306071,
										306083
									],
									[
										306278,
										306290
									],
									[
										306464,
										306476
									],
									[
										306640,
										306652
									],
									[
										306878,
										306890
									],
									[
										307044,
										307056
									],
									[
										307271,
										307283
									],
									[
										307504,
										307516
									],
									[
										307700,
										307712
									],
									[
										307901,
										307913
									],
									[
										308078,
										308090
									],
									[
										308259,
										308271
									],
									[
										308439,
										308451
									],
									[
										308629,
										308641
									],
									[
										308795,
										308807
									],
									[
										308980,
										308992
									],
									[
										309184,
										309196
									],
									[
										309388,
										309400
									],
									[
										309594,
										309606
									],
									[
										309798,
										309810
									],
									[
										310014,
										310026
									],
									[
										310184,
										310196
									],
									[
										310321,
										310333
									],
									[
										310521,
										310533
									],
									[
										310846,
										310858
									],
									[
										311142,
										311154
									],
									[
										311196,
										311208
									],
									[
										311359,
										311371
									],
									[
										311706,
										311718
									],
									[
										311752,
										311764
									],
									[
										312063,
										312075
									],
									[
										312339,
										312351
									],
									[
										312389,
										312401
									],
									[
										312528,
										312540
									],
									[
										312852,
										312864
									],
									[
										313123,
										313135
									],
									[
										313196,
										313208
									],
									[
										313249,
										313261
									],
									[
										313337,
										313349
									],
									[
										313672,
										313684
									],
									[
										313725,
										313737
									],
									[
										313871,
										313883
									],
									[
										313904,
										313916
									],
									[
										313937,
										313949
									],
									[
										314003,
										314015
									],
									[
										314087,
										314099
									],
									[
										314193,
										314205
									],
									[
										314279,
										314291
									],
									[
										314312,
										314324
									],
									[
										314342,
										314354
									],
									[
										314430,
										314442
									],
									[
										314524,
										314536
									],
									[
										314665,
										314677
									],
									[
										314876,
										314888
									],
									[
										315065,
										315077
									],
									[
										315235,
										315247
									],
									[
										315400,
										315412
									],
									[
										315791,
										315803
									],
									[
										315849,
										315861
									],
									[
										316083,
										316095
									],
									[
										316388,
										316400
									],
									[
										316651,
										316663
									],
									[
										316708,
										316720
									],
									[
										316970,
										316982
									],
									[
										317240,
										317252
									],
									[
										317270,
										317282
									],
									[
										317308,
										317320
									],
									[
										317663,
										317675
									],
									[
										317822,
										317834
									],
									[
										317963,
										317975
									],
									[
										318201,
										318213
									],
									[
										318536,
										318548
									],
									[
										318842,
										318854
									],
									[
										318896,
										318908
									],
									[
										319116,
										319128
									],
									[
										319473,
										319485
									],
									[
										319519,
										319531
									],
									[
										319840,
										319852
									],
									[
										320126,
										320138
									],
									[
										320176,
										320188
									],
									[
										320377,
										320389
									],
									[
										320711,
										320723
									],
									[
										320992,
										321004
									],
									[
										321069,
										321081
									],
									[
										321122,
										321134
									],
									[
										321361,
										321373
									],
									[
										321689,
										321701
									],
									[
										321744,
										321756
									],
									[
										321896,
										321908
									],
									[
										321929,
										321941
									],
									[
										321962,
										321974
									],
									[
										322030,
										322042
									],
									[
										322116,
										322128
									],
									[
										322224,
										322236
									],
									[
										322312,
										322324
									],
									[
										322345,
										322357
									],
									[
										322375,
										322387
									],
									[
										322465,
										322477
									],
									[
										322561,
										322573
									],
									[
										322764,
										322776
									],
									[
										323040,
										323052
									],
									[
										323312,
										323324
									],
									[
										323573,
										323585
									],
									[
										323732,
										323744
									],
									[
										323980,
										323992
									],
									[
										324385,
										324397
									],
									[
										324443,
										324455
									],
									[
										324687,
										324699
									],
									[
										325002,
										325014
									],
									[
										325275,
										325287
									],
									[
										325334,
										325346
									],
									[
										325606,
										325618
									],
									[
										325849,
										325861
									],
									[
										325879,
										325891
									],
									[
										325917,
										325929
									],
									[
										326226,
										326238
									],
									[
										326689,
										326701
									],
									[
										327302,
										327314
									],
									[
										327374,
										327386
									],
									[
										328036,
										328048
									],
									[
										328487,
										328499
									],
									[
										328596,
										328608
									],
									[
										328764,
										328776
									],
									[
										328815,
										328827
									],
									[
										328956,
										328968
									],
									[
										329096,
										329108
									],
									[
										329120,
										329132
									],
									[
										329931,
										329943
									],
									[
										330221,
										330233
									],
									[
										330485,
										330497
									],
									[
										330654,
										330666
									],
									[
										330690,
										330702
									],
									[
										330779,
										330791
									],
									[
										330880,
										330892
									],
									[
										331081,
										331093
									],
									[
										331182,
										331194
									],
									[
										331295,
										331307
									],
									[
										331518,
										331530
									],
									[
										331544,
										331556
									],
									[
										331627,
										331639
									],
									[
										331669,
										331681
									],
									[
										331713,
										331725
									],
									[
										331742,
										331754
									],
									[
										332076,
										332088
									],
									[
										332417,
										332429
									],
									[
										332529,
										332541
									],
									[
										332544,
										332556
									],
									[
										332635,
										332647
									],
									[
										332742,
										332754
									],
									[
										332757,
										332769
									],
									[
										332853,
										332865
									],
									[
										332931,
										332943
									],
									[
										332963,
										332975
									],
									[
										332978,
										332990
									],
									[
										333019,
										333031
									],
									[
										333060,
										333072
									],
									[
										333075,
										333087
									],
									[
										333116,
										333128
									],
									[
										333166,
										333178
									],
									[
										333186,
										333198
									],
									[
										333255,
										333267
									],
									[
										333330,
										333342
									],
									[
										333361,
										333373
									],
									[
										333376,
										333388
									],
									[
										333417,
										333429
									],
									[
										333467,
										333479
									],
									[
										333487,
										333499
									],
									[
										333556,
										333568
									],
									[
										333662,
										333674
									],
									[
										333677,
										333689
									],
									[
										333772,
										333784
									],
									[
										333873,
										333885
									],
									[
										333888,
										333900
									],
									[
										333978,
										333990
									],
									[
										334084,
										334096
									],
									[
										334099,
										334111
									],
									[
										334194,
										334206
									],
									[
										334299,
										334311
									],
									[
										334314,
										334326
									],
									[
										334407,
										334419
									],
									[
										334514,
										334526
									],
									[
										334529,
										334541
									],
									[
										334624,
										334636
									],
									[
										334736,
										334748
									],
									[
										334751,
										334763
									],
									[
										334851,
										334863
									],
									[
										334972,
										334984
									],
									[
										334987,
										334999
									],
									[
										335096,
										335108
									],
									[
										335212,
										335224
									],
									[
										335227,
										335239
									],
									[
										335332,
										335344
									],
									[
										335449,
										335461
									],
									[
										335464,
										335476
									],
									[
										335570,
										335582
									],
									[
										335670,
										335682
									],
									[
										335685,
										335697
									],
									[
										335774,
										335786
									],
									[
										335871,
										335883
									],
									[
										335886,
										335898
									],
									[
										335972,
										335984
									],
									[
										336074,
										336086
									],
									[
										336089,
										336101
									],
									[
										336180,
										336192
									],
									[
										336273,
										336285
									],
									[
										336288,
										336300
									],
									[
										336369,
										336381
									],
									[
										336473,
										336485
									],
									[
										336488,
										336500
									],
									[
										336581,
										336593
									],
									[
										336673,
										336685
									],
									[
										336688,
										336700
									],
									[
										336769,
										336781
									],
									[
										336860,
										336872
									],
									[
										336875,
										336887
									],
									[
										336954,
										336966
									],
									[
										337040,
										337052
									],
									[
										337055,
										337067
									],
									[
										337129,
										337141
									],
									[
										337221,
										337233
									],
									[
										337236,
										337248
									],
									[
										337316,
										337328
									],
									[
										337411,
										337423
									],
									[
										337426,
										337438
									],
									[
										337509,
										337521
									],
									[
										337603,
										337615
									],
									[
										337618,
										337630
									],
									[
										337700,
										337712
									],
									[
										337812,
										337824
									],
									[
										337894,
										337906
									],
									[
										337942,
										337954
									],
									[
										338051,
										338063
									],
									[
										338137,
										338149
									],
									[
										338185,
										338197
									],
									[
										338271,
										338283
									],
									[
										338286,
										338298
									],
									[
										338360,
										338372
									],
									[
										338458,
										338470
									],
									[
										338473,
										338485
									],
									[
										338559,
										338571
									],
									[
										338658,
										338670
									],
									[
										338673,
										338685
									],
									[
										338760,
										338772
									],
									[
										338864,
										338876
									],
									[
										338879,
										338891
									],
									[
										338963,
										338975
									],
									[
										339283,
										339295
									],
									[
										339409,
										339421
									],
									[
										339424,
										339436
									],
									[
										339522,
										339534
									],
									[
										339610,
										339622
									],
									[
										339625,
										339637
									],
									[
										339702,
										339714
									],
									[
										339942,
										339954
									],
									[
										340175,
										340187
									],
									[
										340401,
										340413
									],
									[
										340776,
										340788
									],
									[
										341025,
										341037
									],
									[
										341291,
										341303
									],
									[
										341429,
										341441
									],
									[
										341576,
										341588
									],
									[
										342153,
										342165
									],
									[
										342729,
										342741
									],
									[
										343269,
										343281
									],
									[
										343649,
										343661
									],
									[
										343874,
										343886
									],
									[
										344051,
										344063
									],
									[
										344066,
										344078
									],
									[
										344115,
										344127
									],
									[
										344174,
										344186
									],
									[
										344227,
										344239
									],
									[
										344427,
										344439
									],
									[
										344787,
										344799
									],
									[
										344973,
										344985
									],
									[
										345121,
										345133
									],
									[
										345321,
										345333
									],
									[
										345463,
										345475
									],
									[
										345646,
										345658
									],
									[
										345795,
										345807
									],
									[
										345970,
										345982
									],
									[
										346108,
										346120
									],
									[
										346285,
										346297
									],
									[
										346397,
										346409
									],
									[
										346658,
										346670
									],
									[
										346737,
										346749
									],
									[
										346786,
										346798
									],
									[
										346877,
										346889
									],
									[
										346965,
										346977
									],
									[
										347061,
										347073
									],
									[
										347154,
										347166
									],
									[
										347235,
										347247
									],
									[
										347322,
										347334
									],
									[
										347416,
										347428
									],
									[
										347521,
										347533
									],
									[
										347629,
										347641
									],
									[
										347719,
										347731
									],
									[
										347818,
										347830
									],
									[
										347917,
										347929
									],
									[
										348014,
										348026
									],
									[
										348096,
										348108
									],
									[
										348193,
										348205
									],
									[
										348289,
										348301
									],
									[
										348372,
										348384
									],
									[
										348458,
										348470
									],
									[
										348532,
										348544
									],
									[
										348628,
										348640
									],
									[
										348826,
										348838
									],
									[
										349011,
										349023
									],
									[
										349204,
										349216
									],
									[
										349453,
										349465
									],
									[
										349714,
										349726
									],
									[
										350279,
										350285
									],
									[
										350495,
										350501
									],
									[
										350751,
										350757
									],
									[
										350778,
										350784
									],
									[
										350963,
										350969
									],
									[
										351256,
										351262
									],
									[
										351561,
										351567
									],
									[
										351602,
										351608
									],
									[
										351662,
										351668
									],
									[
										352075,
										352081
									],
									[
										352315,
										352321
									],
									[
										352661,
										352667
									],
									[
										352821,
										352827
									],
									[
										352957,
										352963
									],
									[
										353467,
										353473
									],
									[
										353772,
										353778
									],
									[
										354203,
										354209
									],
									[
										354509,
										354515
									],
									[
										354775,
										354781
									],
									[
										354993,
										354999
									],
									[
										355179,
										355185
									],
									[
										355395,
										355401
									],
									[
										355803,
										355809
									],
									[
										356006,
										356012
									],
									[
										356136,
										356142
									],
									[
										356255,
										356261
									],
									[
										356376,
										356382
									],
									[
										356485,
										356491
									],
									[
										356949,
										356955
									],
									[
										357351,
										357357
									],
									[
										357697,
										357703
									],
									[
										357728,
										357734
									],
									[
										357947,
										357953
									],
									[
										357976,
										357982
									],
									[
										358240,
										358246
									],
									[
										358427,
										358433
									],
									[
										358540,
										358546
									],
									[
										358888,
										358894
									],
									[
										359146,
										359152
									],
									[
										359361,
										359367
									],
									[
										359629,
										359635
									],
									[
										359942,
										359948
									],
									[
										360077,
										360083
									],
									[
										360183,
										360189
									],
									[
										360528,
										360534
									],
									[
										361032,
										361038
									],
									[
										361332,
										361338
									],
									[
										361403,
										361409
									],
									[
										361705,
										361711
									],
									[
										361814,
										361820
									],
									[
										362114,
										362120
									],
									[
										362218,
										362224
									],
									[
										362506,
										362512
									],
									[
										362785,
										362791
									],
									[
										363178,
										363184
									],
									[
										363576,
										363582
									],
									[
										363901,
										363907
									],
									[
										364143,
										364149
									],
									[
										364489,
										364495
									],
									[
										364850,
										364856
									],
									[
										365086,
										365092
									],
									[
										365497,
										365503
									],
									[
										365938,
										365944
									],
									[
										365980,
										365986
									],
									[
										366155,
										366161
									],
									[
										366287,
										366293
									],
									[
										366360,
										366366
									],
									[
										366482,
										366488
									],
									[
										366794,
										366800
									],
									[
										367347,
										367353
									],
									[
										367691,
										367697
									],
									[
										368058,
										368064
									],
									[
										368382,
										368388
									],
									[
										368718,
										368724
									],
									[
										368850,
										368856
									],
									[
										369215,
										369221
									],
									[
										369502,
										369508
									],
									[
										369816,
										369822
									],
									[
										369960,
										369966
									],
									[
										370188,
										370194
									],
									[
										370534,
										370540
									],
									[
										370746,
										370752
									],
									[
										371231,
										371237
									],
									[
										371247,
										371253
									],
									[
										371618,
										371624
									],
									[
										371868,
										371874
									],
									[
										372412,
										372418
									],
									[
										372438,
										372444
									],
									[
										372840,
										372846
									],
									[
										373382,
										373388
									],
									[
										373827,
										373833
									],
									[
										373967,
										373973
									],
									[
										374416,
										374422
									],
									[
										374544,
										374550
									],
									[
										374946,
										374952
									],
									[
										374983,
										374989
									],
									[
										375334,
										375340
									],
									[
										375392,
										375398
									],
									[
										375745,
										375751
									],
									[
										376094,
										376100
									],
									[
										376446,
										376452
									],
									[
										376673,
										376679
									],
									[
										376690,
										376696
									],
									[
										376895,
										376901
									],
									[
										376925,
										376931
									],
									[
										377118,
										377124
									],
									[
										377340,
										377346
									],
									[
										377655,
										377661
									],
									[
										378003,
										378009
									],
									[
										378374,
										378380
									],
									[
										378555,
										378561
									],
									[
										378724,
										378730
									],
									[
										378919,
										378925
									],
									[
										379100,
										379106
									],
									[
										462732,
										462738
									],
									[
										464431,
										464437
									],
									[
										464454,
										464460
									],
									[
										530130,
										530136
									],
									[
										631909,
										631915
									],
									[
										633608,
										633614
									],
									[
										633631,
										633637
									],
									[
										699307,
										699313
									],
									[
										717728,
										717734
									],
									[
										718019,
										718025
									],
									[
										718482,
										718488
									],
									[
										718678,
										718684
									],
									[
										719124,
										719130
									],
									[
										719253,
										719259
									],
									[
										719829,
										719835
									],
									[
										720369,
										720375
									],
									[
										720858,
										720864
									],
									[
										721088,
										721094
									],
									[
										721311,
										721317
									],
									[
										721669,
										721675
									],
									[
										722084,
										722090
									],
									[
										736581,
										736587
									],
									[
										736596,
										736602
									],
									[
										745760,
										745766
									],
									[
										745769,
										745775
									],
									[
										746000,
										746006
									],
									[
										746410,
										746416
									]
								],
								"scope": ""
							}
						},
						"selection":
						[
							[
								349950,
								349950
							]
						],
						"settings":
						{
							"default_dir": "/home/guhurak/Documents/back-end/app/services",
							"detect_indentation": false,
							"git_gutter_is_enabled": false,
							"line_numbers": false,
							"output_tag": 2,
							"result_base_dir": "",
							"result_file_regex": "^([^ \t].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 105965.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "/home/guhurak/Documents/back-end/app/services/push_log_service.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1488,
						"regions":
						{
						},
						"selection":
						[
							[
								1488,
								1488
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "/home/guhurak/Documents/back-end/app/models/ios_device.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3398,
						"regions":
						{
						},
						"selection":
						[
							[
								982,
								982
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "/home/guhurak/Documents/back-end/app/models/android_device.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1904,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "/home/guhurak/Documents/back-end/app/models/log_ios_push.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3038,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 404.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "/home/guhurak/Documents/back-end/app/services/communaute_reminders_manager.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1155,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "/home/guhurak/Documents/back-end/app/controllers/administration/communaute_accesses_controller.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9161,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "/home/guhurak/Documents/back-end/app/views/administration/communaute_accesses/index.html.erb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8354,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Rails/HTML (Rails).sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 546.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "/home/guhurak/Documents/back-end/app/controllers/ideas_controller.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2204,
						"regions":
						{
						},
						"selection":
						[
							[
								1146,
								1146
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "/home/guhurak/Documents/back-end/app/jobs/notify_everybody_in_communaute_job.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 266,
						"regions":
						{
						},
						"selection":
						[
							[
								36,
								36
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "/home/guhurak/Documents/back-end/app/controllers/admin_controller.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4749,
						"regions":
						{
						},
						"selection":
						[
							[
								3468,
								3468
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1321.0,
						"zoom_level": 1.0
					},
					"stack_index": 17,
					"type": "text"
				},
				{
					"buffer": 15,
					"file": "/home/guhurak/Documents/back-end/app/views/admin/steeple_boxes/index.html.erb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 867,
						"regions":
						{
						},
						"selection":
						[
							[
								477,
								477
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"open_with_edit": true,
							"syntax": "Packages/Rails/HTML (Rails).sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true,
							"typescript_plugin_format_options":
							{
								"convertTabsToSpaces": true,
								"indentSize": 2,
								"tabSize": 2
							}
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"type": "text"
				},
				{
					"buffer": 16,
					"file": "/home/guhurak/Documents/back-end/docs/database.md",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5470,
						"regions":
						{
						},
						"selection":
						[
							[
								1301,
								1301
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Markdown/Markdown.sublime-syntax",
							"typescript_plugin_format_options":
							{
								"convertTabsToSpaces": true,
								"indentSize": 2,
								"tabSize": 2
							}
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "/home/guhurak/Documents/back-end/app/models/notification.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 23752,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 1.0,
						"translation.y": 6313.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "/home/guhurak/Documents/back-end/app/models/idea.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1427,
						"regions":
						{
						},
						"selection":
						[
							[
								918,
								918
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "/home/guhurak/Documents/back-end/app/controllers/api/v1/modules/ideas_controller.rb",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1977,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"syntax": "Packages/Ruby/Ruby.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
			]
		}
	],
	"incremental_find":
	{
		"height": 25.0
	},
	"input":
	{
		"height": 47.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.977241693218,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.doc":
	{
		"height": 0.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "back-end.sublime-project",
	"replace":
	{
		"height": 46.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"log_ios",
				"app/models/log_ios_push.rb"
			],
			[
				"and",
				"app/models/android_device.rb"
			],
			[
				"ios_",
				"app/models/ios_device.rb"
			],
			[
				"push",
				"app/services/push_log_service.rb"
			],
			[
				"idea_con",
				"app/controllers/api/v1/modules/ideas_controller.rb"
			],
			[
				"idea",
				"app/models/idea.rb"
			],
			[
				"noti",
				"app/models/notification.rb"
			],
			[
				"anon",
				"app/services/anonymizer_service.rb"
			],
			[
				"data",
				"docs/database.md"
			],
			[
				"suivi",
				"app/javascript/views/coach/suivi_client.vue"
			],
			[
				"coach.html",
				"app/views/admin/coachs.html.erb"
			],
			[
				"pigeon_loft.r",
				"app/models/pigeon_loft.rb"
			],
			[
				"steeple_boce",
				"app/controllers/admin/steeple_boxes_controller.rb"
			],
			[
				"route",
				"config/routes.rb"
			],
			[
				"pigeon_loft_",
				"app/services/pigeon_loft_external_service.rb"
			],
			[
				"pigeon",
				"app/models/pigeon_loft.rb"
			],
			[
				"communaute_acc",
				"app/models/communaute_access.rb"
			],
			[
				"communaute",
				"app/models/communaute.rb"
			],
			[
				"annonc",
				"app/models/annonce.rb"
			],
			[
				"mentio",
				"app/models/mention.rb"
			],
			[
				"pigeon_loft_ex",
				"app/services/pigeon_loft_external_service.rb"
			],
			[
				"notification_cont",
				"app/controllers/api/v1/notifications_controller.rb"
			],
			[
				"extensio_aut",
				"app/controllers/administration/extensions_auths_controller.rb"
			],
			[
				"user_communu",
				"app/models/user_communaute.rb"
			],
			[
				"compar",
				"app/services/identity_providers/compare_service.rb"
			],
			[
				"add_well",
				"db/migrate/20200827151051_add_well_being_modul.rb"
			],
			[
				"user_communautes_controller",
				"app/controllers/administration/user_communautes_controller.rb"
			],
			[
				"schem",
				"db/schema.rb"
			],
			[
				"communautes_controller",
				"app/controllers/api/v1/communautes_controller.rb"
			],
			[
				"rails",
				"spec/rails_helper.rb"
			],
			[
				"user.",
				"app/models/user.rb"
			],
			[
				"communaute_accesses_contr",
				"app/controllers/administration/communaute_accesses_controller.rb"
			],
			[
				"communaute_accesses/in",
				"app/views/administration/communaute_accesses/index.html.erb"
			],
			[
				"notific",
				"app/models/notification.rb"
			],
			[
				"channels/",
				"app/channels/annonces_channel.rb"
			],
			[
				"cable/conf",
				"cable/config.ru"
			],
			[
				"annonce",
				"app/models/annonce.rb"
			],
			[
				"annonces_controller",
				"app/controllers/api/v1/annonces_controller.rb"
			],
			[
				"sche",
				"db/schema.rb"
			],
			[
				"campaign/",
				"app/views/admin/campaigns/index.html.erb"
			],
			[
				"apploication.",
				"app/views/layouts/application.html.erb"
			],
			[
				"random",
				"spec/models/moduls/random_draw_spec.rb"
			],
			[
				"modul.",
				"app/models/modul.rb"
			],
			[
				"custom_module_pr",
				"app/views/administration/custom_modules/_custom_module_preview.html.erb"
			],
			[
				"rails_",
				"spec/rails_helper.rb"
			],
			[
				"custom_module.rb",
				"app/models/custom_module.rb"
			],
			[
				"pusher/and",
				"app/models/pusher/android.rb"
			],
			[
				"send_no",
				"app/jobs/v2/send_notification_job.rb"
			],
			[
				"notif",
				"app/models/notification.rb"
			],
			[
				"communaute_accesse",
				"app/controllers/api/v1/communaute_accesses_controller.rb"
			],
			[
				"devices/sh",
				"app/views/admin/devices/show.html.erb"
			],
			[
				"devices/bug",
				"app/views/admin/devices/_bug.html.erb"
			],
			[
				"devices/ta",
				"app/views/admin/devices/_table.html.erb"
			],
			[
				"devices/inde",
				"app/views/admin/devices/index.html.erb"
			],
			[
				"anony",
				"app/services/anonymizer_service.rb"
			],
			[
				"devices",
				"app/controllers/admin/devices_controller.rb"
			],
			[
				"annonces_con",
				"app/controllers/api/v1/annonces_controller.rb"
			],
			[
				"tunn",
				"app/controllers/api/v1/tunnel_controller.rb"
			],
			[
				"tunne",
				"app/controllers/tunnel_controller.rb"
			],
			[
				"clean_",
				"app/jobs/clean_old_well_being_votes_job.rb"
			],
			[
				"ano",
				"app/services/anonymizer_service.rb"
			],
			[
				"des",
				"app/jobs/destroy_user_job.rb"
			],
			[
				"user",
				"app/models/user.rb"
			],
			[
				"feu",
				"app/models/feu.rb"
			],
			[
				"gem",
				"Gemfile"
			],
			[
				"scim/group",
				"app/controllers/scim/groups_controller.rb"
			],
			[
				"application_control",
				"app/controllers/application_controller.rb"
			],
			[
				"application_co",
				"app/controllers/api/v1/application_controller.rb"
			],
			[
				"annonces_contr",
				"app/controllers/annonces_controller.rb"
			],
			[
				"annonces_cont",
				"app/controllers/api/v1/annonces_controller.rb"
			],
			[
				"annonce.",
				"app/models/annonce.rb"
			],
			[
				"auto_sca",
				"app/jobs/admin/auto_scale_heroku_worker_job.rb"
			],
			[
				"applica",
				"config/application.rb"
			],
			[
				"modul/en",
				"config/locales/modul/en.yml"
			],
			[
				"custom_modules_controller",
				"app/controllers/api/v1/custom_modules_controller.rb"
			],
			[
				"notification_",
				"app/jobs/notification_seen_job.rb"
			],
			[
				"proc",
				"Procfile"
			],
			[
				"puma",
				"config/puma.rb"
			],
			[
				"modules",
				"config/locales/views/modules/modules.fr.yml"
			],
			[
				"trans",
				"app/javascript/translation.js"
			],
			[
				"well_being/sh",
				"app/views/modules/well_being/_show.html.erb"
			],
			[
				"wellbeing",
				"app/javascript/vue/components/wellBeingResults.vue"
			],
			[
				"send_vote",
				"app/jobs/modules/well_being/send_votes_job.rb"
			],
			[
				"well_beingform",
				"app/views/modules/well_being/_form.html.erb"
			],
			[
				"modules.e",
				"config/locales/views/modules/modules.en.yml"
			],
			[
				"config/locales/modul",
				"config/locales/modul/fr.yml"
			],
			[
				"config/locales/module",
				"config/locales/modul/en.yml"
			],
			[
				"config/locals/moduls/fr",
				"config/locales/views/modules/modules.fr.yml"
			],
			[
				"birthday_e",
				"app/jobs/birthday_events_watcher_job.rb"
			],
			[
				".env",
				".env"
			],
			[
				".ev",
				".env.development"
			],
			[
				"annonces",
				"app/controllers/api/v1/annonces_controller.rb"
			],
			[
				"routes",
				"config/routes.rb"
			],
			[
				"auto",
				"app/views/admin/communautes/auto_login_tokens.html.erb"
			],
			[
				"pro",
				"Procfile"
			],
			[
				"datab",
				"docs/database.md"
			],
			[
				"image_service",
				"app/services/image_service.rb"
			],
			[
				"image_syst",
				"app/jobs/temporary/image_system_update_job.rb"
			],
			[
				"install",
				"docs/Install.md"
			],
			[
				"databa",
				"docs/database.md"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": false,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 363.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
